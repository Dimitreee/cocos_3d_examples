System.register("chunks:///_virtual/active-change.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProfilerManager.ts"],(function(e){var t,r,i,a,n,o,c,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,c=e.Node,s=e.profiler,l=e.Component},function(e){u=e.ProfilerManager}],execute:function(){var p,h,g,d,f,v;n._RF.push({},"858203AB+NG5aVJJY57I+2I","active-change",void 0);var y=o.ccclass,N=o.property,m=o.menu;e("activechange",(p=y("SIMPLE-HOLE.active-change"),h=m("demo/simple-hole/active-change"),g=N({type:c}),p(d=h((v=t((f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"targetNode",v,a(t)),t}r(t,e);var n=t.prototype;return n.start=function(){this.node.addComponent(u)},n.changeActive=function(){this.targetNode&&(this.targetNode.active=!this.targetNode.active,s&&(this.targetNode.active?s.showStats():s.hideStats()))},t}(l)).prototype,"targetNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d)||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/AxisHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,e,r,s,t,o,a;return{setters:[function(n){i=n.inheritsLoose},function(n){e=n.cclegacy,r=n._decorator,s=n.loader,t=n.Prefab,o=n.instantiate,a=n.Component}],execute:function(){var c,l;e._RF.push({},"5bb94205NtNprcLIythUQv4","AxisHelper",void 0);var u=r.ccclass,_=(r.property,r.menu);n("AxisHelper",u("COMMON.AxisHelper")(c=_("common/AxisHelper")(((l=function(n){function e(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this)._ins=null,i}i(e,n);var r=e.prototype;return r.__preload=function(){null==e._axis&&s.loadRes("common/prefabs/Axis",t,(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i&&(i[0]?console.error(i[0]):(e._axis=i[1],e._insArr.forEach((function(n){!n._ins&&n.enabled&&n.enabledInHierarchy&&n.node.active&&n.node.activeInHierarchy&&n.onEnable()}))))}))},r.onLoad=function(){e._insArr.push(this)},r.onEnable=function(){e._axis&&(null==this._ins&&(this._ins=o(e._axis),this.node.addChild(this._ins)),this._ins.active=!0)},r.onDisable=function(){this._ins&&(this._ins.active=!1)},r.onDestroy=function(){var n=e._insArr.indexOf(this);n>=0&&e._insArr.splice(n,1)},e}(a))._axis=null,l._insArr=[],c=l))||c)||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/backbutton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scenelist.ts"],(function(e){var t,n,o,s,c,i,r,a,l,u,d,_,f,m,h,N;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,s=e._decorator,c=e.Vec3,i=e.game,r=e.Canvas,a=e.Layers,l=e.director,u=e.LabelComponent,d=e.ScrollView,_=e.Button,f=e.Director,m=e.Layout,h=e.Component},function(e){N=e.sceneArray}],execute:function(){var p,g;o._RF.push({},"022e0824UxEDY4MQ1JBg2L7","backbutton",void 0);var v=s.ccclass,x=(s.property,s.menu);e("BackButton",v("TEST-LIST.BackButton")(p=x("misc/test-list/BackButton")(((g=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var s=o.prototype;return s.__preload=function(){for(var e=i._sceneInfos.map((function(e){return e.url})).sort(),t=0;t<e.length;t++){var n=e[t];if(!(n.includes("TestList")||n.includes("subPack")||n.includes("editor-only")||n.includes("experiment"))){var o=n.lastIndexOf("/")+1,s=n.lastIndexOf(".scene");N.push(n.substring(o,s))}}},o.saveOffset=function(){o._scrollNode&&(o._offset=new c(0,o._scrollCom.getScrollOffset().y,0))},o.saveIndex=function(e){o._sceneIndex=e,o.refreshButton()},o.refreshButton=function(){-1===o._sceneIndex?(o._prevNode.active=!1,o._nextNode.active=!1):(o._prevNode.active=!0,o._nextNode.active=!0)},s.start=function(){var e=this.node.getComponent(r).cameraComponent;e.visibility&a.Enum.UI_2D&&(e.visibility&=~a.Enum.UI_2D),this.sceneName=l.getScene().getChildByName("backRoot").getChildByName("sceneName").getComponent(u),i.addPersistRootNode(this.node),o._scrollNode=this.node.getParent().getChildByPath("Canvas/ScrollView"),o._scrollNode&&(o._scrollCom=o._scrollNode.getComponent(d)),o._prevNode=this.node.getChildByName("PrevButton"),o._nextNode=this.node.getChildByName("NextButton"),o._prevNode&&o._nextNode&&(o._prevButton=o._prevNode.getComponent(_),o._nextButton=o._nextNode.getComponent(_),o.refreshButton()),l.on(f.EVENT_BEFORE_SCENE_LOADING,this.switchSceneName,this)},s.switchSceneName=function(){null!=this.getSceneName()&&(this.sceneName.node.active=!0,this.sceneName.string=this.getSceneName())},s.backToList=function(){i.isPaused()&&i.resume(),l.loadScene("TestList",function(){this.sceneName.node.active=!1,o._sceneIndex=-1,o.refreshButton(),o._scrollNode=this.node.getParent().getChildByPath("Canvas/ScrollView"),o._scrollNode&&(o._scrollCom=o._scrollNode.getComponent(d),o._scrollCom._content.getComponent(m).updateLayout(),o._scrollCom.scrollToOffset(o.offset,.1,!0))}.bind(this))},s.nextScene=function(){i.isPaused()&&i.resume(),o._nextButton.interactable=!1,this.updateSceneIndex(!0),l.loadScene(this.getSceneName(),(function(){o._nextButton.interactable=!0}))},s.preScene=function(){i.isPaused()&&i.resume(),o._prevButton.interactable=!1,this.updateSceneIndex(!1),l.loadScene(this.getSceneName(),(function(){o._prevButton.interactable=!0}))},s.updateSceneIndex=function(e){e?o._sceneIndex+1>=N.length?o._sceneIndex=0:o._sceneIndex+=1:o._sceneIndex-1<0?o._sceneIndex=N.length-1:o._sceneIndex-=1},s.getSceneName=function(){return N[o._sceneIndex]},n(o,null,[{key:"offset",get:function(){return o._offset},set:function(e){o._offset=e}}]),o}(h))._offset=new c,g._scrollNode=null,g._scrollCom=null,g._sceneIndex=-1,p=g))||p)||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/ball-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,y,s,h,r,c,a,l,d,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){y=e.cclegacy,s=e._decorator,h=e.math,r=e.RigidBodyComponent,c=e.clamp,a=e.input,l=e.Input,d=e.KeyCode,k=e.Component}],execute:function(){var _,u,p,C,f,T;y._RF.push({},"5c1ab3nl3JP65UZCjDnwRVw","ball-control",void 0);var E=s.ccclass,D=s.property,A=s.menu,S=new h.Vec3,v=new h.Vec3,g=new h.Vec2,b="W".charCodeAt(0),H="S".charCodeAt(0),N="A".charCodeAt(0),O="D".charCodeAt(0),m="w".charCodeAt(0),w="s".charCodeAt(0),F="a".charCodeAt(0),K="d".charCodeAt(0),I=function(e){return e[e.NONE=0]="NONE",e[e.W=1]="W",e[e.A=2]="A",e[e.S=4]="S",e[e.D=8]="D",e[e.SHIFT=16]="SHIFT",e}(I||{});e("ballcontrol",(_=E("RALL-A-BALL.ballcontrol"),u=A("demo/roll-a-ball/ballcontrol"),p=D({slide:!0,range:[1,3,.01]}),_(C=u((T=t((f=function(e){function t(){for(var t,o=arguments.length,y=new Array(o),s=0;s<o;s++)y[s]=arguments[s];return t=e.call.apply(e,[this].concat(y))||this,i(t,"shiftScale",T,n(t)),t._rigidBody=null,t._key=I.NONE,t}o(t,e);var y=t.prototype;return y.start=function(){this._rigidBody=this.getComponent(r)},y.update=function(e){this._key&I.W&&(S.z=1),this._key&I.S&&(S.z=-1),this._key&I.A&&(S.x=1),this._key&I.D&&(S.x=-1),this._key&I.SHIFT&&S.multiplyScalar(this.shiftScale),0==S.z&&0==S.x||(this._rigidBody.applyImpulse(S),S.set(0,0,0),this._rigidBody.getLinearVelocity(v),v.x=c(v.x,-4,4),v.y=c(v.y,-4,4),v.z=c(v.z,-4,4),this._rigidBody.setLinearVelocity(v))},y.onEnable=function(){a.on(l.EventType.KEY_DOWN,this.onKeyDown,this),a.on(l.EventType.KEY_UP,this.onKeyUp,this),a.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),a.on(l.EventType.TOUCH_END,this.onTouchEnd,this)},y.onDisable=function(){a.off(l.EventType.KEY_DOWN,this.onKeyDown,this),a.off(l.EventType.KEY_UP,this.onKeyUp,this),a.off(l.EventType.TOUCH_MOVE,this.onTouchMove,this),a.off(l.EventType.TOUCH_END,this.onTouchEnd,this)},y.onKeyDown=function(e){e.keyCode==m||e.keyCode==b?this._key|=I.W:e.keyCode===w||e.keyCode===H?this._key|=I.S:e.keyCode===F||e.keyCode===N?this._key|=I.A:e.keyCode===K||e.keyCode===O?this._key|=I.D:e.keyCode===d.SHIFT_LEFT&&(this._key|=I.SHIFT)},y.onKeyUp=function(e){e.keyCode==m||e.keyCode==b?this._key&=~I.W:e.keyCode===w||e.keyCode===H?this._key&=~I.S:e.keyCode===F||e.keyCode===N?this._key&=~I.A:e.keyCode===K||e.keyCode===O?this._key&=~I.D:e.keyCode===d.SHIFT_LEFT&&(this._key&=~I.SHIFT)},y.onTouchMove=function(e,t){e.getDelta(g),g.x>2?(this._key|=I.D,this._key&=~I.A):g.x<-2&&(this._key|=I.A,this._key&=~I.D),g.y>2?(this._key|=I.W,this._key&=~I.S):g.y<-2&&(this._key|=I.S,this._key&=~I.W)},y.onTouchEnd=function(e,t){this._key=I.NONE},t}(k)).prototype,"shiftScale",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),C=f))||C)||C));y._RF.pop()}}}));

System.register("chunks:///_virtual/BallCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TempConst.ts","./ColumnCtr.ts","./FloorFlagCtr.ts"],(function(t){var e,i,o,n,r,l,s,d,a,u,c,y,h,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){l=t.cclegacy,s=t._decorator,d=t.RigidBodyComponent,a=t.ColliderComponent,u=t.ERigidBodyType,c=t.Component},function(t){y=t.v3_t},function(t){h=t.ColumnCtr},function(t){C=t.FloorFlagCtr}],execute:function(){var p,g,f,m,_,B,b,v,F,L;l._RF.push({},"1eb123sIqxKN7XiewOH7vLG","BallCtr",void 0);var w=s.ccclass,R=s.property,k=s.requireComponent,I=s.menu;t("BallCtr",(p=w("FALLING-BALL.BallCtr"),g=k(d),f=I("demo/falling-ball/BallCtr"),m=R({type:h}),_=R({type:C}),p(B=g(B=f((v=e((b=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))||this).rigidBody=null,o(e,"velocity_y",v,n(e)),o(e,"columnCtr",F,n(e)),o(e,"floorFlagCtr",L,n(e)),e._deadlockCount=0,e._tempUuid="",e._hitRedFlag=0,e}i(e,t);var l=e.prototype;return l.onLoad=function(){this.rigidBody=this.getComponent(d),this.rigidBody.allowSleep=!1},l.start=function(){this.getComponent(a).on("onCollisionEnter",this.onCollisionEnter,this)},l.onCollisionEnter=function(t){y.set(this.node.worldPosition),y.y=t.otherCollider.node.worldPosition.y+1,this.node.worldPosition=y,"CubeRed"==t.otherCollider.node.name?(this._hitRedFlag=1,this.rigidBody.clearState(),this.rigidBody.type=u.KINEMATIC,this.columnCtr.enabled=!1,this.floorFlagCtr.enabled=!1):"Cube"==t.otherCollider.node.name&&(y.set(0,this.velocity_y,0),this.rigidBody.setLinearVelocity(y),this._tempUuid==t.otherCollider.node.uuid?this._deadlockCount++:(this._tempUuid=t.otherCollider.node.uuid,this._deadlockCount=0))},l.update=function(){this.rigidBody.getLinearVelocity(y),y.y>this.velocity_y&&(y.set(0,this.velocity_y,0),this.rigidBody.setLinearVelocity(y)),y.y<-60&&(y.set(0,-60,0),this.rigidBody.setLinearVelocity(y))},l.reset=function(){this.rigidBody.type=u.DYNAMIC,this._hitRedFlag=0,y.set(0,6,4.5),this.node.worldPosition=y},r(e,[{key:"hitRed",get:function(){return 1==this._hitRedFlag}},{key:"isDeadlock",get:function(){return this._deadlockCount>=2}}]),e}(c)).prototype,"velocity_y",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),F=e(b.prototype,"columnCtr",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(b.prototype,"floorFlagCtr",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=b))||B)||B)||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/BearingController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,i,s,l,u,c,a,h,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,l=e.Vec3,u=e.Node,c=e.sys,a=e.Input,h=e.input,v=e.Component}],execute:function(){var f,d,p,m,b,S,g;i._RF.push({},"9e612gcyRZPP7XNi3a9hw7L","BearingController",void 0);var y=s.ccclass,M=s.property,T=s.menu,E=new l;e("BearingController",(f=y("CHARACTER.BearingController"),d=T("experiment/character-controller/BearingController"),p=M({type:u}),f(m=d((S=n((b=function(e){function n(){var n;return n=e.call(this)||this,r(n,"invScaleFator",S,o(n)),r(n,"fullScreen",g,o(n)),n}t(n,e);var i=n.prototype;return i.onEnable=function(){c.isBrowser&&(this._bind=this.onFullScreenChange.bind(this),document.addEventListener("fullscreenchange",this._bind,!1)),this.fullScreen.children[0].on(a.EventType.TOUCH_START,this.onTouchStart,this)},i.onDisable=function(){c.isBrowser&&document.removeEventListener("fullscreenchange",this._bind,!1),this.fullScreen.children[0].off(a.EventType.TOUCH_START,this.onTouchStart,this)},i.onTouchStart=function(e){var n=document.body;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock(),n.requestFullscreen=n.requestFullscreen||n.requestFullscreen||n.mozRequestFullScreen||n.webkitRequestFullscreen,n.requestFullscreen()},i.onFullScreenChange=function(){this.fullScreen.active=!this.fullScreen.active,this.fullScreen.active?c.isBrowser?document.removeEventListener("mousemove",this._bind2,!1):h.off(a.EventType.MOUSE_MOVE,this.onMouseMove,this):c.isBrowser?(this._bind2=this.onMouseMove.bind(this),document.addEventListener("mousemove",this._bind2,!1)):h.on(a.EventType.MOUSE_MOVE,this.onMouseMove,this)},i.onMouseMove=function(e){var n=0;n=c.isBrowser?e.movementX||e.mozMovementX||e.webkitMovementX||0:e.getDeltaX();var t=this.node.eulerAngles.y;E.set(0,t+-n*Math.abs(n)/this.invScaleFator,0),this.node.eulerAngles=E},n}(v)).prototype,"invScaleFator",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),g=n(b.prototype,"fullScreen",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m)||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/Benchmark.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProfilerManager.ts"],(function(e){var t,n,i,r,a,o,s,l,u,h,c,p,b,f,g,d,m,B,y,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Vec3,l=e.Prefab,u=e.Node,h=e.EditBox,c=e.LabelComponent,p=e.Toggle,b=e.RigidBodyComponent,f=e.PhysicsSystem,g=e.instantiate,d=e.randomRange,m=e.math,B=e.Component,y=e.Vec2},function(e){x=e.ProfilerManager}],execute:function(){var C,R,S,v,z,_,w,E,T,I,N,k,A,D,Z,P,F,X,Y,L,M,V,W,K,H,O,j,G,q,J,Q,U,$,ee,te,ne,ie;a._RF.push({},"3f09bZ6iAhGi7ITvWduO+pN","Benchmark",void 0);var re=o.ccclass,ae=o.property,oe=o.menu,se=e("KEY_INIT_STR","KEY_INIT_STR"),le=new s(0,3,0);e("Benchmark",(C=re("BENCHMARK.Benchmark"),R=oe("demo/benchmark/Benchmark"),S=ae({type:l}),v=ae({type:l}),z=ae({type:l}),_=ae({type:l}),w=ae({type:u}),E=ae({type:u}),T=ae({type:u}),I=ae({type:u}),N=ae({type:h}),k=ae({type:c}),A=ae({type:p}),D=ae({type:h}),Z=ae({type:h}),P=ae({type:h}),F=ae({type:b}),C(X=R((L=t((Y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"box",L,r(t)),i(t,"sphere",M,r(t)),i(t,"boxRB",V,r(t)),i(t,"sphereRB",W,r(t)),i(t,"boxContainer",K,r(t)),i(t,"sphereContainer",H,r(t)),i(t,"boxRBContainer",O,r(t)),i(t,"sphereRBContainer",j,r(t)),i(t,"rangeY",G,r(t)),i(t,"rangeXZ",q,r(t)),i(t,"rangeSize",J,r(t)),i(t,"l_editBox",Q,r(t)),i(t,"l_current",U,r(t)),i(t,"r_rotateToggle",$,r(t)),i(t,"r_frameRateEditBox",ee,r(t)),i(t,"r_subStepEditBox",te,r(t)),i(t,"r_IntervalEditBox",ne,r(t)),i(t,"rotateDynamics",ie,r(t)),t.initBoxCount=0,t.initSphereCount=0,t.initBoxRBCount=0,t.initSphereRBCount=0,t.intervalCurrent=0,t.intervalNumber=0,t.enableRotate=!0,t}n(t,e);var a=t.prototype;return a.start=function(){this.node.addComponent(x);var e=localStorage.getItem(se),t="";if(null!=e&&""!=e?this.l_editBox.string=t=e:t=this.l_editBox.string,""!=t){var n=t.split("-");if(n&&n.length>0)for(var i=0;i<n.length;i++){var r=parseInt(n[i]);if(!isNaN(r))switch(i){case 0:this.initBoxCount=r;break;case 1:this.initSphereCount=r;break;case 2:this.initBoxRBCount=r;break;case 3:this.initSphereRBCount=r}}}this.l_current.string="目前数量："+this.initBoxCount+"-"+this.initSphereCount+"-"+this.initBoxRBCount+"-"+this.initSphereRBCount,this.instantiate(this.initBoxCount,this.box,this.boxContainer),this.instantiate(this.initSphereCount,this.sphere,this.sphereContainer),this.instantiate(this.initBoxRBCount,this.boxRB,this.boxRBContainer),this.instantiate(this.initSphereRBCount,this.sphereRB,this.sphereRBContainer),this.onRotateToggole(this.r_rotateToggle),this.onEditFrameRate(this.r_frameRateEditBox),this.onEditSubStep(this.r_subStepEditBox),this.onEditInterval(this.r_IntervalEditBox),f.instance.resetAccumulator(0)},a.update=function(){0==this.intervalCurrent?(f.instance.enable=!0,this.intervalCurrent=this.intervalNumber):(this.intervalCurrent--,f.instance.enable=!1),this.enableRotate?this.rotateDynamics.setAngularVelocity(le):this.rotateDynamics.setAngularVelocity(s.ZERO)},a.onDestroy=function(){f.instance.enable=!0,f.instance.fixedTimeStep=1/60,f.instance.maxSubSteps=1,f.instance.gravity=new s(0,-10,0)},a.instantiate=function(e,t,n){for(var i=0;i<e;i++)this.instantiateSingle(t,n)},a.instantiateSingle=function(e,t){var n=g(e);this.resetTransformSingle(n),t.addChild(n),this.updateCurrentLab()},a.resetTransforms=function(){for(var e=0;e<this.boxContainer.children.length;e++){var t=this.boxContainer.children[e];this.resetTransformSingle(t)}for(var n=0;n<this.sphereContainer.children.length;n++){var i=this.sphereContainer.children[n];this.resetTransformSingle(i)}for(var r=0;r<this.boxRBContainer.children.length;r++){var a=this.boxRBContainer.children[r];this.resetTransformSingle(a)}for(var o=0;o<this.sphereRBContainer.children.length;o++){var s=this.sphereRBContainer.children[o];this.resetTransformSingle(s)}},a.resetTransformSingle=function(e){var t=d(this.rangeY.x,this.rangeY.y),n=d(this.rangeXZ.x,this.rangeXZ.y),i=d(this.rangeXZ.x,this.rangeXZ.y);e.setWorldPosition(n,t,i),n=d(0,360),t=d(0,360),i=d(0,360),e.setRotationFromEuler(n,t,i),Math.random()>.3&&(n=d(this.rangeSize.x,this.rangeSize.y),t=d(this.rangeSize.x,this.rangeSize.y),i=d(this.rangeSize.x,this.rangeSize.y),"Sphere"==e.name||"Sphere-RB"==e.name?e.setWorldScale(n,n,n):e.setWorldScale(n,t,i))},a.updateCurrentLab=function(){var e=this.boxContainer.children.length,t=this.sphereContainer.children.length,n=this.boxRBContainer.children.length,i=this.sphereRBContainer.children.length;this.l_current.string="目前数量："+e+"-"+t+"-"+n+"-"+i},a.onAddBox=function(e,t){this.instantiate(5,this.box,this.boxContainer)},a.onAddSphere=function(e,t){this.instantiate(5,this.sphere,this.sphereContainer)},a.onAddBoxRB=function(e,t){this.instantiate(5,this.boxRB,this.boxRBContainer)},a.onAddSphereRB=function(e,t){this.instantiate(5,this.sphereRB,this.sphereRBContainer)},a.onEditFinish=function(e){var t=e.string;""!=t&&localStorage.setItem(se,t)},a.onReset=function(e,t){this.resetTransforms()},a.onRotateToggole=function(e){this.enableRotate=e.isChecked},a.onEditFrameRate=function(e){var t=parseInt(e.string);if(!isNaN(t)){var n=m.clamp(t,30,300);e.string=n+"",f.instance.fixedTimeStep=1/n}},a.onEditSubStep=function(e){var t=parseInt(e.string);isNaN(t)||t>=0&&(f.instance.maxSubSteps=t)},a.onEditInterval=function(e){var t=parseInt(e.string);isNaN(t)||t>=0&&(this.intervalNumber=t)},t}(B)).prototype,"box",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(Y.prototype,"sphere",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(Y.prototype,"boxRB",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(Y.prototype,"sphereRB",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(Y.prototype,"boxContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(Y.prototype,"sphereContainer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(Y.prototype,"boxRBContainer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(Y.prototype,"sphereRBContainer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(Y.prototype,"rangeY",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(10,100)}}),q=t(Y.prototype,"rangeXZ",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(-50,50)}}),J=t(Y.prototype,"rangeSize",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(.5,5)}}),Q=t(Y.prototype,"l_editBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(Y.prototype,"l_current",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Y.prototype,"r_rotateToggle",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Y.prototype,"r_frameRateEditBox",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Y.prototype,"r_subStepEditBox",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Y.prototype,"r_IntervalEditBox",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Y.prototype,"rotateDynamics",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=Y))||X)||X));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonusMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InstanceMgr.ts"],(function(o){var n,e,t,r,i,s,a,l,u,c,h,p,d;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,s=o._decorator,a=o.LabelComponent,l=o.Node,u=o.Quat,c=o.director,h=o.ColliderComponent,p=o.Component},function(o){d=o.InstanceMgr}],execute:function(){var f,g,B,m,M,v,L,b;i._RF.push({},"6190cMw1ExGq48SzhOdBt8E","BonusMgr",void 0);var y=s.ccclass,C=s.property,E=s.menu,w=(o("BonusMgr",(f=y("SIMPLE-CAR.BonusMgr"),g=E("demo/simple-car/BonusMgr"),B=C({type:a}),m=C({type:l}),f(M=g((L=n((v=function(o){function n(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return n=o.call.apply(o,[this].concat(i))||this,t(n,"scoreLb",L,r(n)),t(n,"mapNode",b,r(n)),n.allBonus=[],n.score=0,n}e(n,o);var i=n.prototype;return i.onLoad=function(){d.registerInstance("BonusMgr",this),c.once("onMapLoaded",this.onMapLoaded,this)},i.onDisable=function(){c.off("onMapLoaded",this.onMapLoaded,this)},i.start=function(){for(var o=d.MotorCom.getComponents(h),n=0;n<o.length;n++)o[n].on("onTriggerEnter",this.onTriggerEnterBonus,this)},i.update=function(o){if(this.allBonus.length>0){this.allBonus[0].rotate(w);for(var n=1;n<this.allBonus.length;n++){this.allBonus[n].setRotation(this.allBonus[0].rotation)}}},i.onMapLoaded=function(){for(var o=0;o<this.mapNode.children.length;o++){var n=this.mapNode.children[o];"Bonus-Cocos"==n.name&&this.allBonus.push(n)}},i.onTriggerEnterBonus=function(o){if("Bonus-Cocos"==o.otherCollider.node.name){var n=this.allBonus.indexOf(o.otherCollider.node);n>=0&&(this.allBonus.splice(n,1),this.score++,this.scoreLb.string=this.score.toString(),o.otherCollider.node.active=!1)}},n}(p)).prototype,"scoreLb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(v.prototype,"mapNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=v))||M)||M)),u.fromEuler(new u,0,3,0));i._RF.pop()}}}));

System.register("chunks:///_virtual/Buoyancy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WaterWaves.ts"],(function(e){var i,t,n,a,o,r,l,s,u,d,g,h,c,p,y,m,_,b,f,v,x,w,z;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,l=e._decorator,s=e.Vec3,u=e.Quat,d=e.Mat4,g=e.RigidBody,h=e.Collider,c=e.Node,p=e.MeshRenderer,y=e.clamp,m=e.lerp,_=e.PhysicsSystem,b=e.Primitive,f=e.Material,v=e.gfx,x=e.Color,w=e.Component},function(e){z=e.WaterWaves}],execute:function(){var M,S,B,V,D,C,W;r._RF.push({},"00abejjFgBExrcbNppVZofv","Buoyancy",void 0);var I=l.ccclass,R=l.property,N=l.menu,A=l.requireComponent,F=new s,P=new s,T=new s,E=new s,L=(new s,new u),U=new d;e("Buoyancy",I("BUOYANCY.Buoyancy")(M=A(g)(M=A(h)(M=N("demo/buoyancy/Buoyancy")((B=i((S=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,n(i,"density",B,a(i)),n(i,"dampingInWater",V,a(i)),n(i,"angularDampingInWater",D,a(i)),n(i,"normalizedVoxelSize",C,a(i)),n(i,"debugVoxel",W,a(i)),i._rigidBody=null,i._collider=null,i._initDamping=.1,i._initAngularDamping=.1,i._voxelSize=new s,i._voxels=[],i._debugMat=null,i._debugMesh=null,i._debugVoxelRoot=null,i._debugVoxelScale=new s(.5,.5,.5),i}t(i,e);var r=i.prototype;return r.start=function(){if(this._rigidBody=this.getComponent(g),this._initDamping=this._rigidBody.linearDamping,this._initAngularDamping=this._rigidBody.angularDamping,this._collider=this.getComponent(h),this.voxelization(),this.debugVoxel){this._debugVoxelRoot=new c("debugVoxelRoot"),this.node.addChild(this._debugVoxelRoot),s.multiplyScalar(this._debugVoxelScale,this._debugVoxelScale,this.normalizedVoxelSize);for(var e=0;e<this._voxels.length;e++){var i=new c("debugVoxel_"+e),t=i.addComponent(p);this._debugVoxelRoot.addChild(i),t.mesh=this.DebugMesh,t.material=this.DebugMat,i.scale=this._debugVoxelScale,i.position=this._voxels[e]}}},r.lateUpdate=function(e){this.solver()},r.solver=function(){if(z.instance._inited){var e=this._voxels;if(e.length>0){var i=F;this.maxBuoyancyForce(i),s.multiplyScalar(i,i,1/e.length);for(var t=this._collider.worldBounds.halfExtents.y*this.normalizedVoxelSize*2,n=0,a=0;a<e.length;a++){var o=P;s.transformMat4(o,e[a],this.node.worldMatrix);var r=z.instance.getWaterHeight(o)-o.y+t/2,l=y(r/t,0,1);if(n+=l,this.debugVoxel&&(this._debugVoxelRoot.children[a].active=0!=l),0!=l){var d=L,g=E;z.instance.getSurfaceNormal(o,g),u.rotationTo(d,s.UP,g),u.slerp(d,d,u.IDENTITY,l);var h=T;s.multiplyScalar(h,i,l),s.transformQuat(h,h,d),s.subtract(o,o,this.node.worldPosition),this._rigidBody.applyForce(h,o)}}n/=e.length,this._rigidBody.linearDamping=m(this._initDamping,this.dampingInWater,n),this._rigidBody.angularDamping=m(this._initAngularDamping,this.angularDampingInWater,n)}}},r.maxBuoyancyForce=function(e){var i=this._rigidBody.mass/this.density,t=z.instance.Density;s.multiplyScalar(e,_.instance.gravity,-t*i)},r.voxelization=function(){var e=this._voxelSize,i=this._collider.worldBounds;s.multiplyScalar(e,i.halfExtents,2*this.normalizedVoxelSize);var t=Math.round(1/this.normalizedVoxelSize),n=new s,a=new s;i.getBoundary(n,a),d.invert(U,this.node.worldMatrix);for(var o=0;o<t;o++)for(var r=0;r<t;r++)for(var l=0;l<t;l++){var u=new s(n.x+e.x*(.5+o),n.y+e.y*(.5+r),n.z+e.z*(.5+l));s.transformMat4(u,u,U),this._voxels.push(u)}},o(i,[{key:"DebugMesh",get:function(){return null==this._debugMesh&&(this._debugMesh=new b(b.PrimitiveType.BOX),this._debugMesh.onLoaded()),this._debugMesh}},{key:"DebugMat",get:function(){return null==this._debugMat&&(this._debugMat=new f,this._debugMat.initialize({effectName:"unlit",defines:{USE_INSTANCING:!0},states:{depthStencilState:{depthFunc:v.ComparisonFunc.ALWAYS}}}),this._debugMat.setProperty("mainColor",new x(0,255,0,255)),this._debugMat.onLoaded()),this._debugMat}}]),i}(w)).prototype,"density",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=i(S.prototype,"dampingInWater",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),D=i(S.prototype,"angularDampingInWater",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),C=i(S.prototype,"normalizedVoxelSize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),W=i(S.prototype,"debugVoxel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=S))||M)||M)||M)||M);r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TempConst.ts"],(function(t){var e,o,i,r,n,l,a,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,a=t.Node,s=t.lerp,c=t.Component},function(t){u=t.v3_t}],execute:function(){var p,d,f,h,y,w,g,m;n._RF.push({},"5f826M2zJxAuqjoPVFCOn3x","CameraFollow",void 0);var P=l.ccclass,b=l.property,v=l.menu;t("CameraFollow",(p=P("FALLING-BALL.CameraFollow"),d=v("demo/falling-ball/CameraFollow"),f=b({type:a}),p(h=d((w=e((y=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"targetNode",w,r(e)),i(e,"tolerance",g,r(e)),i(e,"step",m,r(e)),e._offset=0,e}o(e,t);var n=e.prototype;return n.start=function(){this._offset=this.node.worldPosition.y-this.targetNode.worldPosition.y},n.lateUpdate=function(){var t=this.node.worldPosition.y,e=this.targetNode.worldPosition.y+this._offset;t-e>this.tolerance&&(u.set(this.node.worldPosition),u.y=s(t,e,this.step),this.node.worldPosition=u)},n.reset=function(){u.set(this.node.worldPosition),u.y=this.targetNode.worldPosition.y+this._offset,this.node.worldPosition=u},e}(c)).prototype,"targetNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(y.prototype,"tolerance",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),m=e(y.prototype,"step",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),h=y))||h)||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/CameraFollow2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,r,t,n,i,l,a,s,c,u,f,p,w;return{setters:[function(e){o=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.Vec3,s=e.Node,c=e.director,u=e.Director,f=e.Quat,p=e.Mat4,w=e.Component}],execute:function(){var h,b,m,d,g,y,D,E;i._RF.push({},"eb5f21JM0ZDc5F9u43WjUrH","CameraFollow",void 0);var F=l.ccclass,T=l.property,v=l.menu,R=new a,_=new a,k=new a;e("CameraFollow",(h=F("SIMPLE-CAR.CameraFollow"),b=v("demo/simple-car/CameraFollow"),m=T({type:s}),h(d=b((y=o((g=function(e){function o(){for(var o,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return o=e.call.apply(e,[this].concat(i))||this,t(o,"lookTarget",y,n(o)),t(o,"offset",D,n(o)),t(o,"epsilon",E,n(o)),o}r(o,e);var i=o.prototype;return i.onEnable=function(){c.on(u.EVENT_BEFORE_DRAW,this.beforeDraw,this)},i.onDisable=function(){c.off(u.EVENT_BEFORE_DRAW,this.beforeDraw,this)},i.beforeDraw=function(){var e=this.lookTarget.eulerAngles.y,o=f.fromEuler(new f,0,e,0),r=p.fromRT(new p,o,this.lookTarget.worldPosition);R.set(this.offset),R.transformMat4(r),_.lerp(R,.2),this.node.worldPosition=_,R.set(this.lookTarget.worldPosition),k.lerp(R,.2),this.node.lookAt(k)},o}(w)).prototype,"lookTarget",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=o(g.prototype,"offset",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),E=o(g.prototype,"epsilon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.001}}),d=g))||d)||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/CcdTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,n,t,o,r,l,a,c,s,d,u,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.RigidBody,c=e.RigidBodyComponent,s=e.Collider,d=e.Vec3,u=e.physics,p=e.Component}],execute:function(){var f,h,y,g,C,m,v,w;r._RF.push({},"fc17fNnsepNJ5nGb88n00K7","CcdTest",void 0);var b=l.ccclass,_=l.property,R=l.menu;e("CcdTest",(f=b("CCD.CcdTest"),h=R("experiment/ccd/CcdTest"),y=_(a),f(g=h((m=i((C=function(e){function i(){for(var i,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return i=e.call.apply(e,[this].concat(r))||this,t(i,"interval",m,o(i)),t(i,"linearVelocity",v,o(i)),t(i,"greenRigidBody",w,o(i)),i._initPos=[],i._flag=Number.MIN_VALUE,i}n(i,e);var r=i.prototype;return r.start=function(){var e=this;this.node.children.forEach((function(i){e._initPos.push(i.worldPosition.clone())}));var i=this;this.node.children.forEach((function(n){var t=n.getComponent(c);-1!=n.name.toLowerCase().search("ccd")&&(t.useCCD=!0,-1!=n.name.toLowerCase().search("event")&&n.getComponent(s).on("onCollisionEnter",e.onCollisionEnter,e)),t.setLinearVelocity(new d(0,0,-i.linearVelocity))})),this._flag=performance.now()+1e3*this.interval},r.update=function(e){var i=performance.now();if(this._flag<i){this.greenRigidBody.type=u.ERigidBodyType.DYNAMIC;var n=this;this.node.children.forEach((function(e,i){e.worldPosition=n._initPos[i];var t=e.getComponent(c);t&&t.setLinearVelocity(new d(0,0,-n.linearVelocity))})),this._flag=i+1e3*this.interval}},r.onCollisionEnter=function(e){console.log(e.selfCollider.node.name,"collide with",e.otherCollider.node.name),this.greenRigidBody.isDynamic&&(this.greenRigidBody.type=u.ERigidBodyType.STATIC)},i}(p)).prototype,"interval",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),v=i(C.prototype,"linearVelocity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e5}}),w=i(C.prototype,"greenRigidBody",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=C))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,n,s,a,p,h,c,u,l,_,y,b,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,o=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,p=t.Enum,h=t.Vec3,c=t.EAxisDirection,u=t.warn,l=t.ModelComponent,_=t.PhysicsSystem,y=t.director,b=t.Director,C=t.Component}],execute:function(){var d,m,f,S,g,w,A,O,E,P,v,j,x,k,D,R,H,T,z,I,L,M,V,K,G,Y;s._RF.push({},"da1cdwh0t9CN4iolBxARKCE","CharacterController",void 0);var B=a.ccclass,N=a.property,U=a.menu,q=function(t){return t[t.BOX=0]="BOX",t[t.SPHERE=1]="SPHERE",t[t.CAPSULE=2]="CAPSULE",t[t.CONE=3]="CONE",t[t.CYLINDER=4]="CYLINDER",t}(q||{});p(q);var F=new h,W=(d=B("CHARACTER.ConvexShape"),m=N({type:q}),f=N({type:h,visible:function(){return this.type==q.BOX}}),S=N({visible:function(){return this.type==q.SPHERE||this.type==q.CAPSULE||this.type==q.CONE||this.type==q.CYLINDER}}),g=N({type:c,visible:function(){return this.type==q.CAPSULE||this.type==q.CONE||this.type==q.CYLINDER}}),w=N({visible:function(){return this.type==q.CONE||this.type==q.CYLINDER}}),A=N({visible:function(){return this.type==q.CAPSULE}}),d((P=e((E=function(){function t(){r(this,"type",P,this),r(this,"_data",v,this),this._btCS=null}return t.prototype.initialize=function(t){switch(h.equals(t.worldScale,h.ONE)||u("[CHARACTER]: unsupported character scale for now"),this.type){case q.BOX:var e=new Ammo.btVector3(this._data[0]/2,this._data[1]/2,this._data[2]/2);this._btCS=new Ammo.btBoxShape(e);break;case q.SPHERE:this._btCS=new Ammo.btSphereShape(this._data[0]);break;case q.CONE:this._btCS=new Ammo.btConeShape(this._data[0],this._data[2]),this._btCS.setConeUpIndex(this._data[1]);break;case q.CYLINDER:var i=new Ammo.btVector3(this._data[0],this._data[2]/2,this._data[0]);this._btCS=new Ammo.btCylinderShape(i),this._btCS.updateProp(this._data[0],this._data[2]/2,this._data[1]);break;case q.CAPSULE:this._btCS=new Ammo.btCapsuleShape(this._data[0],this._data[2]/2),this._btCS.updateProp(this._data[0],this._data[2]/2,this._data[1]);break;default:u("[CHARACTER]: unspported convex shape type")}},i(t,[{key:"size",get:function(){return F.set(this._data[0],this._data[1],this._data[2]),F},set:function(t){this._data[0]=t.x,this._data[1]=t.y,this._data[2]=t.z}},{key:"radius",get:function(){return this._data[0]},set:function(t){this._data[0]=t}},{key:"direction",get:function(){return this._data[1]},set:function(t){this._data[1]=t}},{key:"height",get:function(){return this._data[2]},set:function(t){this._data[2]=t}},{key:"cylinderHeight",get:function(){return this._data[2]},set:function(t){this._data[2]=t}},{key:"data",get:function(){return this._data}},{key:"impl",get:function(){return this._btCS}}]),t}()).prototype,"type",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.CAPSULE}}),e(E.prototype,"size",[f],Object.getOwnPropertyDescriptor(E.prototype,"size"),E.prototype),e(E.prototype,"radius",[S],Object.getOwnPropertyDescriptor(E.prototype,"radius"),E.prototype),e(E.prototype,"direction",[g],Object.getOwnPropertyDescriptor(E.prototype,"direction"),E.prototype),e(E.prototype,"height",[w],Object.getOwnPropertyDescriptor(E.prototype,"height"),E.prototype),e(E.prototype,"cylinderHeight",[A],Object.getOwnPropertyDescriptor(E.prototype,"cylinderHeight"),E.prototype),v=e(E.prototype,"_data",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[.5,1,1,0,0,0,0,0,0,0,0,0]}}),O=E))||O);t("CharacterController",(j=B("CHARACTER.CharacterController"),x=U("experiment/character-controller/CharacterController"),k=N({type:c}),D=N({type:W}),j(R=x((T=e((H=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"USE_282",T,n(e)),r(e,"convexShape",z,n(e)),r(e,"_stepHeight",I,n(e)),r(e,"_walkSpeed",L,n(e)),r(e,"_upAxis",M,n(e)),r(e,"_slopeLimit",V,n(e)),r(e,"_fallSpeed",K,n(e)),r(e,"_jumpSpeed",G,n(e)),r(e,"_gravity",Y,n(e)),e._index=-1,e._group=1,e._mask=-1,e}o(e,t);var s=e.prototype;return s.__preload=function(){window.CC_PHYSICS_AMMO&&(null==e.TEMP_BTVECTOR3&&(e.TEMP_BTVECTOR3=new Ammo.btVector3),this.convexShape.initialize(this.node),this._btConvexShape=this.convexShape.impl,this._quat=new Ammo.btQuaternion(0,0,0,1),this._btGhostObject=new Ammo.btPairCachingGhostObject,Ammo.castObject(this._btGhostObject,Ammo.btCollisionObject).useCharacter=!0,this._btGhostObject.setCollisionShape(this._btConvexShape),this._btGhostObject.setCollisionFlags(16),this._btGhostObject.setActivationState(4),this.upAxis==c.X_AXIS?this._up=new Ammo.btVector3(1,0,0):this.upAxis==c.Y_AXIS?this._up=new Ammo.btVector3(0,1,0):this.upAxis==c.Z_AXIS&&(this._up=new Ammo.btVector3(0,0,1)),this.USE_282?this._btKCC=new Ammo.ccKinematicCharacterController(this._btGhostObject,this._btConvexShape,this.stepHeight,this.upAxis):(this._btKCC=new Ammo.btKinematicCharacterController(this._btGhostObject,this._btConvexShape,this.stepHeight,this._up),this.node.getComponent(l).enabled=!1,this.node.getComponentInChildren(l).enabled=!0,this._btKCC.setGravity(new Ammo.btVector3(this._up.x()*this.gravity,this._up.y()*this.gravity,this._up.z()*this.gravity))),this._btKCC.setUseGhostSweepTest(!1),this._btKCC.setMaxSlope(this._slopeLimit/180*Math.PI),this._btKCC.setMaxJumpHeight(this._slopeLimit/180*Math.PI),this._btKCC.setFallSpeed(this.fallSpeed),this._btKCC.setJumpSpeed(this.jumpSpeed),this._walkDirection=new Ammo.btVector3(0,0,0))},s.onEnable=function(){if(window.CC_PHYSICS_AMMO){var t=_.instance.physicsWorld.impl;t.addCollisionObject(this._btGhostObject,this._group,this._mask),t.addAction(this._btKCC),this._index=1,y.on(b.EVENT_BEFORE_PHYSICS,this.onBeforePhysics,this),y.on(b.EVENT_AFTER_PHYSICS,this.onAfterPhysics,this)}},s.onDisable=function(){if(window.CC_PHYSICS_AMMO){y.off(b.EVENT_BEFORE_PHYSICS,this.onBeforePhysics,this),y.off(b.EVENT_AFTER_PHYSICS,this.onAfterPhysics,this);var t=_.instance.physicsWorld.impl;t.removeCollisionObject(this._btGhostObject),t.removeAction(this._btKCC),this._index=-1}},s.onDestroy=function(){window.CC_PHYSICS_AMMO&&(this.convexShape=null,Ammo.destroy(this._btConvexShape),Ammo.destroy(this._btKCC),Ammo.destroy(this._btGhostObject),Ammo.destroy(this._up),Ammo.destroy(this._quat),Ammo.destroy(this._walkDirection))},s.onBeforePhysics=function(){this.node.hasChangedFlags&&this.syncSceneToPhysics()},s.syncSceneToPhysics=function(){var t=this.node.worldPosition,e=this.node.worldRotation,i=this._btGhostObject.getWorldTransform();i.getOrigin().setValue(t.x,t.y,t.z),i.getBasis().getRotation(this._quat),this._quat.setValue(e.x,e.y,e.z,e.w)},s.onAfterPhysics=function(){var t=this._btGhostObject.getWorldTransform(),e=t.getOrigin();this.node.setWorldPosition(e.x(),e.y(),e.z()),t.getBasis().getRotation(this._quat),this.node.setWorldRotation(this._quat.x(),this._quat.y(),this._quat.z(),this._quat.w()),this._walkDirection.setValue(0,0,0),this._btKCC.setWalkDirection(this._walkDirection)},s.move=function(t){if(window.CC_PHYSICS_AMMO){var e=this._walkDirection.x(),i=this._walkDirection.y(),o=this._walkDirection.z();this._walkDirection.setValue(e+t.x,i+t.y,o+t.z),this._btKCC.setWalkDirection(this._walkDirection)}},s.jump=function(t){void 0===t&&(t=h.ZERO),window.CC_PHYSICS_AMMO&&(e.TEMP_BTVECTOR3.setValue(t.x,t.y,t.z),this._btKCC.jump(e.TEMP_BTVECTOR3))},s.setCollisionFilter=function(t,e){if(window.CC_PHYSICS_AMMO&&(this._group=t,this._mask=e,-1!=this._index)){var i=_.instance.physicsWorld.impl;i.removeCollisionObject(this._btGhostObject),i.removeAction(this._btKCC),i.addCollisionObject(this._btGhostObject,t,e),i.addAction(this._btKCC)}},i(e,[{key:"stepHeight",get:function(){return this._stepHeight},set:function(t){this._stepHeight=t}},{key:"walkSpeed",get:function(){return this._walkSpeed},set:function(t){this._walkSpeed=t}},{key:"jumpSpeed",get:function(){return this._jumpSpeed},set:function(t){this._jumpSpeed=t}},{key:"fallSpeed",get:function(){return this._fallSpeed},set:function(t){this._fallSpeed=t}},{key:"slopeLimit",get:function(){return this._slopeLimit},set:function(t){this._slopeLimit=t}},{key:"gravity",get:function(){return this._gravity},set:function(t){this._gravity=t}},{key:"upAxis",get:function(){return this._upAxis},set:function(t){this._upAxis=t}},{key:"onGround",get:function(){return this._btKCC.onGround()}},{key:"impl",get:function(){return this._btKCC}}]),e}(C)).prototype,"USE_282",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(H.prototype,"stepHeight",[N],Object.getOwnPropertyDescriptor(H.prototype,"stepHeight"),H.prototype),e(H.prototype,"walkSpeed",[N],Object.getOwnPropertyDescriptor(H.prototype,"walkSpeed"),H.prototype),e(H.prototype,"jumpSpeed",[N],Object.getOwnPropertyDescriptor(H.prototype,"jumpSpeed"),H.prototype),e(H.prototype,"fallSpeed",[N],Object.getOwnPropertyDescriptor(H.prototype,"fallSpeed"),H.prototype),e(H.prototype,"slopeLimit",[N],Object.getOwnPropertyDescriptor(H.prototype,"slopeLimit"),H.prototype),e(H.prototype,"gravity",[N],Object.getOwnPropertyDescriptor(H.prototype,"gravity"),H.prototype),e(H.prototype,"upAxis",[k],Object.getOwnPropertyDescriptor(H.prototype,"upAxis"),H.prototype),z=e(H.prototype,"convexShape",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),I=e(H.prototype,"_stepHeight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),L=e(H.prototype,"_walkSpeed",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),M=e(H.prototype,"_upAxis",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Y_AXIS}}),V=e(H.prototype,"_slopeLimit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),K=e(H.prototype,"_fallSpeed",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 55}}),G=e(H.prototype,"_jumpSpeed",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Y=e(H.prototype,"_gravity",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9.8*3}}),R=H))||R)||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterControllerHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterControllerTest2.ts"],(function(e){var t,o,n,C,s,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,C=e.LabelComponent,s=e.CharacterController,i=e.Component},function(e){a=e.CharacterControllerTest}],execute:function(){var l;o._RF.push({},"6ca8eAS0jtMp4jGSLwSoDa4","CharacterControllerHelper",void 0);var r=n.ccclass,h=(n.property,n.menu);e("CharacterControllerHelper",r("COMMON.CharacterControllerHelper")(l=h("common/CharacterControllerHelper")(l=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),C=0;C<o;C++)n[C]=arguments[C];return(t=e.call.apply(e,[this].concat(n))||this)._BoxCCT=null,t._CapsuleCCT=null,t._ActiveCCT=null,t._slopeLimitComp=null,t._stepOffsetComp=null,t._SkinWidthComp=null,t._scaleComp=null,t._descComp=null,t}t(o,e);var n=o.prototype;return n.onLoad=function(){},n.start=function(){this._BoxCCT=this.node.scene.getChildByName("BoxCCT"),this._CapsuleCCT=this.node.scene.getChildByName("CapsuleCCT");var e=this.node.scene.getChildByName("Canvas").getChildByName("最大爬坡角度");this._slopeLimitComp=e.getChildByName("最大爬坡角度数值").getComponent(C);var t=this.node.scene.getChildByName("Canvas").getChildByName("最大台阶高度");this._stepOffsetComp=t.getChildByName("最大台阶高度数值").getComponent(C);var o=this.node.scene.getChildByName("Canvas").getChildByName("皮肤宽度");this._SkinWidthComp=o.getChildByName("皮肤宽度数值").getComponent(C);var n=this.node.scene.getChildByName("Canvas").getChildByName("节点缩放");this._scaleComp=n.getChildByName("节点缩放数值").getComponent(C);var s=this.node.scene.getChildByName("Canvas").getChildByName("测试说明");this._descComp=s.getComponent(C),this._BoxCCT.active=!0,this._CapsuleCCT.active=!0,this.onUseCapsuleCharacterController()},n.onDestroy=function(){},n.onUseCapsuleCharacterController=function(){this._BoxCCT.getComponent(a).onSetInvalidPosition(),this._CapsuleCCT.getComponent(a).onResetPosition(),this._ActiveCCT=this._CapsuleCCT},n.onUseBoxCharacterController=function(){this._CapsuleCCT.getComponent(a).onSetInvalidPosition(),this._BoxCCT.getComponent(a).onResetPosition(),this._ActiveCCT=this._BoxCCT},n.onResetCCTPosition=function(){this._ActiveCCT.getComponent(a).onResetPosition()},n.onChangeCCTSlopeLimit=function(e){var t=Math.floor(90*e._progress);this._CapsuleCCT.getComponent(s).slopeLimit=t,this._BoxCCT.getComponent(s).slopeLimit=t,this._slopeLimitComp.string=t.toString()},n.onChangeCCTStepOffset=function(e){var t=e._progress;this._CapsuleCCT.getComponent(s).stepOffset=t,this._BoxCCT.getComponent(s).stepOffset=t,this._stepOffsetComp.string=t.toFixed(2)},n.onChangeCCTContactOffset=function(e){var t=.2*e._progress;this._CapsuleCCT.getComponent(s).skinWidth=t,this._BoxCCT.getComponent(s).skinWidth=t,this._SkinWidthComp.string=t.toFixed(2)},n.onChangeCCTNodeScale=function(e){var t=3*e._progress;t<.1&&(t=.1),this._CapsuleCCT.setWorldScale(t,t,t),this._BoxCCT.setWorldScale(t,t,t),this._scaleComp.string=t.toFixed(2)},n.onEnableTestDesc=function(e){this._descComp.enabled=!this._descComp.enabled},o}(i))||l)||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterControllerTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterController.ts"],(function(t){var i,e,n,o,a,s,r,c,l,h,_,u,m,p,f,y,d,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Vec3,c=t.Quat,l=t.AnimationComponent,h=t.Node,_=t.input,u=t.Input,m=t.sys,p=t.KeyCode,f=t.EventMouse,y=t.EventType,d=t.Component},function(t){g=t.CharacterController}],execute:function(){var C,E,b,w,F,T,D,v,S,K,k,B,A,I,Y;a._RF.push({},"6b16fSKabpI8qiyV0GS94//","CharacterControllerTest",void 0);var L=s.ccclass,M=s.property,N=s.menu,P=new r,z=new c,H=null;t("CharacterControllerTest",(C=L("CHARACTER.CharacterControllerTest"),E=N("experiment/character-controller/CharacterControllerTest"),b=M({type:g}),w=M({type:l}),F=M({type:h}),T=M({type:h}),C(D=E((S=i((v=function(t){function i(){var i;return i=t.call(this)||this,n(i,"character",S,o(i)),n(i,"animation",K,o(i)),n(i,"mainBearing",k,o(i)),n(i,"refBearing",B,o(i)),n(i,"speed",A,o(i)),n(i,"shiftScale",I,o(i)),n(i,"rotateFactor",Y,o(i)),i._isJump=!1,i._stateX=0,i._stateZ=0,i._shiftFactor=1,i._combatFlag=3,i._isAltDown=!1,i._constraint=0,H=o(i),i}e(i,t);var a=i.prototype;return a.onEnable=function(){_.on(u.EventType.KEY_DOWN,this.onKeyDown,this),_.on(u.EventType.KEY_UP,this.onKeyUp,this),m.isBrowser?document.addEventListener("mousedown",this.onMouseDown2,!1):_.on(u.EventType.MOUSE_DOWN,this.onMouseDown,this)},a.onDisable=function(){_.off(u.EventType.KEY_DOWN,this.onKeyDown,this),_.off(u.EventType.KEY_UP,this.onKeyUp,this),m.isBrowser?document.removeEventListener("mousedown",this.onMouseDown2,!1):_.off(u.EventType.MOUSE_DOWN,this.onMouseDown,this)},a.onKeyDown=function(t){t.keyCode==p.KEY_W?this._stateZ=1:t.keyCode==p.KEY_S?this._stateZ=-1:t.keyCode==p.KEY_A?this._stateX=1:t.keyCode==p.KEY_D?this._stateX=-1:t.keyCode==p.SPACE?this._isJump=!0:t.keyCode==p.SHIFT_LEFT?this._shiftFactor=this.shiftScale:t.keyCode==p.ALT_LEFT?this._isAltDown=!0:t.keyCode==p.KEY_Z&&(this._combatFlag=2)},a.onKeyUp=function(t){t.keyCode==p.KEY_W||t.keyCode==p.KEY_S?this._stateZ=0:t.keyCode==p.KEY_D||t.keyCode==p.KEY_A?this._stateX=0:t.keyCode==p.SPACE?this._isJump=!1:t.keyCode==p.SHIFT_LEFT?this._shiftFactor=1:t.keyCode==p.ALT_LEFT&&(this._isAltDown=!1)},a.onMouseDown=function(t){t.getButton()==f.BUTTON_RIGHT&&(this._combatFlag=1)},a.onMouseDown2=function(t){t.button==f.BUTTON_RIGHT&&(H._combatFlag=1)},a.start=function(){null==this.character&&(this.character=this.getComponent(g))},a.update=function(){if(this._combatFlag){if(4&this._constraint||1!=this._combatFlag){if(!(8&this._constraint)&&2==this._combatFlag){this.animation.play("cocos_anim_squat"),this._constraint=-1;var t=this;this.animation.getState("cocos_anim_squat").once(y.FINISHED,(function(){t._constraint=0,t.animation.play("cocos_anim_idle")}))}}else{this.animation.play("cocos_anim_attack"),this._constraint=-1;var i=this;this.animation.getState("cocos_anim_attack").once(y.FINISHED,(function(){i._constraint=0,i.animation.play("cocos_anim_idle")}))}this._combatFlag=0}else{if(!(2&this._constraint)&&this._isJump&&this.character.onGround){this.character.jump(),this._constraint|=14,this.animation.play("cocos_anim_jump_static");var e=this.animation.getState("cocos_anim_jump_static"),n=this;e.once(y.FINISHED,(function(){n._constraint=0,n.animation.play("cocos_anim_idle")}))}if(!(1&this._constraint||this._isAltDown)){var o=this.mainBearing.rotation,a=this.refBearing.rotation;c.equals(o,a)||(c.slerp(z,o,a,this.rotateFactor),this.mainBearing.worldRotation=z)}if(1&this._constraint||!this._stateX&&!this._stateZ){if(0==this._constraint)this.animation.getState("cocos_anim_idle").isPlaying||this.animation.crossFade("cocos_anim_idle",.2)}else{var s=this.speed*this._shiftFactor;if(P.set(this._stateX*s,0,this._stateZ*s),r.transformQuat(P,P,this.mainBearing.worldRotation),this.character.move(P),!this.animation.getState("cocos_anim_jump_static").isPlaying)if(1==this._shiftFactor)this.animation.getState("cocos_anim_walk").isPlaying||this.animation.crossFade("cocos_anim_walk",.2);else this.animation.getState("cocos_anim_run").isPlaying||this.animation.crossFade("cocos_anim_run",.2)}}},i}(d)).prototype,"character",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(v.prototype,"animation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(v.prototype,"mainBearing",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(v.prototype,"refBearing",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(v.prototype,"speed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),I=i(v.prototype,"shiftScale",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Y=i(v.prototype,"rotateFactor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),D=v))||D)||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterControllerTest2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,i,n,r,s,l,c,a,h,_,u,p,y,d,g,m,f;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Vec3,c=t.Vec2,a=t.Quat,h=t.CharacterController,_=t.input,u=t.Input,p=t.ModelComponent,y=t.Color,d=t.KeyCode,g=t.clamp,m=t.PhysicsSystem,f=t.Component}],execute:function(){var C,T,E,v,P,w,b;r._RF.push({},"bb42f0UB7hIS5zNZ3tiXoSG","CharacterControllerTest",void 0);var z=s.ccclass,S=s.property,x=(s.menu,new l,new l,new l,new c),D=new a,V=new l(1);t("CharacterControllerTest",z("CharacterControllerTest")((E=o((T=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,i(o,"speed",E,n(o)),i(o,"gravityValue",v,n(o)),i(o,"jumpSpeed",P,n(o)),i(o,"linearDamping",w,n(o)),i(o,"pushPower",b,n(o)),o._cct=null,o._control_z=0,o._control_x=0,o._movement=new l(0,0,0),o._grounded=!0,o._playerVelocity=new l(0,0,0),o._doJump=!0,o._hitPoint=null,o}e(o,t);var r=o.prototype;return r.jump=function(){this._grounded&&(this._doJump=!0)},r.onLoad=function(){this._hitPoint=this.node.scene.getChildByName("HitPoint"),this._cct=this.node.getComponent(h),this._cct&&(this._cct.on("onControllerColliderHit",this.onControllerColliderHit,this),this._cct.on("onControllerTriggerEnter",this.onControllerTriggerEnter,this),this._cct.on("onControllerTriggerStay",this.onControllerTriggerStay,this),this._cct.on("onControllerTriggerExit",this.onControllerTriggerExit,this))},r.onEnable=function(){_.on(u.EventType.KEY_PRESSING,this.onKeyPressing,this),_.on(u.EventType.KEY_DOWN,this.onKeyDown,this),_.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this),_.on(u.EventType.TOUCH_END,this.onTouchEnd,this)},r.onDisable=function(){_.off(u.EventType.KEY_PRESSING,this.onKeyPressing,this),_.off(u.EventType.KEY_DOWN,this.onKeyDown,this),_.off(u.EventType.TOUCH_MOVE,this.onTouchMove,this),_.off(u.EventType.TOUCH_END,this.onTouchEnd,this)},r.onControllerColliderHit=function(t){a.rotationTo(D,l.UNIT_Y,t.worldNormal),this._hitPoint.setWorldPosition(t.worldPosition),V.set(.05,1,.05),this._hitPoint.setWorldScale(V),this._hitPoint.setWorldRotation(D);var o=t.collider.attachedRigidBody;if(!(null==o||o.isKinematic||t.motionDirection.y<-.1)){var e=new l(t.motionDirection.x,0,t.motionDirection.z);l.multiplyScalar(e,e,this.pushPower),o.setLinearVelocity(e)}},r.onControllerTriggerEnter=function(t){var o=t.characterController.node.getComponent(p);o&&o.material.setProperty("mainColor",new y(255,0,0,99))},r.onControllerTriggerStay=function(t){},r.onControllerTriggerExit=function(t){var o=t.characterController.node.getComponent(p);o&&o.material.setProperty("mainColor",new y(255,255,255,99))},r.onKeyDown=function(t){this.keyProcess(t)},r.onKeyPressing=function(t){this.keyProcess(t)},r.keyProcess=function(t){switch(t.keyCode){case d.KEY_W:this._control_z+=1;break;case d.KEY_S:this._control_z-=1;break;case d.KEY_A:this._control_x+=1;break;case d.KEY_D:this._control_x-=1;break;case d.SPACE:this.jump()}this._control_z=g(this._control_z,-1,1),this._control_x=g(this._control_x,-1,1)},r.onTouchMove=function(t,o){t.getDelta(x);Math.abs(x.x)>1&&(this._control_x-=1*Math.sign(x.x)),Math.abs(x.y)>1&&(this._control_z+=1*Math.sign(x.y)),this._control_z=g(this._control_z,-1,1),this._control_x=g(this._control_x,-1,1)},r.onTouchEnd=function(t,o){},r.onResetPosition=function(){this._cct&&(this._cct.centerWorldPosition=new l(-3,5,6))},r.onSetInvalidPosition=function(){this._cct&&(this._cct.centerWorldPosition=new l(1e5,1e5,1e5))},r.update=function(t){this._cct&&(t=m.instance.fixedTimeStep,this._grounded=this._cct.isGrounded,this._playerVelocity.y+=this.gravityValue*t,this._grounded&&(this._doJump?(this._playerVelocity.y+=this.jumpSpeed,this._doJump=!1):(this._playerVelocity.z+=-this._control_z*this.speed,this._playerVelocity.x+=-this._control_x*this.speed,this._control_z=0,this._control_x=0,this._playerVelocity.x*=this.linearDamping,this._playerVelocity.z*=this.linearDamping)),l.multiplyScalar(this._movement,this._playerVelocity,t),this._cct.move(this._movement),this._grounded&&(this._playerVelocity.y=0))},o}(f)).prototype,"speed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),v=o(T.prototype,"gravityValue",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-9.81}}),P=o(T.prototype,"jumpSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=o(T.prototype,"linearDamping",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.9}}),b=o(T.prototype,"pushPower",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),C=T))||C);r._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterControllerTriggerTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,o,n,l,i,g,s;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy,o=r._decorator,n=r.ColliderComponent,l=r.LabelComponent,i=r.ModelComponent,g=r.Color,s=r.Component}],execute:function(){var a;t._RF.push({},"b8fb1xpu5tIh4ZTXD7t8HVA","CharacterControllerTriggerTest",void 0);var C=o.ccclass;o.property,r("CharacterControllerTriggerTest",C("CharacterControllerTriggerTest")(a=function(r){function t(){return r.apply(this,arguments)||this}e(t,r);var o=t.prototype;return o.onLoad=function(){var r=this.getComponent(n);r&&(r.on("onControllerTriggerEnter",this.onControllerTriggerEnter,this),r.on("onControllerTriggerStay",this.onControllerTriggerStay,this),r.on("onControllerTriggerExit",this.onControllerTriggerExit,this)),this.ResultLabel=this.node.scene.getChildByName("Canvas").getChildByName("Result").getComponent(l)},o.onControllerTriggerEnter=function(r){this.ResultLabel.string="onControllerTriggerEnter",r.collider.node.getComponent(i).material.setProperty("mainColor",new g(255,0,0,255))},o.onControllerTriggerStay=function(r){this.ResultLabel.string="onControllerTriggerStay"},o.onControllerTriggerExit=function(r){this.ResultLabel.string="onControllerTriggerExit",r.collider.node.getComponent(i).material.setProperty("mainColor",new g(255,255,0,255))},o.update=function(r){},t}(s))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/collider-disabled.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,r,i,n,t;return{setters:[function(e){o=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator,n=e.ColliderComponent,t=e.Component}],execute:function(){var l;r._RF.push({},"7eebes3AdlAC7JWThiihIXQ","collider-disabled",void 0);var s=i.ccclass,c=(i.property,i.menu);e("colliderdisabled",s("RALL-A-BALL.colliderdisabled")(l=c("demo/roll-a-ball/colliderdisabled")(l=function(e){function r(){return e.apply(this,arguments)||this}o(r,e);var i=r.prototype;return i.start=function(){this.getComponent(n).on("onTriggerEnter",this.onTrigger,this)},i.onTrigger=function(e){"Bonus"==e.otherCollider.node.name&&(e.otherCollider.node.active=!1)},r}(t))||l)||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/collider-manager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,a,l,u,s,c,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,u=e.Vec3,s=e.Node,c=e.instantiate,d=e.math,f=e.Component}],execute:function(){var h,p,b,g,m,v,y,L,H;a._RF.push({},"95b4fpK+A9Cmbfc9vOmsGsJ","collider-manager",void 0);var z=l.ccclass,w=l.property,C=new u;e("ColliderManager",(h=z("ColliderManager"),p=w([s]),b=w({type:s}),h((v=t((m=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"count",v,o(t)),r(t,"boundHalfLength",y,o(t)),r(t,"prefabs",L,o(t)),r(t,"tipsNode",H,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.tipsNode.active=window.CC_PHYSICS_BUILTIN,this.node.removeAllChildren();for(var e=0;e<this.count;e++){var t=c(this.prefabs[Math.round(Math.random())]);t.parent=this.node,t.setPosition(d.randomRange(-2,2),3+2*e,d.randomRange(-2,2)),t.setRotationFromEuler(d.randomRange(0,180),d.randomRange(0,180),d.randomRange(0,180))}},a.update=function(){for(var e,t=i(this.node.children);!(e=t()).done;){var n=e.value;n.getPosition(C),C.y<-10?C.y=30:C.x>this.boundHalfLength+3?C.x=-(this.boundHalfLength-3):C.x<-(this.boundHalfLength+3)?C.x=this.boundHalfLength-3:C.z>this.boundHalfLength+3?C.z=-(this.boundHalfLength-3):C.z<-(this.boundHalfLength+3)&&(C.z=this.boundHalfLength-3),n.setPosition(C)}},t}(f)).prototype,"count",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),y=t(m.prototype,"boundHalfLength",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12.5}}),L=t(m.prototype,"prefabs",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(m.prototype,"tipsNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/collider.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,n,i,l,r,s,a;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,i=o.Vec3,l=o.Vec4,r=o.RigidBodyComponent,s=o.ModelComponent,a=o.Component}],execute:function(){var c;e._RF.push({},"9734djZWa9MEbCNBh1ENuMW","collider",void 0);var h=n.ccclass,p=new i,u=new l(.3,.3,.3,1);o("Collider",h("Collider")(c=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=o.call.apply(o,[this].concat(n))||this)._body=null,t._initialColor=null,t._pass=null,t._handle=0,t._color=new l,t}t(e,o);var n=e.prototype;return n.start=function(){this._body=this.node.getComponent(r);var o=this.node.getComponent(s).material,t=o.getProperty("mainColor");this._initialColor=new l(t.x,t.y,t.z,t.w),this._pass=o.passes[0],this._handle=this._pass.getHandle("mainColor")},n.update=function(){this._body.getLinearVelocity(p);var o=p.length();o/=o+1,l.lerp(this._color,u,this._initialColor,o),this._pass.setUniform(this._handle,this._color)},e}(a))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ColliderTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,l,a,s,c,u,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Mesh,s=e.TerrainAsset,c=e.MeshCollider,u=e.TerrainCollider,p=e.Component}],execute:function(){var h,d,f,m,v,b,y,C,T;o._RF.push({},"6d10b/TQdxJ37+BzSeGcvmj","ColliderTest",void 0);var g=l.ccclass,x=l.property,z=l.menu;e("ColliderTest",(h=g("CASES.ColliderTest"),d=z("cases/ColliderTest"),f=x(a),m=x(s),h(v=d((y=r((b=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o))||this,i(r,"mesh",y,n(r)),i(r,"convex",C,n(r)),i(r,"terrain",T,n(r)),r}return t(r,e),r.prototype.start=function(){var e=this.node.addComponent(c);e.convex=this.convex,this.mesh&&(e.mesh=this.mesh);var r=this.node.addComponent(u);this.terrain&&(r.terrain=this.terrain)},r}(p)).prototype,"mesh",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(b.prototype,"convex",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=r(b.prototype,"terrain",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v)||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/CollisionTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,o,n,l,s,r,a,c,h,u,C,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,r=e.LabelComponent,a=e.ColliderComponent,c=e.VerticalTextAlignment,h=e.UITransform,u=e.Size,C=e.Color,p=e.Component}],execute:function(){var m,d,y,f,b,g,S;l._RF.push({},"9ccc3xH9R9Aw6dEmQwYXzGP","CollisionTest",void 0);var v=s.ccclass,T=s.property,A=s.menu;e("CollisionTest",(m=v("CASES.CollisionTest"),d=A("cases/CollisionTest"),y=T({type:r}),m(f=d(((S=function(e){function i(){var t;return(t=e.call(this)||this).alreadyStay=!1,t.messageAmount=0,o(t,"label",g,n(t)),t.id=i._idCounter++,t}t(i,e);var l=i.prototype;return l.start=function(){var e=this.getComponent(a);e&&(e.on("onCollisionEnter",this.onCollision,this),e.on("onCollisionStay",this.onCollision,this),e.on("onCollisionExit",this.onCollision,this))},l.onCollision=function(e){if(this.getComponent(a)!=e.selfCollider)return this.label.string="[错误]：self不等于自己，请提交 issue",this.label.fontSize=40,this.label.lineHeight=40,this.label.verticalAlign=c.CENTER,this.label.getComponent(h).contentSize=new u(400,400),this.label.color=C.RED,void(this.enabled=!1);if("onCollisionStay"==e.type){if(this.alreadyStay)return;this.alreadyStay=!0}else"onCollisionExit"==e.type&&(this.alreadyStay=!1);this.label&&(this.messageAmount>10&&(this.label.string="",this.messageAmount=0),this.messageAmount++,this.label.string+=e.selfCollider.node.name+"一"+e.type+"一"+e.otherCollider.node.name+"  ")},i}(p))._idCounter=0,g=i((b=S).prototype,"label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f)||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/ColumnCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TempConst.ts"],(function(t){var o,e,n,r,i,u,a,c,l,s,h,p,f,d,v;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,a=t.input,c=t.Input,l=t.KeyCode,s=t.Quat,h=t.Vec3,p=t.Component},function(t){f=t.quat_t,d=t.v2_t,v=t.v3_t}],execute:function(){var y,C,E;i._RF.push({},"aa2e0MmOhpOcZu+TJB4WqZb","ColumnCtr",void 0);var m=u.ccclass,T=u.property,_=u.menu;t("ColumnCtr",m("FALLING-BALL.ColumnCtr")(y=_("demo/falling-ball/ColumnCtr")((E=o((C=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return o=t.call.apply(t,[this].concat(i))||this,n(o,"rotFactor",E,r(o)),o}e(o,t);var i=o.prototype;return i.onEnable=function(){a.on(c.EventType.KEY_DOWN,this.onKeyDown,this),a.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this)},i.onDisable=function(){a.off(c.EventType.KEY_DOWN,this.onKeyDown,this),a.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this)},i.onKeyDown=function(t){t.keyCode==l.KEY_A?s.fromEuler(f,0,3,0):t.keyCode==l.KEY_D&&s.fromEuler(f,0,-3,0),this.node.rotate(f)},i.onTouchMove=function(t,o){t.getDelta(d),0!=d.x&&(s.fromEuler(f,0,d.x*this.rotFactor,0),this.node.rotate(f))},i.reset=function(){var t=this.node.children[0];t.worldPosition=h.ZERO,t.worldRotation=s.IDENTITY;for(var o=0;o<this.node.children.length;o++){var e=this.node.children[o];v.set(0,-8*o,0),e.worldPosition=v}},o}(p)).prototype,"rotFactor",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.75}}),y=C))||y)||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/configurable-ctl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,r,o,a,s,g,l,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,s=i.Node,g=i.ConfigurableConstraint,l=i.math,c=i.Component}],execute:function(){var u,f,h,p,_;o._RF.push({},"f9bfdD5lyNGsac1epoqsykY","configurable-ctl",void 0);var b=a.ccclass,J=a.property;i("configurable_ctl",(u=b("configurable_ctl"),f=J({type:s}),u((_=t((p=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,e(t,"configurable",_,r(t)),t._configurableJoint=null,t}n(t,i);var o=t.prototype;return o.start=function(){this._configurableJoint=this.configurable.getComponent(g)},o.update=function(i){},o.onTwistExtentChange=function(i){this._configurableJoint&&(this._configurableJoint.angularLimitSettings.twistExtent=180*l.clamp(i._progress,1e-4,1))},o.onSwing1ExtentChange=function(i){this._configurableJoint&&(this._configurableJoint.angularLimitSettings.swingExtent1=180*l.clamp(i._progress,1e-4,1))},o.onSwing2ExtentChange=function(i){this._configurableJoint&&(this._configurableJoint.angularLimitSettings.swingExtent2=180*l.clamp(i._progress,1e-4,1))},o.onTwistDriveForceChange=function(i){this._configurableJoint&&(this._configurableJoint.angularDriverSettings.strength=1e3*i._progress)},o.onTwistDriveSpeedChange=function(i){if(this._configurableJoint){var t=this._configurableJoint.angularDriverSettings.targetVelocity;t.x=3600*i._progress,this._configurableJoint.angularDriverSettings.targetVelocity=t}},o.onXAxisLowerLimitChanged=function(i){if(this._configurableJoint){var t=this._configurableJoint.linearLimitSettings.lower;t.x=2*i._progress-1,this._configurableJoint.linearLimitSettings.lower=t}},o.onXAxisUpperLimitChanged=function(i){if(this._configurableJoint){var t=this._configurableJoint.linearLimitSettings.upper;t.x=2*i._progress-1,this._configurableJoint.linearLimitSettings.upper=t}},o.onXAxisDrivePositionChange=function(i){if(this._configurableJoint){var t=this._configurableJoint.linearDriverSettings.targetPosition;t.x=2*i._progress-1,this._configurableJoint.linearDriverSettings.targetPosition=t}},o.onXAxisDriveSpeedChange=function(i){if(this._configurableJoint){var t=this._configurableJoint.linearDriverSettings.targetVelocity;t.x=2*i._progress-1,this._configurableJoint.linearDriverSettings.targetVelocity=t}},o.onLinearDriveForceChange=function(i){this._configurableJoint&&(this._configurableJoint.linearDriverSettings.strength=1e3*i._progress)},t}(c)).prototype,"configurable",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/ContactPointHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,t,i,e,r,l,a,s,c,p,u,f,h,d,C;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){r=o.cclegacy,l=o._decorator,a=o.Quat,s=o.Vec3,c=o.Prefab,p=o.Node,u=o.game,f=o.Pool,h=o.instantiate,d=o.ColliderComponent,C=o.Component}],execute:function(){var _,P,y,v,w,m,g,W,b;r._RF.push({},"276fcld+b5O8qjGJZTPQFke","ContactPointHelper",void 0);var E=l.ccclass,O=l.property,A=l.menu,M=new a,N=new s(999999,999999,999999);o("ContactPointHelper",(_=E("COMMON.ContactPointHelper"),P=A("common/ContactPointHelper"),y=O({type:c}),v=O({type:c}),_(w=P(((b=function(o){function n(){for(var n,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return n=o.call.apply(o,[this].concat(r))||this,i(n,"point",g,e(n)),i(n,"arrow",W,e(n)),n._pool=null,n._entityMap=new Map,n.originPoolSize=10,n}t(n,o);var r=n.prototype;return r.__preload=function(){var o=this;null==n._container&&(n._container=new p("__CONTACT_POINT__"),u.addPersistRootNode(n._container));var t=this.originPoolSize;this._pool=new f((function(){null!=o.point&&null!=o.arrow||console.error("ContactPointHelper: point or arrow is null");var t=h(o.point);t.setWorldScale(.25,.25,.25),t.setParent(n._container);var i=h(o.arrow);return i.setParent(n._container),t.active=!0,i.active=!0,t.setWorldPosition(N),i.setWorldPosition(N),{pt:t,aw:i}}),t)},r.onLoad=function(){n._insArr.push(this)},r.onEnable=function(){var o=this.getComponents(d),n=this;o.forEach((function(o){o.on("onCollisionEnter",n.onCollision,n),o.on("onCollisionStay",n.onCollision,n),o.on("onCollisionExit",n.onCollision,n)}))},r.onDisable=function(){var o=this.getComponents(d),n=this;o.forEach((function(o){o.off("onCollisionEnter",n.onCollision,n),o.off("onCollisionStay",n.onCollision,n),o.off("onCollisionExit",n.onCollision,n)}))},r.onCollision=function(o){var n=this;if(this.point&&this.arrow){this._entityMap.has(o.otherCollider.uuid)||this._entityMap.set(o.otherCollider.uuid,{markers:[]});var t=this._entityMap.get(o.otherCollider.uuid).markers;o.contacts.forEach((function(o,i){var e,r=new s,l=new s;o.isBodyA?(o.getWorldPointOnA(r),o.getWorldNormalOnB(l)):(o.getWorldPointOnB(r),o.getWorldNormalOnA(l)),t.length>i?e=t[i]:(e=n._pool.alloc(),t.push(e)),e.pt.setWorldPosition(r),e.aw.setWorldPosition(r),a.rotationTo(M,s.UNIT_Z,l),e.aw.setWorldRotation(M)}));for(var i=t.length,e=o.contacts.length;e<i;e++)t[e].pt.setWorldPosition(N),t[e].aw.setWorldPosition(N)}},r.onDestroy=function(){var o=n._insArr.indexOf(this);o>=0&&n._insArr.splice(o,1),this._entityMap.forEach((function(o){o.markers.forEach((function(o){o.pt.removeFromParent(),o.aw.removeFromParent(),o.pt.destroy(),o.aw.destroy()}))}))},n}(C))._insArr=[],b._container=null,g=n((m=b).prototype,"point",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(m.prototype,"arrow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=m))||w)||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/coordinate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,r,i,a,l,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Vec3,c=e.Node,u=e.CameraComponent,p=e.Component}],execute:function(){var s,d,f,m,y,b,h,N,g,D;i._RF.push({},"02ed7cn+2NAF7MpI5E0DT6/","coordinate",void 0);var v=a.ccclass,C=a.property,I=a.menu,U=new l;e("CoordinateUi3D",(s=v("RALL-A-BALL.coordinate-ui-3d"),d=I("demo/roll-a-ball/coordinate-ui-3d"),f=C({type:c}),m=C({type:c}),y=C({type:u}),s(b=d((N=t((h=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"D3Node",N,r(t)),n(t,"UINode",g,r(t)),n(t,"mainCamera",D,r(t)),t}return o(t,e),t.prototype.lateUpdate=function(e){this.D3Node.getWorldPosition(U),U.y+=1.5,this.mainCamera.convertToUINode(U,this.UINode.parent,U),this.UINode.setPosition(U)},t}(p)).prototype,"D3Node",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(h.prototype,"UINode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(h.prototype,"mainCamera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=h))||b)||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/CurveCastHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,a,s,l,h,c,C,u,d,P,p,S,m,v,g,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Enum,l=t.CameraComponent,h=t.Material,c=t.Node,C=t.Vec3,u=t.LabelComponent,d=t.Color,P=t.Primitive,p=t.MeshRenderer,S=t.director,m=t.instantiate,v=t.Quat,g=t.PhysicsSystem,f=t.Component}],execute:function(){var y,b,w,L,A,O,N,_,H,R,M,D;r._RF.push({},"84206I+6exJC4JQsotlaCdE","CurveCastHelper",void 0);var E=a.ccclass,T=a.property,B=a.menu,z=function(t){return t[t.ALL=0]="ALL",t[t.CLOSEST=1]="CLOSEST",t}(z||{});s(z);t("CurvecastHelper",(y=E("COMMON.CurvecastHelper"),b=B("common/CurvecastHelper"),w=T({type:l}),L=T({type:h}),A=T({type:h}),O=T({type:h}),y(N=b((H=e((_=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"cameraCom",H,o(e)),n(e,"controlPointMaterial",R,o(e)),n(e,"hitPointMaterial",M,o(e)),n(e,"lineSegmentMaterial",D,o(e)),e.controlPointContainer=new c("controlPointContainer"),e.hitPointContainer=new c("hitPointContainer"),e.lineSegmentContainer=new c("lineSegmentContainer"),e._lineSegment=new c("lineSegment"),e._hitPoint=new c("hitPoint"),e._controlPoint=new c("controlPoint"),e.CP0=new C(1,0,12),e.CP1=new C(1,10,4),e.CP2=new C(1,0,0),e.CurveOrigin=new C(-9,0,0),e.StartPointDistance=0,e.StartPointHeight=0,e.ControlPointDistance=9,e.ControlPointHeight=2,e.EndPointDistance=18,e.EndPointHeight=0,e.SampleNumnber=50,e.curvecastType=z.ALL,e.hitSphereScale=.2,e.controlPointScale=.2,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.ResultLabel=this.node.scene.getChildByName("Canvas").getChildByName("Result").getComponent(u),this.controlPointMaterial.setProperty("mainColor",new d(0,255,0,255));var t=new P(P.PrimitiveType.BOX);t.onLoaded();var e=this._controlPoint.addComponent(p);e.mesh=t,e.material=this.controlPointMaterial,S.addPersistRootNode(this.controlPointContainer),this.hitPointMaterial.setProperty("mainColor",new d(255,255,0,255));var i=new P(P.PrimitiveType.BOX);i.onLoaded();var n=this._hitPoint.addComponent(p);n.mesh=i,n.material=this.hitPointMaterial,S.addPersistRootNode(this.hitPointContainer),this.lineSegmentMaterial.setProperty("mainColor",new d(200,0,0,255));var o=new P(P.PrimitiveType.BOX);o.onLoaded();var r=new c;r.setParent(this._lineSegment),r.setPosition(new C(0,.5,0));var a=r.addComponent(p);a.mesh=o,a.material=this.lineSegmentMaterial,S.addPersistRootNode(this.lineSegmentContainer),this.SetSampleNumber(this.SampleNumnber),this.node.scene.getChildByName("Canvas").getChildByName("Expectation").getComponent(u).string="physx和bullet跟所有类型碰撞体都可以有碰撞点\n builtin跟圆柱/圆锥体没有碰撞点\n cannon.js跟胶囊体没有碰撞点"},r.start=function(){this.OnCurveCast()},r.onDestroy=function(){this.controlPointContainer.removeAllChildren(),this.hitPointContainer.removeAllChildren(),this.lineSegmentContainer.removeAllChildren()},r.sampleQuadraticBezierPoint=function(t,e,i,n){var o=1-n,r=o*o,a=n*n,s=new C(0);C.multiplyScalar(s,t,r);var l=new C(0);C.multiplyScalar(l,e,2*o*n);var h=new C(0);return C.multiplyScalar(h,i,a),C.add(s,s,l),C.add(s,s,h),s},r.updateCurveControlPoints=function(t,e,i){var n=new C(1,0,0),o=new C(0,1,0);t.set(this.CurveOrigin),C.scaleAndAdd(t,this.CurveOrigin,n,this.StartPointDistance),C.scaleAndAdd(t,t,o,this.StartPointHeight),e.set(0,0,0),C.scaleAndAdd(e,this.CurveOrigin,n,this.ControlPointDistance),C.scaleAndAdd(e,e,o,this.ControlPointHeight),i.set(0,0,0),C.scaleAndAdd(i,this.CurveOrigin,n,this.EndPointDistance),C.scaleAndAdd(i,i,o,this.EndPointHeight)},r.OnCurveCast=function(){this.ResultLabel.string="",this.controlPointContainer.removeAllChildren(),this.hitPointContainer.removeAllChildren(),this.updateCurveControlPoints(this.CP0,this.CP1,this.CP2);var t=m(this._controlPoint);t.setScale(this.controlPointScale,this.controlPointScale,this.controlPointScale),t.setWorldPosition(this.CP0),this.controlPointContainer.addChild(t);var e=m(this._controlPoint);e.setScale(this.controlPointScale,this.controlPointScale,this.controlPointScale),e.setWorldPosition(this.CP1),this.controlPointContainer.addChild(e);var i=m(this._controlPoint);i.setWorldPosition(this.CP2),i.setScale(this.controlPointScale,this.controlPointScale,this.controlPointScale),this.controlPointContainer.addChild(i);for(var n=[],o=0;o<this.SampleNumnber;o++){var r=this.sampleQuadraticBezierPoint(this.CP0,this.CP1,this.CP2,o/(this.SampleNumnber-1));n.push(r)}for(var a=new C,s=0;s<this.SampleNumnber-1;s++){var l=this.lineSegmentContainer.children[s],h=n[s];C.subtract(a,n[s+1],n[s]);var c=C.len(a);C.multiplyScalar(a,a,1/c);var u=new v;v.rotationTo(u,new C(0,1,0),a),l.setWorldPosition(h);var d=new C(.05,c,.05);l.setWorldScale(d),l.setWorldRotation(u)}if(this.curvecastType==z.CLOSEST){if(g.instance.lineStripCastClosest(n)){var P=g.instance.lineStripCastClosestResult,p=m(this._hitPoint);p.setWorldPosition(P.hitPoint),p.setScale(this.hitSphereScale,this.hitSphereScale,this.hitSphereScale),this.hitPointContainer.addChild(p),this.ResultLabel.string=this.ResultLabel.string.concat("hit line id: ").concat(P.id.toString())}}else if(this.curvecastType==z.ALL&&g.instance.lineStripCast(n)){this.ResultLabel.string=this.ResultLabel.string.concat("hit line id: ");for(var S=g.instance.lineStripCastResults,f=0;f<S.length;f++){var y=S[f],b=m(this._hitPoint);b.setWorldPosition(y.hitPoint),b.setScale(this.hitSphereScale,this.hitSphereScale,this.hitSphereScale),this.hitPointContainer.addChild(b),this.ResultLabel.string=this.ResultLabel.string.concat(y.id.toString().concat("--"))}}},r.onStartPointDistance=function(t){var e=t._progress;this.StartPointDistance=18*e,this.OnCurveCast()},r.onStartPointHeight=function(t){var e=t._progress;this.StartPointHeight=20*e,this.OnCurveCast()},r.onControlPointDistance=function(t){var e=t._progress;this.ControlPointDistance=18*e,this.OnCurveCast()},r.onControlPointHeight=function(t){var e=t._progress;this.ControlPointHeight=20*e,this.OnCurveCast()},r.onEndPointDistance=function(t){var e=t._progress;this.EndPointDistance=18*e,this.OnCurveCast()},r.onEndPointHeight=function(t){var e=t._progress;this.EndPointHeight=20*e,this.OnCurveCast()},r.onSetCurveCastClosest=function(){this.curvecastType=z.CLOSEST,this.OnCurveCast()},r.onSetCurveCastAll=function(){this.curvecastType=z.ALL,this.OnCurveCast()},r.onSetSampleNumber=function(t){var e=parseInt(t.string);return this.SetSampleNumber(e)},r.SetSampleNumber=function(t){if(!isNaN(t)&&t>=2&&t!=this.lineSegmentContainer.children.length){this.SampleNumnber=t,this.lineSegmentContainer.removeAllChildren();for(var e=0;e<this.SampleNumnber-1;e++){var i=m(this._lineSegment);this.lineSegmentContainer.addChild(i)}this.OnCurveCast()}},e}(f)).prototype,"cameraCom",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(_.prototype,"controlPointMaterial",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(_.prototype,"hitPointMaterial",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(_.prototype,"lineSegmentMaterial",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=_))||N)||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,f=t.Component}],execute:function(){var L,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(L=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),L((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var f=p(this.EnableAllCompositeModeButton.getChildByName("Label"));f.setPosition(i+(u>0?450:150),n,0),f.setScale(.75,.75,.75),f.parent=r;var L=f.getComponent(c);L.string=u?"----------Composite Mode----------":"----------Single Mode----------",L.color=a.WHITE,L.overflow=0,this.labelComponentList[this.labelComponentList.length]=L}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(f)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DebugCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var a,r,n,t,i,o,u,c;return{setters:[function(e){a=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,u=e.CameraComponent,c=e.Component}],execute:function(){var l,s,m,p,b,C;i._RF.push({},"e3046tel6BF1oVnbs1FYdNz","DebugCamera",void 0);var f=o.ccclass,g=o.property,y=o.menu;e("DebugCamera",(l=f("SIMPLE-CAR.DebugCamera"),s=y("demo/simple-car/DebugCamera"),m=g({type:u}),l(p=s((C=a((b=function(e){function a(){for(var a,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,n(a,"mainCamera",C,t(a)),a}r(a,e);var i=a.prototype;return i.onEnable=function(){this.mainCamera.enabled=!1},i.onDisable=function(){this.mainCamera.enabled=!0},a}(c)).prototype,"mainCamera",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=b))||p)||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/DebugManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InstanceMgr.ts"],(function(e){var n,t,r,a,o,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,a=e.game,o=e.Component},function(e){c=e.InstanceMgr}],execute:function(){var i;t._RF.push({},"8e805melFVDc5ITuaZUoQEb","DebugManager",void 0);var s=r.ccclass,u=(r.property,r.menu);e("DebugManager",s("SIMPLE-CAR.DebugManager")(i=u("demo/simple-car/DebugManager")(i=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.onLoad=function(){for(var e=0;e<this.node.children.length;e++)this.node.children[e].active=!1;a.addPersistRootNode(this.node),c.registerInstance("DebugManager",this)},r.changeActive=function(e,n){var t=this.node.getChildByName(n);t&&(t.active=!t.active)},t}(o))||i)||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/disable-onload.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,a,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,s=e.Component}],execute:function(){var c,u,p,d,f,b,y;o._RF.push({},"481e8M90rRBcqLmiDKj7s/5","disable-onload",void 0);var h=a.ccclass,g=a.property,m=a.menu;e("disableonload",(c=h("SIMPLE-HOLE.disable-onload"),u=m("demo/simple-hole/disable-onload"),p=g({type:l}),c(d=u((b=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"state",b,n(t)),i(t,"target",y,n(t)),t}return r(t,e),t.prototype.start=function(){this.target.active=this.state},t}(s)).prototype,"state",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=t(f.prototype,"target",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d)||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,a,p,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,p=e.RigidBodyComponent,l=e.Vec3,c=e.Component}],execute:function(){var u,s,f,y,E,h,m,b,S,U,_,L,O,g,C,v;o._RF.push({},"736d63ps1REcqpjN6LMeYdx","DynamicTest",void 0);var w=a.menu,A=a.ccclass,T=a.property,R=a.requireComponent;e("DynamicTest",(u=A("CASES.DynamicTest"),s=w("cases/DynamicTest"),f=R(p),y=T({visible:function(){return this.USE_IMPULSE}}),E=T({visible:function(){return this.USE_FORCE}}),h=T({visible:function(){return this.USE_TORQUE}}),u(m=s(m=f((S=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"USE_LOCAL",S,r(t)),n(t,"pointOfAction",U,r(t)),n(t,"USE_IMPULSE",_,r(t)),n(t,"impulse",L,r(t)),n(t,"USE_FORCE",O,r(t)),n(t,"force",g,r(t)),n(t,"USE_TORQUE",C,r(t)),n(t,"torque",v,r(t)),t}i(t,e);var o=t.prototype;return o.start=function(){var e=this.getComponent(p);e.node.active=!1,e.applyForce(l.ONE),e.clearState(),e.wakeUp(),e.sleep(),e.isAwake,e.isSleeping,e.isSleepy,e.node.active=!0},o.applyImpulse=function(){if(this.USE_IMPULSE){var e=this.getComponent(p);e&&(this.USE_LOCAL?e.applyLocalImpulse(this.impulse,this.pointOfAction):e.applyImpulse(this.impulse,this.pointOfAction))}},o.applyFoce=function(){if(this.USE_FORCE){var e=this.getComponent(p);e&&(this.USE_LOCAL?e.applyLocalForce(this.force,this.pointOfAction):e.applyForce(this.force,this.pointOfAction))}},o.applyTorque=function(){if(this.USE_TORQUE){var e=this.getComponent(p);e&&(this.USE_LOCAL?e.applyLocalTorque(this.torque):e.applyTorque(this.torque))}},t}(c)).prototype,"USE_LOCAL",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=t(b.prototype,"pointOfAction",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),_=t(b.prototype,"USE_IMPULSE",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=t(b.prototype,"impulse",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),O=t(b.prototype,"USE_FORCE",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=t(b.prototype,"force",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),C=t(b.prototype,"USE_TORQUE",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=t(b.prototype,"torque",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),m=b))||m)||m)||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/EGroupMask.ts",["cc"],(function(r){var u,t;return{setters:[function(r){u=r.cclegacy,t=r.Enum}],execute:function(){u._RF.push({},"3026bZrvjpCPKBByFqa+S0e","EGroupMask",void 0);var e=r("EGroup",function(r){return r[r.G_PLANE=1]="G_PLANE",r[r.G_ROLE=2]="G_ROLE",r[r.G_BODY=4]="G_BODY",r}({}));t(e),u._RF.pop()}}}));

System.register("chunks:///_virtual/EmitBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,l,a,s,p,c,u,h,m,d,_,C,b,y,v,f,P,T,S,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.CameraComponent,s=e.Primitive,p=e.Node,c=e.Material,u=e.gfx,h=e.Color,m=e.ModelComponent,d=e.RigidBodyComponent,_=e.ConeColliderComponent,C=e.CylinderColliderComponent,b=e.SphereColliderComponent,y=e.Vec3,v=e.CapsuleColliderComponent,f=e.BoxColliderComponent,P=e.input,T=e.Input,S=e.instantiate,w=e.Component}],execute:function(){var E,g,A,B,L,M,N,O;r._RF.push({},"e2af1jhYTtNYY8Oy2cpaOfi","EmitBullet",void 0);var R=l.ccclass,H=l.property,D=l.menu,F=l.requireComponent;e("EmitBullet",(E=R("COMMON.EmitBullet"),g=D("common/EmitBullet"),A=F(a),B=H({type:s.PrimitiveType}),E(L=g(L=A((N=t((M=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"primitiveMesh",N,o(t)),n(t,"strength",O,o(t)),t._mesh=null,t._material=null,t._container=null,t._bullet=null,t}i(t,e);var r=t.prototype;return r.onLoad=function(){this._container=new p("__EMIT_BULLET__"),this._container.setParent(this.node.scene),this._material=new c,this._material.initialize({effectName:"builtin-standard",states:{blendState:{targets:[{blend:!0,blendSrc:u.BlendFactor.SRC_ALPHA,blendDst:u.BlendFactor.ONE_MINUS_SRC_ALPHA,blendSrcAlpha:u.BlendFactor.SRC_ALPHA,blendDstAlpha:u.BlendFactor.ONE_MINUS_SRC_ALPHA}]}}}),this._material.setProperty("mainColor",new h(255,255,255,128)),this._mesh=new s(this.primitiveMesh),this._mesh.onLoaded(),this._bullet=new p("bullet");var e=this._bullet.addComponent(m);switch(e.mesh=this._mesh,e.material=this._material,this._bullet.setWorldScale(.25,.25,.25),this._bullet.addComponent(d),this.primitiveMesh){case s.PrimitiveType.BOX:this._bullet.addComponent(f);break;case s.PrimitiveType.SPHERE:this._bullet.addComponent(b);break;case s.PrimitiveType.CAPSULE:if(window.CC_PHYSICS_CANNON)this._bullet.addComponent(C),this._bullet.addComponent(b).center=new y(0,.5,0),this._bullet.addComponent(b).center=new y(0,-.5,0);else this._bullet.addComponent(v);break;case s.PrimitiveType.CYLINDER:this._bullet.addComponent(C);break;case s.PrimitiveType.CONE:this._bullet.addComponent(_);break;default:console.error("Unsupported collider type:",s.PrimitiveType[this.primitiveMesh])}},r.onEnable=function(){P.on(T.EventType.TOUCH_START,this.onTouchStart,this)},r.onDisable=function(){P.off(T.EventType.TOUCH_START,this.onTouchStart,this)},r.onTouchStart=function(e,t){var i=this.getComponent(a),n=e.getLocation(),o=new y(n.x,n.y,1),r=i.screenToWorld(o),l=y.subtract(new y,r,this.node.worldPosition).normalize();l.multiplyScalar(this.strength);var s=S(this._bullet);s.setParent(this._container),s.setWorldPosition(this.node.worldPosition),s.getComponent(d).applyForce(l)},t}(w)).prototype,"primitiveMesh",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.PrimitiveType.BOX}}),O=t(M.prototype,"strength",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e4}}),L=M))||L)||L)||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/emitter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,a,l,s,p,c,u,h,d,f,m,v,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Vec3,s=e.EffectAsset,p=e.utils,c=e.primitives,u=e.Node,h=e.ModelComponent,d=e.Material,f=e.SphereColliderComponent,m=e.math,v=e.Component,g=e.Color}],execute:function(){var b,y,_,w,C,M,z,A,R,k,P;n._RF.push({},"0be61hmDlxF0LIemE0HrRrM","emitter",void 0);var E,S,x=a.ccclass,D=a.property,F=new l,G=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).velocity=new l,t.color=new g,t.collided=!1,t.framesRemaining=0,t.pass=null,t.hColor=0,t}return o(t,e),t}(v);e("Emitter",(b=x("Emitter"),y=D(s),b((C=t((w=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"poolSize",C,r(t)),i(t,"group",M,r(t)),i(t,"mask",z,r(t)),i(t,"leftAngle",A,r(t)),i(t,"rightAngle",R,r(t)),i(t,"color",k,r(t)),i(t,"effectAsset",P,r(t)),t._deadpool=[],t._livepool=[],t}o(t,e);var n=t.prototype;return n.start=function(){E||(E=p.createMesh(c.capsule(1)),S=p.createMesh(c.sphere(1)));var e=new u,t=e.addComponent(h),o=new d;o.initialize({effectName:"builtin-standard"});var i=this.color.clone();i.a=255,o.setProperty("albedo",i),o.setProperty("metallic",.1),t.material=o,t.mesh=E,e.parent=this.node;for(var r=0;r<this.poolSize;r++){var n=new u;n.parent=this.node;var a=n.addComponent(G);a.color.set(this.color);var s=n.addComponent(h),m=new d;m.initialize({effectName:"builtin-standard",technique:1}),m.setProperty("metallic",.1),a.pass=m.passes[0],a.hColor=a.pass.getHandle("albedo"),a.pass.setUniform(a.hColor,a.color),s.material=m,s.mesh=S;var v=n.addComponent(f);v.radius=1,v.isTrigger=!0,v.setGroup(this.group),v.setMask(this.mask),v.on("onTriggerEnter",(function(e){var t=e.selfCollider,o=t.node.getComponent(G);o.collided||(o.color.a=255,o.pass.setUniform(o.hColor,o.color),o.collided=!0,o.framesRemaining=5,l.set(o.velocity,0,0,0),t.setGroup(0),t.setMask(0))})),n.active=!1,this._deadpool.push(a)}},n.update=function(){for(var e=0;e<this._livepool.length;e++){var t=this._livepool[e];t.collided?t.framesRemaining--<=0&&this.reap(t):(l.add(F,t.node.position,t.velocity),t.node.setPosition(F),o=F,void 0===(i=void 0)&&(i=20),(Math.abs(o.x)>i||Math.abs(o.y)>i||Math.abs(o.z)>i)&&this.reap(t))}var o,i;this._deadpool.length>0&&this.resurrect()},n.reap=function(e){e.node.active=!1,this._livepool.splice(this._livepool.indexOf(e),1),this._deadpool.push(e)},n.reapAll=function(){for(var e=0;e<this._livepool.length;e++){var t=this._livepool[e];t.node.active=!1,this._deadpool.push(t)}this._livepool.length=0},n.resurrect=function(){var e=this._deadpool.pop(),t=m.toRadian(m.randomRange(this.leftAngle,this.rightAngle)),o=m.randomRange(1,2),i=m.randomRange(.1,.3);l.set(e.velocity,Math.cos(t)*Math.sin(o)*i,Math.cos(o)*i,Math.sin(t)*Math.sin(o)*i),e.color.a=this.color.a,e.collided=!1,e.pass.setUniform(e.hColor,e.color);var r=e.node.getComponent(f);r.setGroup(this.group),r.setMask(this.mask),e.node.setPosition(0,0,0),this._livepool.push(e),e.node.active=!0},t}(v)).prototype,"poolSize",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),M=t(w.prototype,"group",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(w.prototype,"mask",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(w.prototype,"leftAngle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=t(w.prototype,"rightAngle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=t(w.prototype,"color",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g}}),P=t(w.prototype,"effectAsset",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=w))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/engine-info.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,i,o,t,s;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,o=n._decorator,t=n.LabelComponent,s=n.Component}],execute:function(){var c;i._RF.push({},"080d5NntnNJyrm5bWmi6fAY","engine-info",void 0);var r=o.ccclass;n("EngineInfo",r("EngineInfo")(c=function(n){function i(){return n.apply(this,arguments)||this}return e(i,n),i.prototype.start=function(){var n="Unknown Physics Engine";window.CC_PHYSICS_BUILTIN?n="Built-in Collision Detection Engine":window.CC_PHYSICS_CANNON?n="Cannon.js Physics Engine":window.CC_PHYSICS_AMMO&&(n="Ammo.js Physics Engine"),this.node.getChildByName("EngineInfo").getComponent(t).string=n+"\nYou can change this in the project settings menu"},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/EntitySetup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EGroupMask.ts"],(function(e){var o,t,r,i,n,l,a,s,d,p,u,c,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.math,s=e.Node,d=e.ColliderComponent,p=e.isValid,u=e.Vec3,c=e.Component},function(e){h=e.EGroup}],execute:function(){var y,g,f,m,E,_,v,C;n._RF.push({},"cb265jDI35FZ6rJG5oiHVsY","EntitySetup",void 0);var G=l.ccclass,N=l.property,S=l.menu,T=new a.Vec3,w=new a.Vec3;e("EntitySetup",(y=G("SIMPLE-HOLE.EntitySetup"),g=S("demo/simple-hole/EntitySetup"),f=N({type:s}),m=N({type:s}),y(E=g((v=o((_=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return o=e.call.apply(e,[this].concat(n))||this,r(o,"roleNode",v,i(o)),r(o,"planeNode",C,i(o)),o}t(o,e);var n=o.prototype;return n.start=function(){if(this.roleNode){this.roleNode.name="Role";var e=this.roleNode.getComponents(d),o=e[0];o&&(o.setGroup(h.G_ROLE),o.setMask(h.G_BODY),o.on("onTriggerEnter",this._onTriggerEnter0,this),o.on("onTriggerExit",this._onTriggerExit0,this));var t=e[1];t&&(t.setGroup(h.G_ROLE),t.setMask(h.G_BODY),t.on("onTriggerStay",this._onTriggerStay1,this))}if(this.planeNode){this.planeNode.name="Plane";var r=this.getComponent(d);r&&(r.setGroup(h.G_PLANE),r.setMask(h.G_BODY))}},n._onTriggerEnter0=function(e){if("Body"==e.otherCollider.node.name){e.otherCollider.setMask(h.G_BODY+h.G_ROLE);var o=e.otherCollider.node;setTimeout((function(){p(o)&&o.active&&o.worldPosition.y<0&&(o.active=!1)}),750)}},n._onTriggerExit0=function(e){"Body"==e.otherCollider.node.name&&e.otherCollider.node.worldPosition.y>=0&&e.otherCollider.setMask(-1)},n._onTriggerStay1=function(e){if("Body"==e.otherCollider.node.name&&e.otherCollider.attachedRigidBody){var o=e.otherCollider.node.worldPosition;T.x=o.x-this.roleNode.worldPosition.x,T.z=o.z-this.roleNode.worldPosition.z,u.copy(w,T),w.normalize(),w.y=.5,T.y=.5,T.negative(),T.normalize(),T.multiplyScalar(4),e.otherCollider.attachedRigidBody.applyImpulse(T,w)}},o}(c)).prototype,"roleNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=o(_.prototype,"planeNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=_))||E)||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/EnumCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,n,i,a,l,s,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,c=e.isValid,p=e.Component}],execute:function(){var u,m,d,f,b,y,h,v,g;a._RF.push({},"94d1bZo1XNHcYPHZYvoVB7P","EnumCommand",void 0);var N=l.ccclass,j=l.property;e("EnumCommand",(u=N("EnumCommand"),m=j({type:s}),d=j({type:s}),u(((g=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"_objNode",y,n(t)),r(t,"command",h,n(t)),r(t,"delay",v,n(t)),t}return o(t,e),t.prototype.start=function(){var e=this.command.split(".");if(this._objNode){var t=this._objNode,o=this;e.forEach((function(e){var r=e[e.length-1];if("]"==r){var n=e.indexOf("[");t=t[e.substring(0,n)];var i=e.substring(n);if("["==i[0]){var a=i.replace("[","").replace("]","");t=t[parseFloat(a)]}}else if(";"==r){var l=e.split("=");if(2==l.length){var s=l[1].trim().split(";")[0];"false"==s?s=!1:"{}"==s?s={}:"[]"==s?s=[]:isNaN(s)&&(s=parseFloat(s)),setTimeout((function(){c(t)&&(console.log("[COMMAND]:",t.name,l[0].trim(),s),t[l[0].trim()]=s)}),o.delay)}}else t=t[e]}))}},i(t,[{key:"objNode",get:function(){return this._objNode},set:function(e){this._objNode=e}}]),t}(p))._map=new Map,t((b=g).prototype,"objNode",[m],Object.getOwnPropertyDescriptor(b.prototype,"objNode"),b.prototype),y=t(b.prototype,"_objNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(b.prototype,"command",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=t(b.prototype,"delay",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),f=b))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/EnumDefine.ts",["cc"],(function(T){var t;return{setters:[function(T){t=T.cclegacy}],execute:function(){t._RF.push({},"56decsfb+xCU5FcHUuLLz7R","EnumDefine",void 0);T("EFourDirType",function(T){return T[T.FORWARD=1]="FORWARD",T[T.BACKWARD=32]="BACKWARD",T[T.TURNLEFT=1024]="TURNLEFT",T[T.TURNRIGHT=32768]="TURNRIGHT",T}({})),T("EButtonState",function(T){return T[T.NONE=0]="NONE",T[T.TOUCH_START=1]="TOUCH_START",T[T.TOUCH_MOVE=2]="TOUCH_MOVE",T[T.TOUCH_END=3]="TOUCH_END",T[T.TOUCH_CANCEL=4]="TOUCH_CANCEL",T}({})),T("EMotionState",function(T){return T[T.NONE=0]="NONE",T[T.POSITIVE=1]="POSITIVE",T[T.NEGATIVE=2]="NEGATIVE",T}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EShapeAlgorithm.ts",["cc"],(function(t){var r,a,n;return{setters:[function(t){r=t.cclegacy,a=t.Enum,n=t.math}],execute:function(){t({random_algorithm:function(t,r){return h.x=Math.random()*(t-r)+r,h.z=Math.random()*(t-r)+r,h},spiral_algorithm:function(t,r){var a=t/r*3.1415926*.75+.5;return h.x=6.6*a*Math.cos(6.6*a),h.z=6.6*a*Math.sin(6.6*a),h},x_square_2_algorithm:function(t,r){var a=(r-1)/2;return h.z=t-a,h.x=h.z>0?Math.sqrt(h.z):-Math.sqrt(Math.abs(h.z)),h.z=Math.abs(h.z)-10,h}}),r._RF.push({},"6f1daciyCpJEp6LMk9uqF0A","EShapeAlgorithm",void 0);var e=t("EShapeAlgorithm",function(t){return t[t.RANDOM=0]="RANDOM",t[t.X_SQUARE_2=1]="X_SQUARE_2",t[t.SPIRAL=2]="SPIRAL",t}({}));a(e);var h=new n.Vec3;h.y=1.5;r._RF.pop()}}}));

System.register("chunks:///_virtual/first-person-camera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,i,s,r,a,c,h,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.math,c=e.KeyCode,h=e.input,d=e.Input,y=e.Component}],execute:function(){var u,l,p,C,f,v,_,E,m;s._RF.push({},"83969PIqqtCzpmwWOBT+ujw","first-person-camera",void 0);var S=r.ccclass,k=r.property,T=r.menu,w=new a.Vec2,z=new a.Vec2,b=new a.Vec3,A=new a.Quat,x=new a.Vec3(0,0,1),V="W".charCodeAt(0),g="S".charCodeAt(0),D="A".charCodeAt(0),M="D".charCodeAt(0),O="Q".charCodeAt(0),K="E".charCodeAt(0),U="w".charCodeAt(0),P="s".charCodeAt(0),L="a".charCodeAt(0),W="d".charCodeAt(0),H="q".charCodeAt(0),F="e".charCodeAt(0),Q=c.SHIFT_LEFT;e("FirstPersonCamera",(u=S("COMMON.FirstPersonCamera"),l=T("common/FirstPersonCamera"),p=k({slide:!0,range:[.05,.5,.01]}),u(C=l((v=t((f=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"moveSpeed",v,i(t)),n(t,"moveSpeedShiftScale",_,i(t)),n(t,"damp",E,i(t)),n(t,"rotateSpeed",m,i(t)),t._euler=new a.Vec3,t._velocity=new a.Vec3,t._position=new a.Vec3,t._speedScale=1,t}o(t,e);var r=t.prototype;return r.onLoad=function(){a.Vec3.copy(this._euler,this.node.eulerAngles),a.Vec3.copy(this._position,this.node.position)},r.onDestroy=function(){this._removeEvents()},r.onEnable=function(){this._addEvents()},r.onDisable=function(){this._removeEvents()},r.update=function(e){a.Vec3.transformQuat(b,this._velocity,this.node.rotation),a.Vec3.scaleAndAdd(this._position,this._position,b,this.moveSpeed*this._speedScale),a.Vec3.lerp(b,this.node.position,this._position,e/this.damp),this.node.setPosition(b),a.Quat.fromEuler(A,this._euler.x,this._euler.y,this._euler.z),a.Quat.slerp(A,this.node.rotation,A,e/this.damp),this.node.setRotation(A)},r._addEvents=function(){h.on(d.EventType.MOUSE_WHEEL,this.onMouseWheel,this),h.on(d.EventType.KEY_DOWN,this.onKeyDown,this),h.on(d.EventType.KEY_UP,this.onKeyUp,this),h.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),h.on(d.EventType.TOUCH_END,this.onTouchEnd,this)},r._removeEvents=function(){h.off(d.EventType.MOUSE_WHEEL,this.onMouseWheel,this),h.off(d.EventType.KEY_DOWN,this.onKeyDown,this),h.off(d.EventType.KEY_UP,this.onKeyUp,this),h.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),h.off(d.EventType.TOUCH_END,this.onTouchEnd,this)},r.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed/24;a.Vec3.transformQuat(b,x,this.node.rotation),a.Vec3.scaleAndAdd(b,this.node.position,b,t),this.node.setPosition(b)},r.onKeyDown=function(e){var t=this._velocity;e.keyCode===Q?this._speedScale=this.moveSpeedShiftScale:e.keyCode===V||e.keyCode===U?0===t.z&&(t.z=-1):e.keyCode===g||e.keyCode===P?0===t.z&&(t.z=1):e.keyCode===D||e.keyCode===L?0===t.x&&(t.x=-1):e.keyCode===M||e.keyCode===W?0===t.x&&(t.x=1):e.keyCode===O||e.keyCode===H?0===t.y&&(t.y=-1):e.keyCode!==K&&e.keyCode!==F||0===t.y&&(t.y=1)},r.onKeyUp=function(e){var t=this._velocity;e.keyCode===Q?this._speedScale=1:e.keyCode===V||e.keyCode===U?t.z<0&&(t.z=0):e.keyCode===g||e.keyCode===P?t.z>0&&(t.z=0):e.keyCode===D||e.keyCode===L?t.x<0&&(t.x=0):e.keyCode===M||e.keyCode===W?t.x>0&&(t.x=0):e.keyCode===O||e.keyCode===H?t.y<0&&(t.y=0):e.keyCode!==K&&e.keyCode!==F||t.y>0&&(t.y=0)},r.onTouchMove=function(e){e.getStartLocation(w),w.x>.4*s.winSize.width?(e.getDelta(z),this._euler.y-=.5*z.x,this._euler.x+=.5*z.y):(e.getLocation(z),a.Vec2.subtract(z,z,w),this._velocity.x=.01*z.x,this._velocity.z=.01*-z.y)},r.onTouchEnd=function(e){e.getStartLocation(w),w.x<.4*s.winSize.width&&(this._velocity.x=0,this._velocity.z=0)},r.changeEnable=function(){this.enabled=!this.enabled},t}(y)).prototype,"moveSpeed",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=t(f.prototype,"moveSpeedShiftScale",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),E=t(f.prototype,"damp",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),m=t(f.prototype,"rotateSpeed",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=f))||C)||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/FloorFlagCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TempConst.ts","./PrefabPoolUtil.ts"],(function(o){var e,t,r,l,i,n,a,u,s,f,c,b,p,d,g,y,h,F;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,r=o.initializerDefineProperty,l=o.assertThisInitialized},function(o){i=o.cclegacy,n=o._decorator,a=o.Node,u=o.LabelComponent,s=o.Prefab,f=o.ColliderComponent,c=o.RigidBodyComponent,b=o.Vec3,p=o.Quat,d=o.randomRange,g=o.Component},function(o){y=o.v3_t,h=o.quat_t},function(o){F=o.PrefabPoolUtil}],execute:function(){var P,m,w,L,R,C,v,N,_,A,z,B,I,G,D,U,k,H,Q,S;i._RF.push({},"b26d0XJVu5HY7eZmypdRZ1n","FloorFlagCtr",void 0);var T=n.ccclass,V=n.property,Z=n.menu;o("FloorFlagCtr",(P=T("FALLING-BALL.FloorFlagCtr"),m=Z("demo/falling-ball/FloorFlagCtr"),w=V({type:a}),L=V({type:a}),R=V({type:a}),C=V({type:a}),v=V({type:u}),N=V({type:s}),_=V({type:s}),A=V({type:a}),P(z=m((I=e((B=function(o){function e(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=o.call.apply(o,[this].concat(i))||this,r(e,"targetNode",I,l(e)),r(e,"floorRoot",G,l(e)),r(e,"floorFlag0",D,l(e)),r(e,"floorFlag1",U,l(e)),r(e,"scoreLabel",k,l(e)),r(e,"cubePrefab",H,l(e)),r(e,"cubeRedPrefab",Q,l(e)),r(e,"cubeRoot",S,l(e)),e._flag=0,e}t(e,o);var i=e.prototype;return i.update=function(){if(this.floorFlag0.worldPosition.y>this.targetNode.worldPosition.y){y.set(this.floorFlag0.worldPosition),y.y-=8,this.floorFlag0.worldPosition=y;for(var o=this.floorRoot.children.length,e=this.floorRoot.children[this._flag%o],t=e.getComponentsInChildren(f),r=0;r<t.length;r++){var l=void 0;(l="Cube"==t[r].node.name?F.getItemByPoolName("FALLING-BALL.Cube",this.cubePrefab,5):F.getItemByPoolName("FALLING-BALL.CubeRed",this.cubeRedPrefab,5)).parent=null,this.cubeRoot.addChild(l),l.worldPosition=t[r].node.worldPosition,l.worldRotation=t[r].node.worldRotation;var i=l.getComponent(c);i.sleep(),i.wakeUp(),y.set(0,0,1e4),b.transformQuat(y,y,l.worldRotation),i.applyForce(y)}y.set(0,8*-(this._flag+o),0),e.worldPosition=y,p.fromEuler(h,0,d(-180,180),0),e.worldRotation=h,this._flag++,this.scoreLabel.string=this._flag.toString()}this.floorFlag1.worldPosition.y>this.targetNode.worldPosition.y&&(y.set(this.floorFlag1.worldPosition),y.y-=8,this.floorFlag1.worldPosition=y)},i.reset=function(){this._flag=0,y.set(0,-1,0),this.floorFlag0.worldPosition=y,y.set(0,-3,0),this.floorFlag1.worldPosition=y},i.onDestroy=function(){F.clear("FALLING-BALL.Cube"),F.clear("FALLING-BALL.CubeRed")},e}(g)).prototype,"targetNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(B.prototype,"floorRoot",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(B.prototype,"floorFlag0",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(B.prototype,"floorFlag1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(B.prototype,"scoreLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(B.prototype,"cubePrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(B.prototype,"cubeRedPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(B.prototype,"cubeRoot",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=B))||z)||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/FourDirButtons.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumDefine.ts","./InstanceMgr.ts"],(function(t){var e,n,o,i,s,h,r,T,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Input,s=t.input,h=t.Component},function(t){r=t.EFourDirType,T=t.EButtonState},function(t){d=t.InstanceMgr}],execute:function(){var _;n._RF.push({},"b2cc8y3x25Ov7lIN6HqhSUj","FourDirButtons",void 0);var a=o.ccclass,u=(o.property,o.menu),C="W".charCodeAt(0),E="S".charCodeAt(0),f="A".charCodeAt(0),y="D".charCodeAt(0),N="w".charCodeAt(0),c="s".charCodeAt(0),p="a".charCodeAt(0),v="d".charCodeAt(0);t("FourDirButtons",a("SIMPLE-CAR.FourDirButtons")(_=u("demo/simple-car/FourDirButtons")(_=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).forwardNode=null,e.backwardNode=null,e.turnleftNode=null,e.turnRightNode=null,e._button={},e}e(n,t);var o=n.prototype;return o.check=function(t,e){return this._button[t]&t<<e},o.onLoad=function(){this.forwardNode=this.node.getChildByName("Forward"),this.backwardNode=this.node.getChildByName("Backward"),this.turnleftNode=this.node.getChildByName("Turnleft"),this.turnRightNode=this.node.getChildByName("Turnright"),d.registerInstance("FourDirButtons",this)},o.onEnable=function(){this.addEvents()},o.onDisable=function(){this.removeEvents()},o.addEvents=function(){this.forwardNode.on(i.EventType.TOUCH_START,this._onForward,this),this.forwardNode.on(i.EventType.TOUCH_CANCEL,this._onForward,this),this.forwardNode.on(i.EventType.TOUCH_MOVE,this._onForward,this),this.forwardNode.on(i.EventType.TOUCH_END,this._onForward,this),this.backwardNode.on(i.EventType.TOUCH_START,this._onBackward,this),this.backwardNode.on(i.EventType.TOUCH_CANCEL,this._onBackward,this),this.backwardNode.on(i.EventType.TOUCH_MOVE,this._onBackward,this),this.backwardNode.on(i.EventType.TOUCH_END,this._onBackward,this),this.turnleftNode.on(i.EventType.TOUCH_START,this._onTurnleft,this),this.turnleftNode.on(i.EventType.TOUCH_CANCEL,this._onTurnleft,this),this.turnleftNode.on(i.EventType.TOUCH_MOVE,this._onTurnleft,this),this.turnleftNode.on(i.EventType.TOUCH_END,this._onTurnleft,this),this.turnRightNode.on(i.EventType.TOUCH_START,this._onTurnright,this),this.turnRightNode.on(i.EventType.TOUCH_CANCEL,this._onTurnright,this),this.turnRightNode.on(i.EventType.TOUCH_MOVE,this._onTurnright,this),this.turnRightNode.on(i.EventType.TOUCH_END,this._onTurnright,this),s.on(i.EventType.KEY_DOWN,this._onKeyDown,this),s.on(i.EventType.KEY_UP,this._onKeyUp,this)},o.removeEvents=function(){this.forwardNode.off(i.EventType.TOUCH_START,this._onForward,this),this.forwardNode.off(i.EventType.TOUCH_CANCEL,this._onForward,this),this.forwardNode.off(i.EventType.TOUCH_MOVE,this._onForward,this),this.forwardNode.off(i.EventType.TOUCH_END,this._onForward,this),this.backwardNode.off(i.EventType.TOUCH_START,this._onBackward,this),this.backwardNode.off(i.EventType.TOUCH_CANCEL,this._onBackward,this),this.backwardNode.off(i.EventType.TOUCH_MOVE,this._onBackward,this),this.backwardNode.off(i.EventType.TOUCH_END,this._onBackward,this),this.turnleftNode.off(i.EventType.TOUCH_START,this._onTurnleft,this),this.turnleftNode.off(i.EventType.TOUCH_CANCEL,this._onTurnleft,this),this.turnleftNode.off(i.EventType.TOUCH_MOVE,this._onTurnleft,this),this.turnleftNode.off(i.EventType.TOUCH_END,this._onTurnleft,this),this.turnRightNode.off(i.EventType.TOUCH_START,this._onTurnright,this),this.turnRightNode.off(i.EventType.TOUCH_CANCEL,this._onTurnright,this),this.turnRightNode.off(i.EventType.TOUCH_MOVE,this._onTurnright,this),this.turnRightNode.off(i.EventType.TOUCH_END,this._onTurnright,this),s.off(i.EventType.KEY_DOWN,this._onKeyDown,this),s.off(i.EventType.KEY_UP,this._onKeyUp,this)},o._onForward=function(t){this._setValue(t.type,r.FORWARD)},o._onBackward=function(t){this._setValue(t.type,r.BACKWARD)},o._onTurnleft=function(t){this._setValue(t.type,r.TURNLEFT)},o._onTurnright=function(t){this._setValue(t.type,r.TURNRIGHT)},o._setValue=function(t,e){var n=T.TOUCH_MOVE;t==i.EventType.TOUCH_START?n=T.TOUCH_START:t==i.EventType.TOUCH_END?n=T.TOUCH_END:t==i.EventType.TOUCH_CANCEL&&(n=T.TOUCH_CANCEL),this._button[e]=e<<n},o._onKeyDown=function(t){t.keyCode==N||t.keyCode==C?this._setValue(i.EventType.TOUCH_START,r.FORWARD):t.keyCode==p||t.keyCode==f?this._setValue(i.EventType.TOUCH_START,r.TURNLEFT):t.keyCode==c||t.keyCode==E?this._setValue(i.EventType.TOUCH_START,r.BACKWARD):t.keyCode!=v&&t.keyCode!=y||this._setValue(i.EventType.TOUCH_START,r.TURNRIGHT)},o._onKeyUp=function(t){t.keyCode==N||t.keyCode==C?this._setValue(i.EventType.TOUCH_END,r.FORWARD):t.keyCode==p||t.keyCode==f?this._setValue(i.EventType.TOUCH_END,r.TURNLEFT):t.keyCode==c||t.keyCode==E?this._setValue(i.EventType.TOUCH_END,r.BACKWARD):t.keyCode!=v&&t.keyCode!=y||this._setValue(i.EventType.TOUCH_END,r.TURNRIGHT)},n}(h))||_)||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProfilerManager.ts"],(function(e){var t,i,n,r,a,o,l,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.PhysicsSystem,c=e.profiler,s=e.Vec3,u=e.Component},function(e){p=e.ProfilerManager}],execute:function(){var f,m,g,S,b,y,h;a._RF.push({},"59390JZX1lAULUgg8nkWkf9","GameConfig",void 0);var w=o.ccclass,d=o.property,v=o.menu;e("GameConfig",w("FALLING-BALL.GameConfig")(f=v("demo/falling-ball/GameConfig")((g=t((m=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"allowSleep",g,r(t)),n(t,"gravity",S,r(t)),n(t,"maxSubStep",b,r(t)),n(t,"frameRate",y,r(t)),n(t,"showStat",h,r(t)),t}i(t,e);var a=t.prototype;return a.__preload=function(){l.instance.allowSleep=this.allowSleep,l.instance.gravity=this.gravity,l.instance.maxSubSteps=this.maxSubStep,l.instance.fixedTimeStep=1/this.frameRate},a.start=function(){this.node.addComponent(p),this.showStat||c&&c.hideStats()},a.onDestroy=function(){l.instance.allowSleep=!0,l.instance.maxSubSteps=1,l.instance.fixedTimeStep=1/60,l.instance.gravity=new s(0,-10,0)},t}(u)).prototype,"allowSleep",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=t(m.prototype,"gravity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,-20,0)}}),b=t(m.prototype,"maxSubStep",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=t(m.prototype,"frameRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),h=t(m.prototype,"showStat",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=m))||f)||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ColumnCtr.ts","./TempConst.ts","./BallCtr.ts","./FloorFlagCtr.ts","./CameraFollow.ts"],(function(t){var e,r,n,i,l,a,o,s,c,u,g,h,m,b,p,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,o=t.Node,s=t.Button,c=t.EventHandler,u=t.LabelComponent,g=t.Component},function(t){h=t.ColumnCtr},function(t){m=t.parseTime2String},function(t){b=t.BallCtr},function(t){p=t.FloorFlagCtr},function(t){C=t.CameraFollow}],execute:function(){var f,d,v,L,_,y,I,B,G,F,S,P,A,w,k,N,z,E,R;l._RF.push({},"7df5dxpZz5NOIBvxqIr9ZFD","GameCtr",void 0);var M=a.ccclass,O=a.property,T=a.menu,D=function(t){return t[t.LOBBY=0]="LOBBY",t[t.GAMING=1]="GAMING",t[t.GAMEOVER=2]="GAMEOVER",t}(D||{});t("GameCtr",(f=M("FALLING-BALL.GameCtr"),d=T("demo/falling-ball/GameCtr"),v=O({type:o}),L=O({type:o}),_=O({type:o}),y=O({type:C}),I=O({type:h}),B=O({type:b}),G=O({type:p}),f(F=d((P=e((S=function(t){function e(){for(var e,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,n(e,"gamePanel",P,i(e)),n(e,"loginPanel",A,i(e)),n(e,"overPanel",w,i(e)),n(e,"cameraCtr",k,i(e)),n(e,"columnCtr",N,i(e)),n(e,"ballCtr",z,i(e)),n(e,"floorFlagCtr",E,i(e)),n(e,"totalSecond",R,i(e)),e._tick=0,e._intervalId=-1,e._state=D.LOBBY,e._timingLb=null,e._scoreLb=null,e}r(e,t);var l=e.prototype;return l.start=function(){var t=this.loginPanel.getChildByName("StartBtn").getComponent(s),e=new c;e.target=this.node,e.component="FALLING-BALL.GameCtr",e.handler="gameStart",t.clickEvents.push(e);var r=this.overPanel.getChildByName("BackBtn").getComponent(s),n=new c;n.target=this.node,n.component="FALLING-BALL.GameCtr",n.handler="gameRestart",r.clickEvents.push(n),this.columnCtr.enabled=!1,this.floorFlagCtr.enabled=!1,this._timingLb=this.gamePanel.getChildByName("TimingLabel").getComponent(u),this._scoreLb=this.gamePanel.getChildByName("ScoreLabel").getComponent(u),this._timingLb.string=m(this.totalSecond);var i=localStorage.getItem("score");null!=i&&(this._scoreLb.string=i)},l.gameStart=function(){this.columnCtr.enabled=!0,this.floorFlagCtr.enabled=!0,this.loginPanel.active=!1,this._tick=0,this._timingLb.string=m(this.totalSecond),this._scoreLb.string="0",this._intervalId=setInterval(this.gameTick.bind(this),1e3),this._state=D.GAMING},l.gameRestart=function(){this.overPanel.active=!1,this.ballCtr.reset(),this.columnCtr.reset(),this.floorFlagCtr.reset(),this.cameraCtr.reset(),this.gameStart()},l.gameBackToLogin=function(){this.loginPanel.active=!0,this.overPanel.active=!1,this.ballCtr.reset(),this.columnCtr.reset(),this.floorFlagCtr.reset(),this.cameraCtr.reset(),this._timingLb.string=m(this.totalSecond);var t=localStorage.getItem("score");null!=t&&(this._scoreLb.string=t)},l.gameTick=function(){this._tick++;var t=this.totalSecond-this._tick;if(t<0||this.ballCtr.hitRed){if(this.columnCtr.enabled=!1,(this.ballCtr.isDeadlock||this.ballCtr.hitRed)&&this._state!=D.GAMEOVER){this._state=D.GAMEOVER,clearInterval(this._intervalId),this.overPanel.active=!0,this.columnCtr.enabled=!1;var e=localStorage.getItem("score");if(null!=e){var r=parseInt(e);parseInt(this._scoreLb.string)>r&&localStorage.setItem("score",this._scoreLb.string)}else localStorage.setItem("score",this._scoreLb.string)}}else this._timingLb.string=m(t)},l.onDestroy=function(){clearInterval(this._intervalId)},e}(g)).prototype,"gamePanel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(S.prototype,"loginPanel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(S.prototype,"overPanel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(S.prototype,"cameraCtr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(S.prototype,"columnCtr",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"ballCtr",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"floorFlagCtr",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(S.prototype,"totalSecond",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),F=S))||F)||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/GenerateHexMap.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,a,s,l,f,p,h,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Prefab,f=e.MeshRenderer,p=e.geometry,h=e.Vec3,c=e.instantiate,u=e.Component}],execute:function(){var g,d,x,y,b,m,v,P;a._RF.push({},"9e371aBY4JOgL9L6x7XnmVd","GenerateHexMap",void 0);var M=s.ccclass,w=s.property,z=s.menu;e("GenerateHexMap",(g=M("simple-bow.GenerateHexMap"),d=z("demo/simple-bow/GenerateHexMap"),x=w(l),g(y=d((m=t((b=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"hexPrefab",m,i(t)),n(t,"axisLength",v,i(t)),n(t,"offset",P,i(t)),t}return r(t,e),t.prototype.generateMap=function(){if(!(this.node.children.length>0)&&this.hexPrefab){var e=this.hexPrefab.data,t=e.getComponentsInChildren(f);if(!(t.length<=0)){var r=t[0].mesh.renderingSubMeshes[0].geometricInfo.boundingBox,n=p.AABB.fromPoints(new p.AABB,r.min,r.max);h.multiply(n.halfExtents,n.halfExtents,e.scale);for(var i=2*n.halfExtents.z,o=n.halfExtents.x+i/2*Math.tan(Math.PI/6),a=new h(o,0,i),s=this.axisLength,l=2*s,u=s,g=0;g<=s;g++)for(var d=s+g,x=(l-s-g)/2*a.z,y=(g-u)*this.offset,b=0;b<=d;b++){var m=c(this.hexPrefab);this.node.addChild(m);var v=g-s,P=b-s,M=(b-u)*this.offset;m.setPosition(a.x*v+y,0,a.z*P+x+M)}for(var w=0;w<s;w++)for(var z=s+w,B=(l-s-w)/2*a.z,C=(-w+u)*this.offset,L=0;L<=z;L++){var A=c(this.hexPrefab);this.node.addChild(A);var H=-w+s,D=L-s,G=(L-u)*this.offset;A.setPosition(a.x*H+C,0,a.z*D+B+G)}console.log("Finish.")}}},o(t,[{key:"generate",get:function(){return!1},set:function(e){this.generateMap()}},{key:"clear",get:function(){return!1},set:function(e){this.node.destroyAllChildren()}}]),t}(u)).prototype,"hexPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(b.prototype,"generate",[w],Object.getOwnPropertyDescriptor(b.prototype,"generate"),b.prototype),t(b.prototype,"clear",[w],Object.getOwnPropertyDescriptor(b.prototype,"clear"),b.prototype),v=t(b.prototype,"axisLength",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(b.prototype,"offset",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.02}}),y=b))||y)||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/ground.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,r,o,a,s,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,s=i.Node,l=i.Component}],execute:function(){var u,p,c,h,f,d,g;o._RF.push({},"22c90hEyfxHvbY8lQgqlkQ+","ground",void 0);var v=a.ccclass,_=a.property;i("PhysicsGround",(u=v("PhysicsGround"),p=_(s),u((f=t((h=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,e(t,"spinDuration",f,r(t)),e(t,"spinInterval",d,r(t)),e(t,"manualSpinSliderNode",g,r(t)),t._time=0,t._angle=0,t._autoSpin=!0,t}n(t,i);var o=t.prototype;return o.update=function(i){if(this._autoSpin){this._time+=i;var t=Math.min(this.spinInterval-this._time%this.spinInterval,this.spinDuration),n=Math.floor(this._time/this.spinInterval)%2;this._angle=function(i,t,n){return i+(t-i)*(Math.sin((n-.5)*Math.PI)+1)*.5}(n?0:180,n?180:0,t/this.spinDuration)}this.node.setRotationFromEuler(0,0,this._angle)},o.toggleSpin=function(i){this._autoSpin=i.isChecked,this.manualSpinSliderNode.active=!i.isChecked},o.setAngle=function(i){this._angle=180*(.5-i.progress)},t}(l)).prototype,"spinDuration",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),d=t(h.prototype,"spinInterval",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),g=t(h.prototype,"manualSpinSliderNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=h))||c));o._RF.pop()}}}));

System.register("chunks:///_virtual/GroupMaskTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,o,s,a,u,p,c,l,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty,i=t.inheritsLoose,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Enum,u=t.Node,p=t.PhysicsSystem,c=t.RigidBodyComponent,l=t.ColliderComponent,f=t.Component}],execute:function(){var y,m,g,h,M,b,k,d,v,E,_,L,C,G,N,T,A;o._RF.push({},"046db/OuflBx5fSBhkjNEL3","GroupMaskTest",void 0);var S=s.ccclass,w=s.property,z=s.menu,B=t("EPHY_MASK",function(t){return t[t.M_NONE=0]="M_NONE",t[t.M_ALL=4294967295]="M_ALL",t}({}));a(B);var P=(y=S("CASES.GroupMaskTestItem"),m=w({type:u}),g=w({type:p.PhysicsGroup}),h=w({type:B}),y((k=e((b=function(){r(this,"target",k,this),r(this,"group",d,this),r(this,"mask",v,this)}).prototype,"target",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(b.prototype,"group",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.PhysicsGroup.DEFAULT}}),v=e(b.prototype,"mask",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.M_ALL}}),M=b))||M);t("GroupMaskTest",(E=S("CASES.GroupMaskTest"),_=z("cases/GroupMaskTest"),L=w({type:[P]}),C=w({type:c}),E(G=_((T=e((N=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"items",T,n(e)),r(e,"testBody",A,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){this.items.forEach((function(t){if(t.target){var e=t.target.getComponent(l);e.setGroup(t.group),e.setMask(t.mask)}})),this.testBody.setMask(0)},o.setItemMaskToNone=function(t,e){var r=parseInt(e);this.items[r].target.getComponent(l).setMask(B.M_NONE),this.items.forEach((function(t){if(t.target){var e=t.target.getComponent(c);e&&e.wakeUp()}}))},e}(f)).prototype,"items",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(N.prototype,"testBody",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=N))||G)||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/hinge-ctl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,c,l,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,l=e.Node,s=e.HingeConstraint,a=e.Component}],execute:function(){var h,u,g,p,f;r._RF.push({},"b80a0vaeklNKqHIAcl1zh1D","hinge-ctl",void 0);var _=c.ccclass,y=c.property;e("hinge_ctl",(h=_("hinge_ctl"),u=y({type:l}),h((f=t((p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"hinge",f,o(t)),t._hingeJoint=null,t}n(t,e);var r=t.prototype;return r.start=function(){this._hingeJoint=this.hinge.getComponent(s)},r.update=function(e){},r.onDriveForceChange=function(e){this._hingeJoint&&(this._hingeJoint.motorForceLimit=1e3*e._progress)},r.onDriveVelocityChange=function(e){this._hingeJoint&&(this._hingeJoint.motorVelocity=3600*e._progress)},t}(a)).prototype,"hinge",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=p))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/HingeConstraint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,n,o,r,s,a,l,c,p,h;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,a=i.RigidBodyComponent,l=i.Vec3,c=i.PhysicsSystem,p=i.Quat,h=i.Component}],execute:function(){var d,u,y,m,f,b,w,B,g,A,C,v,x;r._RF.push({},"88526Gl+BFJor0mZKHtrsVL","HingeConstraint",void 0);var N=s.ccclass,_=s.property;i("HingeConstraint",(d=N("HingeConstraint"),u=_({type:a}),y=_({type:a}),d((b=e((f=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=i.call.apply(i,[this].concat(r))||this,n(e,"connectedBody",b,o(e)),n(e,"selfBody",w,o(e)),n(e,"collideConnected",B,o(e)),n(e,"pivotA",g,o(e)),n(e,"pivotB",A,o(e)),n(e,"axisA",C,o(e)),n(e,"axisB",v,o(e)),n(e,"maxForce",x,o(e)),e._hinge=null,e}return t(e,i),e.prototype.start=function(){if(null==this.selfBody&&(this.selfBody=this.getComponent(a)),window.CC_PHYSICS_CANNON){if(this.selfBody&&this.connectedBody){var i=new CANNON.Vec3,e=new CANNON.Vec3;l.copy(i,this.pivotA),l.copy(e,this.pivotB);var t=new CANNON.Vec3,n=new CANNON.Vec3;l.copy(t,this.axisA),l.copy(n,this.axisB),this._hinge=new CANNON.HingeConstraint(this.selfBody.body.impl,this.connectedBody.body.impl,{maxForce:this.maxForce,pivotA:i,pivotB:e,axisA:t,axisB:n}),this._hinge.collideConnected=this.collideConnected,c.instance.physicsWorld.impl.addConstraint(this._hinge),CANNON.World.id2Constraint[this._hinge.id]=this._hinge}}else if(window.CC_PHYSICS_AMMO&&this.selfBody){var o=new Ammo.btVector3(this.pivotA.x,this.pivotA.y,this.pivotA.z),r=new Ammo.btVector3(this.axisA.x,this.axisA.y,this.axisA.z);if(this.connectedBody){var s=new Ammo.btVector3(this.pivotB.x,this.pivotB.y,this.pivotB.z),h=new Ammo.btVector3(this.axisB.x,this.axisB.y,this.axisB.z);this._hinge=new Ammo.btHingeConstraint(this.selfBody.body.impl,this.connectedBody.body.impl,o,s,r,h)}else{var d=new p;p.fromEuler(d,-90,0,0);var u=new Ammo.btQuaternion(d.x,d.y,d.z,d.w),y=new Ammo.btTransform;y.setIdentity(),y.setOrigin(o),y.setRotation(u),this._hinge=new Ammo.btHingeConstraint(this.selfBody.body.impl,y)}c.instance.physicsWorld.impl.addConstraint(this._hinge,!this.collideConnected)}},e}(h)).prototype,"connectedBody",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(f.prototype,"selfBody",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(f.prototype,"collideConnected",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=e(f.prototype,"pivotA",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),A=e(f.prototype,"pivotB",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),C=e(f.prototype,"axisA",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),v=e(f.prototype,"axisB",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),x=e(f.prototype,"maxForce",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e6}}),m=f))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/InstanceMgr.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"406f8nZB99CRLEJhl8g+cQS","InstanceMgr",void 0);n("InstanceMgr",function(){function n(){}return n.registerInstance=function(t,r){null!=n[t]?console.error(t,"is duplicate"):n[t]=r},n.reset=function(){n.FourDirButtons&&(n.FourDirButtons=null),n.MotorCom&&(n.MotorCom=null),n.MotorState&&(n.MotorState=null),n.MotorCtr&&(n.MotorCtr=null),n.DebugManager&&(n.DebugManager=null),n.BonusMgr&&(n.BonusMgr=null)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Instantiate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PrefabPoolUtil.ts","./EShapeAlgorithm.ts","./EGroupMask.ts"],(function(e){var t,r,o,n,i,a,l,s,u,c,h,p,m,f,b,g,y,P,v,E,d,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.PhysicsSystem,u=e.director,c=e.Director,h=e.Vec3,p=e.Quat,m=e.ColliderComponent,f=e.BoxColliderComponent,b=e.Component,g=e.math},function(e){y=e.PrefabPoolUtil},function(e){P=e.EShapeAlgorithm,v=e.spiral_algorithm,E=e.x_square_2_algorithm,d=e.random_algorithm},function(e){I=e.EGroup}],execute:function(){var L,w,A,S,_,M,x,O,R,B,H,C,D;i._RF.push({},"44707WHM/dLRr3ZRoRjlPbE","Instantiate",void 0);var N=a.ccclass,z=a.property,k=a.menu;e("Instantiate",(L=N("SIMPLE-HOLE.Instantiate"),w=k("demo/simple-hole/Instantiate"),A=z({type:P}),S=z({type:l}),_=z({type:l}),L(M=w((O=t((x=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"algorithms",O,n(t)),o(t,"boxPrefab",R,n(t)),o(t,"spherePrefab",B,n(t)),o(t,"boxAmount",H,n(t)),o(t,"sphereAmount",C,n(t)),o(t,"gravity",D,n(t)),t}r(t,e);var i=t.prototype;return i.start=function(){s.instance.gravity=this.gravity,this.spawnEntity(),u.once(c.EVENT_BEFORE_PHYSICS,(function(){s.instance.resetAccumulator()}))},i.onDestroy=function(){s.instance.gravity=new h(0,-10,0),y.clear("SIMPLE-HOLE.box"),y.clear("SIMPLE-HOLE.sphere")},i.spawnEntity=function(){for(var e=[],t=this.boxAmount;t--;){var r=y.getItemByPoolName("SIMPLE-HOLE.box",this.boxPrefab);r.name="Body",e.push(r)}for(var o=this.sphereAmount;o--;){var n=y.getItemByPoolName("SIMPLE-HOLE.sphere",this.spherePrefab);n.name="Body",e.push(n)}switch(this.algorithms){case P.RANDOM:for(var i=0;i<e.length;i++)e[i].worldPosition=d(-17,17);break;case P.X_SQUARE_2:for(var a=0;a<e.length;a++)e[a].worldPosition=E(a,e.length);break;case P.SPIRAL:for(var l=0;l<e.length;l++)e[l].worldPosition=v(l,e.length)}for(var s=0;s<e.length;s++){var u=e[s];u.worldRotation=p.IDENTITY,u.active=!0,this.node.addChild(u);var c=u.getComponent(m);c&&(c.setGroup(I.G_BODY),c.setMask(-1))}},i.recoverEntity=function(){for(var e=this.node.children.length;e--;){var t=this.node.children[e];t.removeFromParent(),null!==t.getComponent(f)?y.recoverItemByPoolName("SIMPLE-HOLE.box",t):y.recoverItemByPoolName("SIMPLE-HOLE.sphere",t)}},i.toggleAlgorithms=function(e,t){this.algorithms=Number(t),this.recoverEntity(),this.spawnEntity()},t}(b)).prototype,"algorithms",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.RANDOM}}),R=t(x.prototype,"boxPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(x.prototype,"spherePrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(x.prototype,"boxAmount",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),C=t(x.prototype,"sphereAmount",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),D=t(x.prototype,"gravity",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g.Vec3(0,-10,0)}}),M=x))||M)||M));i._RF.pop()}}}));

System.register("chunks:///_virtual/Instantiate2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,a,s,l,c,u,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Vec3,l=t.Quat,c=t.Prefab,u=t.Node,h=t.instantiate,d=t.Component}],execute:function(){var b,f,p,P,v,y,m,x,g;r._RF.push({},"78251UFtupB8o2IN4/x46EH","Instantiate",void 0);var A=a.ccclass,I=a.property,z=a.menu,w=new s,L=new l;t("Instantiate",(b=A("RALL-A-BALL.Instantiate"),f=z("demo/roll-a-ball/Instantiate"),p=I({type:c}),P=I({type:u}),b(v=f((m=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"boxPrefab",m,i(e)),o(e,"boxAmount",x,i(e)),o(e,"ballNode",g,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){w.y=.5;for(var t=2*Math.PI/this.boxAmount,e=this.boxAmount;e--;){var n=h(this.boxPrefab);n.setParent(this.node),n.active=!0;var o=t*e;w.x=4*Math.cos(o),w.z=8*Math.sin(o),n.setWorldPosition(w)}var i=h(this.boxPrefab);i.setParent(this.node),i.setWorldPosition(-6,2.5,0);var r=h(this.boxPrefab);r.setParent(this.node),r.setWorldPosition(6,2.5,0)},r.update=function(t){if(this.node.children.length>0){w.set(-1,1,0),w.normalize(),l.rotateAround(L,this.node.children[0].rotation,w,.01*Math.PI);for(var e=0;e<this.node.children.length;e++)this.node.children[e].setRotation(L)}},r.reset=function(){for(var t=0;t<this.node.children.length;t++)this.node.children[t].active=!0;this.ballNode.setWorldPosition(0,4,0)},e}(d)).prototype,"boxPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(y.prototype,"boxAmount",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),g=e(y.prototype,"ballNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Interface.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e08d5NozrhEYYFwoaUjR9Ox","Interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/listitem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scenelist.ts","./backbutton.ts"],(function(t){var e,n,i,s,o,a,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.LabelComponent,o=t.director,a=t.Component},function(t){c=t.sceneArray},function(t){r=t.BackButton}],execute:function(){var l;n._RF.push({},"4fa73P9DaREY7uj4BrhuimX","listitem",void 0);var u=i.ccclass,h=(i.property,i.menu);t("ListItem",u("TEST-LIST.ListItem")(l=h("misc/test-list/ListItem")(l=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).index=-1,e._name="",e.label=null,e}e(n,t);var i=n.prototype;return i.onload=function(){},i.start=function(){this.index=this.node.getSiblingIndex(),this._name="",this.node&&(this.label=this.node.getComponentInChildren(s)),this.updateItem(this.index,c[this.index])},i.loadScene=function(){r.saveOffset(),r.saveIndex(this.index),o.loadScene(this._name)},i.updateItem=function(t,e){this.index=t,this._name=e,this.label.string=e},n}(a))||l)||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/LoopMotion.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,l,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Vec3,s=t.Quat,c=t.Node,u=t.Component}],execute:function(){var h,S,p,d,E,_,b,f,L,y,A,O,g,U,w,z,T,m,M,v,R;o._RF.push({},"5d97f6dr21PeayNx6Bp6RX6","LoopMotion",void 0);var N=a.menu,x=a.ccclass,P=a.property;t("LoopMotion",(h=x("CASES.LoopMotion"),S=N("cases/LoopMotion"),p=P({visible:function(){return this.USE_TRANSLATE}}),d=P({visible:function(){return this.USE_TRANSLATE}}),E=P({visible:function(){return this.USE_TRANSLATE&&this.USE_LOOP}}),_=P({visible:function(){return this.USE_ROTATION}}),b=P({visible:function(){return this.USE_SCALE}}),f=P({visible:function(){return this.USE_SCALE}}),L=P({visible:function(){return this.USE_SCALE&&this.USE_LOOP_SCALE}}),h(y=S((O=e((A=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"USE_TRANSLATE",O,r(e)),n(e,"deltaMotion",g,r(e)),n(e,"USE_LOOP",U,r(e)),n(e,"displacement",w,r(e)),n(e,"USE_ROTATION",z,r(e)),n(e,"deltaEuler",T,r(e)),n(e,"USE_SCALE",m,r(e)),n(e,"deltaScale",M,r(e)),n(e,"USE_LOOP_SCALE",v,r(e)),n(e,"scaleLength",R,r(e)),e._origin=new l,e._rot=new s,e._scale=new l,e}i(e,t);var o=e.prototype;return o.start=function(){s.fromEuler(this._rot,this.deltaEuler.x,this.deltaEuler.y,this.deltaEuler.z),l.copy(this._origin,this.node.worldPosition),l.copy(this._scale,this.node.worldScale)},o.update=function(t){if(this.USE_TRANSLATE){if(this.USE_LOOP){var e=this.node.worldPosition;Math.abs(e.x-this._origin.x)>this.displacement.x&&(this.deltaMotion.x*=-1),Math.abs(e.y-this._origin.y)>this.displacement.y&&(this.deltaMotion.y*=-1),Math.abs(e.z-this._origin.z)>this.displacement.z&&(this.deltaMotion.z*=-1)}this.node.translate(this.deltaMotion,c.NodeSpace.WORLD)}if(this.USE_SCALE){var i=this.node.worldScale;this.USE_LOOP_SCALE&&(Math.abs(i.x-this._scale.x)>this.scaleLength.x&&(this.deltaScale.x*=-1),Math.abs(i.y-this._scale.y)>this.scaleLength.y&&(this.deltaScale.y*=-1),Math.abs(i.z-this._scale.z)>this.scaleLength.z&&(this.deltaScale.z*=-1)),this.node.setWorldScale(i.x+this.deltaScale.x,i.y+this.deltaScale.y,i.z+this.deltaScale.z)}this.USE_ROTATION&&this.node.rotate(this._rot,c.NodeSpace.WORLD)},e}(u)).prototype,"USE_TRANSLATE",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=e(A.prototype,"deltaMotion",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),U=e(A.prototype,"USE_LOOP",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=e(A.prototype,"displacement",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),z=e(A.prototype,"USE_ROTATION",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=e(A.prototype,"deltaEuler",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),m=e(A.prototype,"USE_SCALE",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=e(A.prototype,"deltaScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),v=e(A.prototype,"USE_LOOP_SCALE",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=e(A.prototype,"scaleLength",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),y=A))||y)||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./CcdTest.ts","./CharacterControllerTest2.ts","./CharacterControllerTriggerTest.ts","./ColliderTest.ts","./CollisionTest.ts","./DynamicTest.ts","./EnumCommand.ts","./GroupMaskTest.ts","./LoopMotion.ts","./MeshColliderTest.ts","./RaycastTest.ts","./SupportPhyiscs.ts","./SyncTest.ts","./TriggerTest.ts","./VelocitySetup.ts","./VelocityTest.ts","./emitter.ts","./engine-info.ts","./configurable-ctl.ts","./hinge-ctl.ts","./PhysicsEnvCheck.ts","./collider-manager.ts","./collider.ts","./ground.ts","./AxisHelper.ts","./CharacterControllerHelper.ts","./ContactPointHelper.ts","./CurveCastHelper.ts","./EmitBullet.ts","./Noise.ts","./PrefabPoolUtil.ts","./ProfilerManager.ts","./RaycastHelper.ts","./SweepHelper.ts","./first-person-camera.ts","./Benchmark.ts","./Buoyancy.ts","./WaterWaves.ts","./BallCtr.ts","./CameraFollow.ts","./ColumnCtr.ts","./FloorFlagCtr.ts","./GameConfig.ts","./GameCtr.ts","./TempConst.ts","./Instantiate2.ts","./ball-control.ts","./collider-disabled.ts","./coordinate.ts","./GenerateHexMap.ts","./RiggedBow.ts","./EnumDefine.ts","./Interface.ts","./DebugCamera.ts","./DebugManager.ts","./MapLoaderTesing.ts","./MapSpawner.ts","./BonusMgr.ts","./CameraFollow2.ts","./FourDirButtons.ts","./InstanceMgr.ts","./MotorCom.ts","./MotorCtr.ts","./MotorState.ts","./active-change.ts","./disable-onload.ts","./material-change.ts","./EGroupMask.ts","./EShapeAlgorithm.ts","./EntitySetup.ts","./Instantiate.ts","./MotionCtr.ts","./BearingController.ts","./CharacterController.ts","./CharacterControllerTest.ts","./HingeConstraint.ts","./Point2PointConstraint.ts","./SpinningTest.ts","./backbutton.ts","./listitem.ts","./scenelist.ts","./PhysicsEnvCheck2.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MapLoaderTesing.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,n,i,s,a,l,p,c,d,u,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass},function(e){s=e.cclegacy,a=e._decorator,l=e.JsonAsset,p=e.Component,c=e.loader,d=e.Prefab,u=e.instantiate,f=e.director}],execute:function(){var g,h,y,L,v,m;s._RF.push({},"8b0f1ivhVpM/pX+uynm/Wfr","MapLoaderTesing",void 0);var M=a.ccclass,_=a.property,b=a.menu;e("MapLoaderTesing",(g=M("SIMPLE-CAR.MapLoaderTesing"),h=b("demo/simple-car/MapLoaderTesing"),y=_({type:l}),g(L=h((m=t((v=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"jsonAsset",m,n(t)),t._isLoading=!1,t}return o(t,e),t.prototype.start=function(){this.load=!0},i(t,[{key:"load",get:function(){return this._isLoading},set:function(e){var t=this;if(!this._isLoading){if(this._isLoading=!0,this.jsonAsset)for(var o=this.jsonAsset.json,r=0,n=o.length,i=function(){var e=o[s];c.loadRes("simple-car/prefabs/mapItem/"+e.n,d,(function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];if(i)if(i[0])console.error(i[0]);else{var a=i[1],l=u(a);t.node&&t.node.addChild(l),l.setWorldPosition(e.p),l.setWorldRotation(e.r),l.setWorldScale(e.s)}++r==n&&f.emit("onMapLoaded")}))},s=0;s<o.length;s++)i();this._isLoading=!1}}}]),t}(p)).prototype,"jsonAsset",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(v.prototype,"load",[_],Object.getOwnPropertyDescriptor(v.prototype,"load"),v.prototype),L=v))||L)||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/MapSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,n,r,s,i,t;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.createClass},function(e){s=e.cclegacy,i=e._decorator,t=e.Component}],execute:function(){var c,a;s._RF.push({},"42744KG9CJNLrQD64hUia5F","MapSpawner",void 0);var l=i.ccclass,p=i.property,u=i.menu;e("MapSpawner",l("SIMPLE-CAR.MapSpawner")(c=u("demo/simple-car/MapSpawner")((o((a=function(e){function o(){for(var o,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(o=e.call.apply(e,[this].concat(r))||this)._isFinish=!0,o}return n(o,e),r(o,[{key:"spawn",get:function(){return!this._isFinish},set:function(e){if(this._isFinish){console.log("开始计算"),this._isFinish=!1;for(var o=[],n=0;n<this.node.children.length;n++){var r=this.node.children[n],s={n:r.name,p:r.worldPosition,r:r.worldRotation,s:r.worldScale};o[n]=s}var i=window.cce.project;i.replace("\\"," / ");var t=this.node.name+".json",c=i+"/assets/resources/simple-car/map/";console.log("开始生成:",t),console.log("路径:",c);var a=window.Editor.require("fs");a.exists(c,(function(e){e||a.mkdir(i+"/assets/resources",(function(e){e&&console.log("创建目录失败："+e),a.mkdir(i+"/assets/resources/simple-car",(function(e){e&&console.log("创建目录失败："+e),a.mkdir(c,(function(e){e?console.log("创建目录失败："+e):console.log("创建目录成功:",c)}))}))}))}));var l=this,p=JSON.stringify(o);a.writeFile(c+t,p,(function(e){e?console.log("生成失败:",e):console.log("完成生成"),l._isFinish=!0}))}}}]),o}(t)).prototype,"spawn",[p],Object.getOwnPropertyDescriptor(a.prototype,"spawn"),a.prototype),c=a))||c)||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/material-change.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,l,a,o,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Material,u=e.ModelComponent,p=e.Component}],execute:function(){var c,m,h,s,b,f,g,d,y,M,D,z,v,w,L,R;l._RF.push({},"637b9lEDVZHg4+RBMRx6Nbc","material-change",void 0);var _=a.ccclass,E=a.property,H=a.menu;e("materialchange",(c=_("SIMPLE-HOLE.material-change"),m=H("demo/simple-hole/material-change"),h=E({type:o}),s=E({type:o}),b=E({type:o}),f=E({type:o}),g=E({type:u}),d=E({type:u}),c(y=m((D=t((M=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"mpDebug",D,r(t)),n(t,"mhDebug",z,r(t)),n(t,"mp",v,r(t)),n(t,"mh",w,r(t)),n(t,"mpModel",L,r(t)),n(t,"mhModel",R,r(t)),t}i(t,e);var l=t.prototype;return l.start=function(){this.enabled=!1},l.enable=function(){this.enabled=!this.enabled,this.mpModel&&(this.mpModel.material=this.enabled?this.mpDebug:this.mp),this.mhModel&&(this.mhModel.material=this.enabled?this.mhDebug:this.mh)},t}(p)).prototype,"mpDebug",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(M.prototype,"mhDebug",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(M.prototype,"mp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(M.prototype,"mh",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(M.prototype,"mpModel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"mhModel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=M))||y)||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/MeshColliderTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,r,s,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.RigidBodyComponent,s=e.Vec3,i=e.Component}],execute:function(){var l;o._RF.push({},"93dcfB9XZJG3aUwOynclUhe","MeshColliderTest",void 0);var c=n.ccclass,h=(n.property,n.menu);e("MeshColliderTest",c("CASES.MeshColliderTest")(l=h("cases/MeshColliderTest")(l=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).startPos=[],t}t(o,e);var n=o.prototype;return n.start=function(){for(var e=0;e<this.node.children.length;e++)this.startPos.push(this.node.children[e].worldPosition.clone())},n.update=function(e){for(var t=0;t<this.node.children.length;t++)this.node.children[t].worldPosition.y<-10&&(this.node.children[t].worldPosition=this.startPos[t],this.node.children[t].getComponent(r).setLinearVelocity(s.ZERO))},o}(i))||l)||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/MotionCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,s,c,h,r,a,l,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,c=e._decorator,h=e.math,r=e.KeyCode,a=e.clamp,l=e.input,y=e.Input,d=e.Component}],execute:function(){var p,u,v,_,f,C,E,z;s._RF.push({},"9a884xRq8hErahsBz05l4NK","MotionCtr",void 0);var m=c.ccclass,x=c.property,S=c.menu,T=new h.Vec2,k=new h.Vec2,b=new h.Vec3,w="W".charCodeAt(0),V="S".charCodeAt(0),g="A".charCodeAt(0),A="D".charCodeAt(0),D="w".charCodeAt(0),K="s".charCodeAt(0),M="a".charCodeAt(0),O="d".charCodeAt(0),U=r.SHIFT_LEFT;e("MotionCtr",(p=m("SIMPLE-HOLE.MotionCtr"),u=S("demo/simple-hole/MotionCtr"),v=x({slide:!0,range:[.05,.5,.01]}),p(_=u((C=t((f=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s))||this,i(t,"moveSpeed",C,n(t)),i(t,"moveSpeedShiftScale",E,n(t)),i(t,"damp",z,n(t)),t._euler=new h.Vec3,t._velocity=new h.Vec3,t._position=new h.Vec3,t._speedScale=1,t}o(t,e);var s=t.prototype;return s.start=function(){h.Vec3.copy(this._euler,this.node.eulerAngles),h.Vec3.copy(this._position,this.node.position)},s.update=function(e){h.Vec3.transformQuat(b,this._velocity,this.node.rotation),h.Vec3.scaleAndAdd(this._position,this._position,b,this.moveSpeed*this._speedScale),h.Vec3.lerp(b,this.node.position,this._position,e/this.damp),(b.x<-17||b.x>17||b.z<-17||b.z>17)&&this._position.set(b),b.x=a(b.x,-17,17),b.z=a(b.z,-17,17),this.node.setPosition(b)},s.onDestroy=function(){this._removeEvents()},s.onEnable=function(){this._addEvents()},s.onDisable=function(){this._removeEvents()},s._addEvents=function(){l.on(y.EventType.KEY_DOWN,this.onKeyDown,this),l.on(y.EventType.KEY_UP,this.onKeyUp,this),l.on(y.EventType.TOUCH_MOVE,this.onTouchMove,this),l.on(y.EventType.TOUCH_END,this.onTouchEnd,this)},s._removeEvents=function(){l.off(y.EventType.KEY_DOWN,this.onKeyDown,this),l.off(y.EventType.KEY_UP,this.onKeyUp,this),l.off(y.EventType.TOUCH_MOVE,this.onTouchMove,this),l.off(y.EventType.TOUCH_END,this.onTouchEnd,this)},s.onKeyDown=function(e){var t=this._velocity;e.keyCode===U?this._speedScale=this.moveSpeedShiftScale:e.keyCode===w||e.keyCode===D?0===t.z&&(t.z=-1.25):e.keyCode===V||e.keyCode===K?0===t.z&&(t.z=1.25):e.keyCode===g||e.keyCode===M?0===t.x&&(t.x=-1.25):e.keyCode!==A&&e.keyCode!==O||0===t.x&&(t.x=1.25)},s.onKeyUp=function(e){var t=this._velocity;e.keyCode===U?this._speedScale=1:e.keyCode===w||e.keyCode===D?t.z<0&&(t.z=0):e.keyCode===V||e.keyCode===K?t.z>0&&(t.z=0):e.keyCode===g||e.keyCode===M?t.x<0&&(t.x=0):e.keyCode!==A&&e.keyCode!==O||t.x>0&&(t.x=0)},s.onTouchMove=function(e){e.getStartLocation(T),e.getLocation(k),h.Vec2.subtract(k,k,T),this._velocity.x=.01*k.x,this._velocity.z=.01*-k.y,this._velocity.x=this._velocity.x<0?this._velocity.x-.75:this._velocity.x+.75,this._velocity.z=this._velocity.z<0?this._velocity.z-.75:this._velocity.z+.75,this._velocity.x=a(this._velocity.x,-1.25,1.25),this._velocity.z=a(this._velocity.z,-1.25,1.25)},s.onTouchEnd=function(e){e.getStartLocation(T),this._velocity.x=0,this._velocity.z=0},s.changeEnable=function(){this.enabled=!this.enabled},t}(d)).prototype,"moveSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(f.prototype,"moveSpeedShiftScale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),z=t(f.prototype,"damp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),_=f))||_)||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/MotorCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MotorState.ts","./MotorCtr.ts","./InstanceMgr.ts"],(function(t){var o,r,e,n,i,a,s,c,u,d,M,p,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,s=t.PhysicsSystem,c=t.Vec3,u=t.director,d=t.Component},function(t){M=t.MotorState},function(t){p=t.MotorCtr},function(t){h=t.InstanceMgr}],execute:function(){var l,f,y,C,m,g;i._RF.push({},"88df6xzbytF/qAIyvzeRExJ","MotorCom",void 0);var v=a.ccclass,L=a.property,S=a.menu;t("MotorCom",(l=v("SIMPLE-CAR.MotorCom"),f=S("demo/simple-car/MotorCom"),y=L({type:p}),l(C=f((g=o((m=function(t){function o(){for(var o,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return o=t.call.apply(t,[this].concat(i))||this,e(o,"MotorCtr",g,n(o)),o.MotorState=new M,o}r(o,t);var i=o.prototype;return i.__preload=function(){s.instance.gravity=new c(0,-30,0)},i.onLoad=function(){this.MotorState.onLoad(),this.MotorCtr.onLoad(),h.registerInstance("MotorCom",this)},i.start=function(){this.MotorState.start(),this.MotorCtr.start(),this.enabled=!1,this.MotorCtr.rigidBody.useGravity=!1,u.once("onMapLoaded",this.onMapLoaded,this)},i.update=function(t){this.MotorState.update(t),this.MotorCtr.update(t)},i.onMapLoaded=function(){this.enabled=!0,this.MotorCtr.rigidBody.useGravity=!0},i.onDestroy=function(){u.off("onMapLoaded",this.onMapLoaded,this),h.reset(),s.instance.gravity=new c(0,-10,0)},o}(d)).prototype,"MotorCtr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),C=m))||C)||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/MotorCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InstanceMgr.ts","./EnumDefine.ts"],(function(t){var e,i,r,o,n,c,s,a,h,l,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,o=t._decorator,n=t.RigidBodyComponent,c=t.clamp,s=t.Vec3,a=t.Quat,h=t.Vec2},function(t){l=t.InstanceMgr},function(t){f=t.EMotionState}],execute:function(){var u,y,d,_;r._RF.push({},"eb0d0fEobpJ1rjU+ocIahAk","MotorCtr",void 0);var p=o.ccclass,g=o.property;o.menu,o.requireComponent,t("MotorCtr",p("SIMPLE-CAR.MotorCtr")((d=e((y=function(){function t(){i(this,"vertical",d,this),i(this,"torque",_,this),this._forceZ=0,this._force=new s,this._linearVelocity=new s}var e=t.prototype;return e.onLoad=function(){l.registerInstance("MotorCtr",this)},e.start=function(){this.rigidBody=l.MotorCom.getComponent(n)},e.update=function(t){if(l.MotorState.verticalState==f.POSITIVE?this._forceZ+=this.vertical.x*t:l.MotorState.verticalState==f.NEGATIVE?this._forceZ+=-this.vertical.x*t:this._forceZ=0,0!=this._forceZ&&(this._forceZ=c(this._forceZ,-this.vertical.y,this.vertical.y),this._force.set(0,0,this._forceZ),s.transformQuat(this._force,this._force,this.rigidBody.node.worldRotation),this.rigidBody.getLinearVelocity(this._linearVelocity),this._linearVelocity.x=this._force.x,this._linearVelocity.z=this._force.z,this.rigidBody.setLinearVelocity(this._linearVelocity)),0!=this._forceZ){var e=Math.abs(1.5*this._forceZ/this.vertical.y);l.MotorState.horizontalState==f.POSITIVE?this.rigidBody.node.rotate(a.fromEuler(new a,0,this.torque.x*t*e,0),1):l.MotorState.horizontalState==f.NEGATIVE&&this.rigidBody.node.rotate(a.fromEuler(new a,0,-this.torque.x*t*e,0),1)}this.rigidBody.getAngularVelocity(this._force),this._force.y=0,this.rigidBody.setAngularVelocity(this._force)},t}()).prototype,"vertical",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),_=e(y.prototype,"torque",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),u=y))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/MotorState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InstanceMgr.ts","./EnumDefine.ts"],(function(t){var e,n,c,o,r,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){c=t.InstanceMgr},function(t){o=t.EFourDirType,r=t.EButtonState,a=t.EMotionState}],execute:function(){n._RF.push({},"48fedx0TKJNXJ9jSgaHMctc","MotorState",void 0);t("MotorState",function(){function t(){this._verticalState=a.NONE,this._horizontalState=a.NONE}var n=t.prototype;return n.onLoad=function(){c.registerInstance("MotorState",this)},n.start=function(){},n.update=function(t){var e=c.FourDirButtons,n=e.check(o.FORWARD,r.TOUCH_START)||e.check(o.FORWARD,r.TOUCH_MOVE),i=e.check(o.BACKWARD,r.TOUCH_START)||e.check(o.BACKWARD,r.TOUCH_MOVE);this._verticalState=n?i?a.NONE:a.POSITIVE:i?a.NEGATIVE:a.NONE;var T=e.check(o.TURNLEFT,r.TOUCH_START)||e.check(o.TURNLEFT,r.TOUCH_MOVE),u=e.check(o.TURNRIGHT,r.TOUCH_START)||e.check(o.TURNRIGHT,r.TOUCH_MOVE);this._horizontalState=T?u?a.NONE:a.POSITIVE:u?a.NEGATIVE:a.NONE},e(t,[{key:"verticalState",get:function(){return this._verticalState}},{key:"horizontalState",get:function(){return this._horizontalState}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Noise.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"420c4uU+dxAEYYVlOAcoOf3","Noise",void 0);var i=t("default",function(){function t(){}return t.dot2=function(t,r,i){return t[0]*r+t[1]*i},t.dot3=function(t,r,i,h){return t[0]*r+t[1]*i+t[2]*h},t.mix=function(t,r,i){return(1-i)*t+i*r},t.fade=function(t){return t*t*t*(t*(6*t-15)+10)},t.snoise=function(t,r){var i,h,s=(t+r)*(.5*(Math.sqrt(3)-1)),e=Math.floor(t+s),o=Math.floor(r+s),n=(3-Math.sqrt(3))/6,a=(e+o)*n,m=t-(e-a),p=r-(o-a);m>p?(i=1,h=0):(i=0,h=1);var d=m-i+n,u=p-h+n,f=m-1+2*n,c=p-1+2*n,g=255&e,v=255&o,l=this.perm[g+this.perm[v]]%12,M=this.perm[g+i+this.perm[v+h]]%12,x=this.perm[g+1+this.perm[v+1]]%12,A=.5-m*m-p*p,_=.5-d*d-u*u,q=.5-f*f-c*c;return 70*((A<0?0:(A*=A)*A*this.dot2(this.grad3[l],m,p))+(_<0?0:(_*=_)*_*this.dot2(this.grad3[M],d,u))+(q<0?0:(q*=q)*q*this.dot2(this.grad3[x],f,c)))},t.snoise3=function(t,r,i){var h,s,e,o,n,a,m=(t+r+i)*(1/3),p=Math.floor(t+m),d=Math.floor(r+m),u=Math.floor(i+m),f=1/6,c=(p+d+u)*f,g=t-(p-c),v=r-(d-c),l=i-(u-c);g>=v?v>=l?(h=1,s=0,e=0,o=1,n=1,a=0):g>=l?(h=1,s=0,e=0,o=1,n=0,a=1):(h=0,s=0,e=1,o=1,n=0,a=1):v<l?(h=0,s=0,e=1,o=0,n=1,a=1):g<l?(h=0,s=1,e=0,o=0,n=1,a=1):(h=0,s=1,e=0,o=1,n=1,a=0);var M=g-h+f,x=v-s+f,A=l-e+f,_=g-o+2*f,q=v-n+2*f,y=l-a+2*f,F=g-1+.5,N=v-1+.5,O=l-1+.5,R=255&p,S=255&d,Y=255&u,k=this.perm[R+this.perm[S+this.perm[Y]]]%12,w=this.perm[R+h+this.perm[S+s+this.perm[Y+e]]]%12,C=this.perm[R+o+this.perm[S+n+this.perm[Y+a]]]%12,D=this.perm[R+1+this.perm[S+1+this.perm[Y+1]]]%12,E=.6-g*g-v*v-l*l,U=.6-M*M-x*x-A*A,V=.6-_*_-q*q-y*y,b=.6-F*F-N*N-O*O;return 32*((E<0?0:(E*=E)*E*this.dot3(this.grad3[k],g,v,l))+(U<0?0:(U*=U)*U*this.dot3(this.grad3[w],M,x,A))+(V<0?0:(V*=V)*V*this.dot3(this.grad3[C],_,q,y))+(b<0?0:(b*=b)*b*this.dot3(this.grad3[D],F,N,O)))},t.cnoise3=function(t,r,i){var h=Math.floor(t),s=Math.floor(r),e=Math.floor(i);t-=h,r-=s,i-=e,h&=255,s&=255,e&=255;var o=this.perm[h+this.perm[s+this.perm[e]]]%12,n=this.perm[h+this.perm[s+this.perm[e+1]]]%12,a=this.perm[h+this.perm[s+1+this.perm[e]]]%12,m=this.perm[h+this.perm[s+1+this.perm[e+1]]]%12,p=this.perm[h+1+this.perm[s+this.perm[e]]]%12,d=this.perm[h+1+this.perm[s+this.perm[e+1]]]%12,u=this.perm[h+1+this.perm[s+1+this.perm[e]]]%12,f=this.perm[h+1+this.perm[s+1+this.perm[e+1]]]%12,c=this.dot3(this.grad3[o],t,r,i),g=this.dot3(this.grad3[p],t-1,r,i),v=this.dot3(this.grad3[a],t,r-1,i),l=this.dot3(this.grad3[u],t-1,r-1,i),M=this.dot3(this.grad3[n],t,r,i-1),x=this.dot3(this.grad3[d],t-1,r,i-1),A=this.dot3(this.grad3[m],t,r-1,i-1),_=this.dot3(this.grad3[f],t-1,r-1,i-1),q=this.fade(t),y=this.fade(r),F=this.fade(i),N=this.mix(c,g,q),O=this.mix(M,x,q),R=this.mix(v,l,q),S=this.mix(A,_,q),Y=this.mix(N,R,y),k=this.mix(O,S,y);return this.mix(Y,k,F)},t}());i.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],i.perm=[];for(var h=function(t){var r=0,i=0,h=0,s=1;t&&0!=t.length||(t=[+new Date]);var e,o=(e=4022871197,function(t){t=t.toString();for(var r=0;r<t.length;r++){var i=.02519603282416938*(e+=t.charCodeAt(r));i-=e=i>>>0,e=(i*=e)>>>0,e+=4294967296*(i-=e)}return 2.3283064365386963e-10*(e>>>0)});r=o(" "),i=o(" "),h=o(" ");for(var n=0;n<t.length;n++)(r-=o(t[n]))<0&&(r+=1),(i-=o(t[n]))<0&&(i+=1),(h-=o(t[n]))<0&&(h+=1);var a=function(){var t=2091639*r+2.3283064365386963e-10*s;return r=i,i=h,h=t-(s=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a}(),s=[],e=0;e<256;e++)s[e]=Math.floor(256*h());for(e=0;e<512;e++)i.perm[e]=s[255&e];r._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsEnvCheck.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,i,o,s,C,a;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator,o=n.Enum,s=n.LabelComponent,C=n.SpriteComponent,a=n.Component}],execute:function(){var c;t._RF.push({},"ac794yPoAdBvZzv5/e8WT2m","PhysicsEnvCheck",void 0);var h=i.ccclass,N=(i.property,i.menu),r=function(n){return n[n.BUILTIN=1]="BUILTIN",n[n.CANNON=2]="CANNON",n[n.AMMO=4]="AMMO",n[n.CANNON_AMMO=n.CANNON+n.AMMO]="CANNON_AMMO",n[n.ALL=-1]="ALL",n}(r||{});o(r);n("PhysicsEnvCheck",h("PhysicsEnvCheck")(c=N("physics/PhysicsEnvCheck")(c=function(n){function t(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))||this).physics=r.CANNON_AMMO,e}return e(t,n),t.prototype.onLoad=function(){var n;window.CC_PHYSICS_BUILTIN?(n=this.node.getChildByName("desc").getComponent(s)).string="当前物理：builtin":window.CC_PHYSICS_CANNON?(n=this.node.getChildByName("desc").getComponent(s)).string="当前物理：cannon.js":window.CC_PHYSICS_AMMO?(n=this.node.getChildByName("desc").getComponent(s)).string="当前物理：ammo.js":(n=this.node.getChildByName("desc").getComponent(s)).string="当前物理：none";var e=this.node.name;switch("cannon-ammo"===e?this.physics=r.CANNON_AMMO:"builtin"===e?this.physics=r.BUILTIN:"cannon"===e?this.physics=r.CANNON:"ammo"===e?this.physics=r.AMMO:"builtin-cannon-ammo"===e&&(this.physics=r.ALL),this.physics){case r.ALL:break;case r.CANNON_AMMO:if(window.CC_PHYSICS_CANNON||window.CC_PHYSICS_AMMO)break;(n=this.node.getChildByName("lb").getComponent(s)).enabled=!0,n.string="测试此场景需要将物理模块设置为 cannon.js 或 ammo.js",this.getComponentInChildren(C).enabled=!0;break;case r.CANNON:window.CC_PHYSICS_CANNON||((n=this.node.getChildByName("lb").getComponent(s)).enabled=!0,n.string="测试此场景需要将物理模块设置为 cannon.js",this.getComponentInChildren(C).enabled=!0);break;case r.AMMO:window.CC_PHYSICS_AMMO||((n=this.node.getChildByName("lb").getComponent(s)).enabled=!0,n.string="测试此场景需要将物理模块设置为 ammo.js",this.getComponentInChildren(C).enabled=!0);break;case r.BUILTIN:window.CC_PHYSICS_BUILTIN||((n=this.node.getChildByName("lb").getComponent(s)).enabled=!0,n.string="测试此场景需要将物理模块设置为 builtin",this.getComponentInChildren(C).enabled=!0)}},t}(a))||c)||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsEnvCheck2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,s,t,i,h,c,o,l;return{setters:[function(e){n=e.inheritsLoose},function(e){s=e.cclegacy,t=e._decorator,i=e.Enum,h=e.LabelComponent,c=e.physics,o=e.SpriteComponent,l=e.Component}],execute:function(){var L;s._RF.push({},"b39853MhdxNDa1s/EG2covB","PhysicsEnvCheck",void 0);var a=t.ccclass,r=(t.property,t.menu),N=function(e){return e[e.BUILTIN=1]="BUILTIN",e[e.CANNON=2]="CANNON",e[e.BULLET=4]="BULLET",e[e.BUILTIN_BULLET=e.BUILTIN+e.BULLET]="BUILTIN_BULLET",e[e.CANNON_BULLET=e.CANNON+e.BULLET]="CANNON_BULLET",e[e.ALL=-1]="ALL",e}(N||{});i(N);e("PhysicsEnvCheck",a("CHECKS.PhysicsEnvCheck")(L=r("misc/checks/PhysicsEnvCheck")(L=function(e){function s(){for(var n,s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];return(n=e.call.apply(e,[this].concat(t))||this).physics=N.CANNON_BULLET,n}return n(s,e),s.prototype.onLoad=function(){var e=this.node.getChildByName("desc").getComponent(h);if(e.fontSize=30,c.PhysicsSystem.PHYSICS_BULLET?e.string="bullet":e.string=c.selector.id,!c.PhysicsSystem.PHYSICS_PHYSX){var n=this.node.name;switch("cannon-bullet"==n?this.physics=N.CANNON_BULLET:"builtin"==n?this.physics=N.BUILTIN:"cannon"==n?this.physics=N.CANNON:"bullet"==n?this.physics=N.BULLET:"builtin-cannon-bullet"==n?this.physics=N.ALL:"builtin-bullet"==n&&(this.physics=N.BUILTIN_BULLET),this.physics){case N.ALL:break;case N.CANNON_BULLET:if(c.PhysicsSystem.PHYSICS_CANNON||c.PhysicsSystem.PHYSICS_BULLET)break;var s=this.node.getChildByName("lb").getComponent(h);s.enabled=!0,s.string="测试此场景需要将物理模块设置为 cannon.js, physx 或 bullet",this.getComponentInChildren(o).enabled=!0;break;case N.BUILTIN_BULLET:if(c.PhysicsSystem.PHYSICS_BUILTIN||c.PhysicsSystem.PHYSICS_BULLET)break;var t=this.node.getChildByName("lb").getComponent(h);t.enabled=!0,t.string="测试此场景需要将物理模块设置为 builtin, physx 或 bullet",this.getComponentInChildren(o).enabled=!0;break;case N.CANNON:if(!c.PhysicsSystem.PHYSICS_CANNON){var i=this.node.getChildByName("lb").getComponent(h);i.enabled=!0,i.string="测试此场景需要将物理模块设置为 cannon.js 或 physx",this.getComponentInChildren(o).enabled=!0}break;case N.BULLET:if(!c.PhysicsSystem.PHYSICS_BULLET){var l=this.node.getChildByName("lb").getComponent(h);l.enabled=!0,l.string="测试此场景需要将物理模块设置为 bullet 或 physx",this.getComponentInChildren(o).enabled=!0}break;case N.BUILTIN:if(!c.PhysicsSystem.PHYSICS_BUILTIN){var L=this.node.getChildByName("lb").getComponent(h);L.enabled=!0,L.string="测试此场景需要将物理模块设置为 builtin 或 physx",this.getComponentInChildren(o).enabled=!0}}}},s}(l))||L)||L);s._RF.pop()}}}));

System.register("chunks:///_virtual/Point2PointConstraint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,r,l,a,c,s,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.RigidBodyComponent,c=t.Vec3,s=t.PhysicsSystem,d=t.Component}],execute:function(){var y,u,p,h,b,f,C,g,v,w,N,P,m,_,A,F;r._RF.push({},"d4b7bvfOdxKsoHQlooSF8Lt","Point2PointConstraint",void 0);var S=l.ccclass,B=l.property;window.CC_PHYSICS_CANNON&&(CANNON.staticBody=new CANNON.Body,CANNON.World.id2Constraint={});t("Point2PointConstraint",(y=S("Point2PointConstraint"),u=B({type:a}),p=B({type:a}),h=B({visible:function(){return this.breakEnable}}),b=B({visible:function(){return this.breakEnable}}),y((g=e((C=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"connectedBody",g,n(e)),i(e,"selfBody",v,n(e)),i(e,"collideConnected",w,n(e)),i(e,"selfPivot",N,n(e)),i(e,"autoConfigureConnected",P,n(e)),i(e,"connectedPivot",m,n(e)),i(e,"breakEnable",_,n(e)),i(e,"breakForce",A,n(e)),i(e,"breakTorque",F,n(e)),e._p2p=null,e}o(e,t);var r=e.prototype;return r.start=function(){if(null==this.selfBody&&(this.selfBody=this.getComponent(a)),this.autoConfigureConnected)if(this.connectedBody){var t=this.selfBody.node.worldPosition,e=this.connectedBody.node.worldPosition;c.add(this.connectedPivot,t,this.selfPivot),c.subtract(this.connectedPivot,this.connectedPivot,e)}else if(window.CC_PHYSICS_CANNON){var o=this.selfBody.node.worldPosition;c.add(this.connectedPivot,o,this.selfPivot)}if(window.CC_PHYSICS_CANNON){if(this.selfBody){var i=new CANNON.Vec3;c.copy(i,this.selfPivot);var n=new CANNON.Vec3;c.copy(n,this.connectedPivot),this.connectedBody?this._p2p=new CANNON.PointToPointConstraint(this.selfBody.body.impl,i,this.connectedBody.body.impl,n):this._p2p=new CANNON.PointToPointConstraint(this.selfBody.body.impl,i,CANNON.staticBody,n),this._p2p.collideConnected=this.collideConnected,CANNON.World.id2Constraint[this._p2p.id]=this._p2p}}else if(window.CC_PHYSICS_AMMO&&this.selfBody)if(this.connectedBody){var r=new Ammo.btVector3(this.selfPivot.x,this.selfPivot.y,this.selfPivot.z),l=new Ammo.btVector3(this.connectedPivot.x,this.connectedPivot.y,this.connectedPivot.z);this._p2p=new Ammo.btPoint2PointConstraint(this.selfBody.body.impl,this.connectedBody.body.impl,r,l)}else{var s=new Ammo.btVector3(this.selfPivot.x,this.selfPivot.y,this.selfPivot.z);this._p2p=new Ammo.btPoint2PointConstraint(this.selfBody.body.impl,s)}this.enabled&&this.onEnable()},r.onEnable=function(){if(this._p2p)if(window.CC_PHYSICS_CANNON)s.instance.physicsWorld.impl.addConstraint(this._p2p);else if(window.CC_PHYSICS_AMMO){s.instance.physicsWorld.impl.addConstraint(this._p2p,!this.collideConnected)}},r.onDisable=function(){if(this._p2p)if(window.CC_PHYSICS_CANNON)s.instance.physicsWorld.impl.removeConstraint(this._p2p);else if(window.CC_PHYSICS_AMMO){s.instance.physicsWorld.impl.removeConstraint(this._p2p)}},r.lateUpdate=function(t){if(this.breakEnable)if(window.CC_PHYSICS_CANNON){var e=this.selfBody.body.impl,o=this.connectedBody.body.impl,i=new c;if(e.type==CANNON.Body.DYNAMIC){c.copy(i,e.velocity),0!=e.linearFactor.x&&(i.x*=1/e.linearFactor.x),0!=e.linearFactor.y&&(i.y*=1/e.linearFactor.y),0!=e.linearFactor.z&&(i.z*=1/e.linearFactor.z),0!=e.world.dt&&c.multiplyScalar(i,i,1/e.world.dt);var n=i.length();console.log("sb force",n),n>=this.breakForce&&(this.enabled=!1),c.copy(i,e.angularVelocity),0!=e.angularFactor.x&&(i.x*=1/e.angularFactor.x),0!=e.angularFactor.y&&(i.y*=1/e.angularFactor.y),0!=e.angularFactor.z&&(i.z*=1/e.angularFactor.z),0!=e.world.dt&&c.multiplyScalar(i,i,1/e.world.dt);var r=i.length();console.log("sb torque",r),r>=this.breakTorque&&(this.enabled=!1)}if(o.type==CANNON.Body.DYNAMIC){c.copy(i,o.velocity),0!=o.linearFactor.x&&(i.x*=1/o.linearFactor.x),0!=o.linearFactor.y&&(i.y*=1/o.linearFactor.y),0!=o.linearFactor.z&&(i.z*=1/o.linearFactor.z),0!=o.world.dt&&c.multiplyScalar(i,i,1/o.world.dt);var l=i.length();console.log("tb force",i.length()),l>=this.breakForce&&(this.enabled=!1),c.copy(i,o.angularVelocity),0!=o.angularFactor.x&&(i.x*=1/o.angularFactor.x),0!=o.angularFactor.y&&(i.y*=1/o.angularFactor.y),0!=o.angularFactor.z&&(i.z*=1/o.angularFactor.z),0!=o.world.dt&&c.multiplyScalar(i,i,1/o.world.dt);var a=i.length();console.log("tb torque",a),a>=this.breakTorque&&(this.enabled=!1)}}else if(window.CC_PHYSICS_AMMO){var s=this.selfBody.body.impl,d=this.connectedBody.body.impl,y=new c;if(!s.isStaticOrKinematicObject()){var u=s.getLinearVelocity();y.set(u.x(),u.y(),u.z()),c.multiplyScalar(y,y,60);var p=y.length();console.log("sb force",p),p>=this.breakForce&&(this.enabled=!1);var h=s.getAngularVelocity();y.set(h.x(),h.y(),h.z()),c.multiplyScalar(y,y,60);var b=y.length();console.log("sb torque",b),b>=this.breakTorque&&(this.enabled=!1)}if(!d.isStaticOrKinematicObject()){var f=d.getLinearVelocity();y.set(f.x(),f.y(),f.z()),c.multiplyScalar(y,y,60);var C=y.length();console.log("tb force",C),C>=this.breakForce&&(this.enabled=!1);var g=d.getAngularVelocity();y.set(g.x(),g.y(),g.z()),c.multiplyScalar(y,y,60);var v=y.length();console.log("tb torque",v),console.log("sb torque",v),v>=this.breakTorque&&(this.enabled=!1)}}},e}(d)).prototype,"connectedBody",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(C.prototype,"selfBody",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"collideConnected",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=e(C.prototype,"selfPivot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),P=e(C.prototype,"autoConfigureConnected",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=e(C.prototype,"connectedPivot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),_=e(C.prototype,"breakEnable",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=e(C.prototype,"breakForce",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Number.MAX_VALUE}}),F=e(C.prototype,"breakTorque",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Number.MAX_VALUE}}),f=C))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabPoolUtil.ts",["cc"],(function(o){var t,e,n;return{setters:[function(o){t=o.cclegacy,e=o.instantiate,n=o.isValid}],execute:function(){t._RF.push({},"6078fs+sHhJSKOISPFj4Cbe","PrefabPoolUtil",void 0),o("PrefabPoolUtil",function(){function o(){}return o.getItemByPoolName=function(o,t,l){var i=this;null==this._pool[o]&&(this._pool[o]=[]);var r=this._pool[o],u=null;return u=r.length>0?r.pop():e(t),null!=l&&setTimeout((function(){n(u)&&(u.parent=null,i.recoverItemByPoolName(o,u))}),1e3*l),u},o.recoverItemByPoolName=function(o,t,e){if(null!=this._pool){var n=this._pool[o];-1==n.indexOf(t)&&(e&&t.removeFromParent(),n.push(t))}},o.clear=function(o){delete this._pool[o]},o}())._pool={},t._RF.pop()}}}));

System.register("chunks:///_virtual/ProfilerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,o,n,i,a,s,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){i=r.cclegacy,a=r._decorator,s=r.profiler,c=r.Component}],execute:function(){var l,u,p;i._RF.push({},"8a04b7+e2FBEauumObLwYe5","ProfilerManager",void 0);var f=a.ccclass,h=a.property,g=a.menu,y=!1;r("ProfilerManager",f("COMMON.ProfilerManager")(l=g("common/ProfilerManager")((p=e((u=function(r){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=r.call.apply(r,[this].concat(i))||this,o(e,"show",p,n(e)),e}t(e,r);var i=e.prototype;return i.onLoad=function(){s&&!(y=s.isShowingStats())&&this.show&&s.showStats()},i.onDestroy=function(){s&&(y?s.showStats():s.hideStats())},e}(c)).prototype,"show",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=u))||l)||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/RaycastHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PrefabPoolUtil.ts"],(function(e){var t,n,o,i,a,r,c,s,l,u,p,h,y,f,_,m,b,T,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Enum,s=e.KeyCode,l=e.CameraComponent,u=e.Node,p=e.loader,h=e.Prefab,y=e.game,f=e.input,_=e.Input,m=e.geometry,b=e.PhysicsSystem,T=e.Component},function(e){C=e.PrefabPoolUtil}],execute:function(){var d,v,P,R,g,S,E,O,N,w,L,A;a._RF.push({},"a163eLNbxxF7bPN51H30RV1","RaycastHelper",void 0);var D=r.ccclass,K=r.property,H=r.menu,M=function(e){return e[e.ALL=0]="ALL",e[e.CLOSEST=1]="CLOSEST",e}(M||{});c(M);var Y=function(e){return e[e.r=s.KEY_R]="r",e[e.g=s.KEY_G]="g",e[e.b=s.KEY_B]="b",e}(Y||{});c(Y);e("RaycastHelper",(d=D("COMMON.RaycastHelper"),v=H("common/RaycastHelper"),P=K({type:l}),R=K({type:M}),g=K({type:Y,tooltip:"开关，控制全局"}),d(S=v(((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this)._cache=[],o(t,"cameraCom",O,i(t)),o(t,"raycastType",N,i(t)),o(t,"switch",w,i(t)),o(t,"scale",L,i(t)),t}n(t,e);var a=t.prototype;return a.__preload=function(){null==t._point&&p.loadRes("common/prefabs/Point",h,(function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];n&&(n[0]?console.error(n[0]):(t._point=n[1],t._enable=!0))})),y.addPersistRootNode(t._container)},a.onEnable=function(){f.on(_.EventType.TOUCH_START,this.onTouchStart,this),f.on(_.EventType.KEY_DOWN,this.onKeyDown,this)},a.onDisable=function(){f.off(_.EventType.TOUCH_START,this.onTouchStart,this),f.off(_.EventType.KEY_DOWN,this.onKeyDown,this)},a.onDestroy=function(){this.recover()},a.onKeyDown=function(e){e.keyCode==this.switch&&(t._enable=!t._enable)},a.onTouchStart=function(e){if(t._enable){this.recover();var n=new m.Ray,o=e.getLocation();if(this.cameraCom.screenPointToRay(o.x,o.y,n),this.raycastType==M.CLOSEST){if(b.instance.raycastClosest(n)){var i=b.instance.raycastClosestResult,a=C.getItemByPoolName("COMMON.Point",t._point);this._cache.push(a),a.setWorldPosition(i.hitPoint),a.setScale(this.scale,this.scale,this.scale),t._container.addChild(a)}}else if(this.raycastType==M.ALL&&b.instance.raycast(n))for(var r=b.instance.raycastResults,c=0;c<r.length;c++){var s=r[c],l=C.getItemByPoolName("COMMON.Point",t._point);this._cache.push(l),l.setWorldPosition(s.hitPoint),l.setScale(this.scale,this.scale,this.scale),t._container.addChild(l)}}},a.recover=function(){for(var e=this._cache.length;e--;)C.recoverItemByPoolName("COMMON.Point",this._cache.pop(),!0)},t}(T))._point=null,A._enable=!1,A._container=new u("_RAYCAST_CONTAINER_"),O=t((E=A).prototype,"cameraCom",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(E.prototype,"raycastType",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.CLOSEST}}),w=t(E.prototype,"switch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.KEY_R}}),L=t(E.prototype,"scale",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=E))||S)||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/RaycastTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,i,n,r,s,o,l,c,u,y,h,p,g,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,o=t._decorator,l=t.Material,c=t.CameraComponent,u=t.LabelComponent,y=t.PhysicsSystem,h=t.geometry,p=t.input,g=t.Input,f=t.ModelComponent,m=t.Component}],execute:function(){var T,b,_,d,L,C,S,v,k,D,R,M,A,x,w;s._RF.push({},"f4dba9rv4JNOah6jTtM3bBY","RaycastTest",void 0);var E=o.ccclass,z=o.property,O=o.menu,q=function(t){return t[t.ALL=0]="ALL",t[t.CLOSEST=1]="CLOSEST",t}(q||{});t("RaycastTest",(T=E("CASES.RaycastTest"),b=O("cases/RaycastTest"),_=z({type:l}),d=z({type:l}),L=z({type:c}),C=z({type:u}),S=z({type:y.PhysicsGroup}),T(v=b((D=e((k=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"defaultMaterial",D,n(e)),i(e,"rayMaterial",R,n(e)),i(e,"camera",M,n(e)),i(e,"label",A,n(e)),i(e,"ingnoreLayer",x,n(e)),i(e,"queryTrigger",w,n(e)),e._raycastType=q.ALL,e._ray=new h.Ray,e._maxDistance=100,e._mask=4294967295,e}a(e,t);var s=e.prototype;return s.start=function(){this.maxDistance=this._maxDistance,this._mask&=~this.ingnoreLayer},s.onEnable=function(){p.on(g.EventType.TOUCH_START,this.onTouchStart,this)},s.onDisable=function(){p.off(g.EventType.TOUCH_START,this.onTouchStart,this)},s.onTouchStart=function(t,e){switch(this.resetAll(),this.camera.screenPointToRay(t.getLocationX(),t.getLocationY(),this._ray),this._raycastType){case q.ALL:if(y.instance.raycast(this._ray,this._mask,this._maxDistance,this.queryTrigger))for(var a=y.instance.raycastResults,i=0;i<a.length;i++){a[i].collider.node.getComponent(f).material=this.rayMaterial}break;case q.CLOSEST:if(y.instance.raycastClosest(this._ray,this._mask,this._maxDistance,this.queryTrigger))y.instance.raycastClosestResult.collider.node.getComponent(f).material=this.rayMaterial}},s.resetAll=function(){for(var t=0;t<this.node.children.length;t++){this.node.children[t].getComponent(f).material=this.defaultMaterial}},s.onToggle=function(t){"Toggle1"==t.node.name?this._raycastType=q.ALL:"Toggle2"==t.node.name&&(this._raycastType=q.CLOSEST)},s.onClickQueryTrigger=function(t){this.queryTrigger=t.isChecked},s.onEditFinish=function(t){var e=parseFloat(t.string);isNaN(e)||(this.maxDistance=e)},s.onMaskBtn=function(t){var e=t.target.getComponentInChildren(u);0!=this._mask?(this._mask=0,e.string="检测状态：off"):(this._mask=4294967295&~this.ingnoreLayer,e.string="检测状态：on")},r(e,[{key:"maxDistance",set:function(t){this._maxDistance=t,this.label.string="当前检测距离："+this._maxDistance.toString()}}]),e}(m)).prototype,"defaultMaterial",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(k.prototype,"rayMaterial",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(k.prototype,"camera",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(k.prototype,"label",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(k.prototype,"ingnoreLayer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(k.prototype,"queryTrigger",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=k))||v)||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/RiggedBow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,r,s,a,h,l,p,u,w,c,m,f,y,d,b,g,T,S,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,h=t.CameraComponent,l=t.Vec3,p=t.Quat,u=t.sys,w=t.physics,c=t.RigidBody,m=t.Collider,f=t.input,y=t.Input,d=t.Label,b=t.KeyCode,g=t.math,T=t.geometry,S=t.PhysicsSystem,v=t.Component}],execute:function(){var E,C,P,B,M,A,R,D,F,I,O,U,_,x,N,z,K,H,V,Y,k,L;r._RF.push({},"30252vs57xJgr/L/nHHvEeF","RiggedBow",void 0);var Q=s.ccclass,W=s.property,G=s.menu;t("RiggedBow",(E=Q("simple-bow.RiggedBow"),C=G("demo/simple-bow/RiggedBow"),P=W(a),B=W(a),M=W(h),A=W(a),R=W(a),D=W(a),F=W(a),E(I=C((U=i((O=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,o(i,"bone",U,n(i)),o(i,"arrow",_,n(i)),o(i,"camera",x,n(i)),o(i,"point",N,n(i)),o(i,"apple",z,n(i)),o(i,"speed",K,n(i)),o(i,"drawBowFrames",H,n(i)),o(i,"drawBowBackFactor",V,n(i)),o(i,"drawBowDisplacement",Y,n(i)),i.isDrawBow=!1,i.isShootArrow=!1,i.isShootArrowFinish=!0,i.drawBowFrameCount=0,i.boneInitPosition=new l,i.boneTargetPosition=new l,i.arrowInitPosition=new l,i.arrowInitRotation=new p,i.appleInitPosition=new l,i.appleInitRotation=new p,i.isAiming=!1,i.aimDelta=new l,i.appleResetState=!1,i.arrowResetState=!1,i.fixTimePre=1/60,i.maxSubstepsPre=1,o(i,"buttonForMobile",k,n(i)),o(i,"labelForPC",L,n(i)),i.touchStateOnMobile=0,i}e(i,t);var r=i.prototype;return r.start=function(){this.labelForPC.active=!u.isMobile,this.buttonForMobile.active=u.isMobile,this.fixTimePre=w.PhysicsSystem.instance.fixedTimeStep,this.maxSubstepsPre=w.PhysicsSystem.instance.maxSubSteps,w.PhysicsSystem.instance.fixedTimeStep=1/120,w.PhysicsSystem.instance.maxSubSteps=3,l.copy(this.boneInitPosition,this.bone.position),l.copy(this.arrowInitPosition,this.arrow.position),p.copy(this.arrowInitRotation,this.arrow.rotation),l.copy(this.appleInitPosition,this.apple.position),p.copy(this.appleInitRotation,this.apple.rotation);var t=this.arrow.getComponent(c);t&&(t.type=w.ERigidBodyType.KINEMATIC,t.useGravity=!1);var i=this.arrow.getComponent(m);i&&(i.on("onTriggerEnter",this.onArrowEnter,this),i.on("onCollisionEnter",this.onArrowEnter,this));var e=this.apple.getComponent(m);e&&(e.on("onTriggerEnter",this.onAppleEnter,this),e.on("onCollisionEnter",this.onAppleEnter,this))},r.onDestroy=function(){w.PhysicsSystem.instance.fixedTimeStep=this.fixTimePre,w.PhysicsSystem.instance.maxSubSteps=this.maxSubstepsPre},r.onEnable=function(){f.on(y.EventType.MOUSE_DOWN,this.onMouseDown,this),f.on(y.EventType.MOUSE_MOVE,this.onMouseMove,this),f.on(y.EventType.MOUSE_UP,this.onMouseUp,this),f.on(y.EventType.KEY_DOWN,this.onKeyDown,this),f.on(y.EventType.KEY_UP,this.onKeyUp,this),f.on(y.EventType.TOUCH_START,this.onTouchStart,this),f.on(y.EventType.TOUCH_MOVE,this.onTouchMove,this),f.on(y.EventType.TOUCH_END,this.onTouchEnd,this)},r.onDisable=function(){f.off(y.EventType.MOUSE_DOWN,this.onMouseDown,this),f.off(y.EventType.MOUSE_MOVE,this.onMouseMove,this),f.off(y.EventType.MOUSE_UP,this.onMouseUp,this),f.off(y.EventType.KEY_DOWN,this.onKeyDown,this),f.off(y.EventType.KEY_UP,this.onKeyUp,this),f.off(y.EventType.TOUCH_START,this.onTouchStart,this),f.off(y.EventType.TOUCH_MOVE,this.onTouchMove,this),f.off(y.EventType.TOUCH_END,this.onTouchEnd,this)},r.onMouseDown=function(t){this.isAiming=!0},r.onMouseMove=function(t){this.aimDelta.set(-t.movementX/1e5,-t.movementY/1e5,0)},r.onMouseUp=function(t){this.isAiming=!1},r.onTouchStart=function(t){this.touchStateOnMobile?this.isDrawBow=!0:this.isAiming=!0},r.onTouchMove=function(t){if(!this.touchStateOnMobile){var i=t.getDelta();this.aimDelta.set(-i.x/1e5,i.y/1e5,0)}},r.onTouchEnd=function(t){this.touchStateOnMobile?this.isDrawBow=!1:this.isAiming=!1},r.onClickBtn=function(t){var i=t.target.getComponentsInChildren(d)[0];"Aiming"==i.string?(i.string="Pull Bow",this.touchStateOnMobile=1):(i.string="Aiming",this.touchStateOnMobile=0)},r.onKeyDown=function(t){t.keyCode==b.SPACE&&(this.isDrawBow=!0)},r.onKeyUp=function(t){t.keyCode==b.SPACE&&(this.isDrawBow=!1)},r.onAppleEnter=function(t){if("TriggerArea"==t.otherCollider.node.name){if(this.appleResetState)return;this.appleResetState=!0;var i=this;setTimeout((function(){if(i.isValid){i.appleResetState=!1,i.apple.position=i.appleInitPosition,i.apple.rotation=i.appleInitRotation;var t=i.apple.getComponent(c);t&&t.clearState()}}),2e3)}},r.onArrowEnter=function(t){if("TriggerArea"==t.otherCollider.node.name){if(this.arrowResetState)return;this.arrowResetState=!0;var i=this;setTimeout((function(){if(i.isValid){i.arrowResetState=!1,i.isShootArrowFinish=!0;var t=i.arrow.getComponent(c);t&&(t.type=w.ERigidBodyType.KINEMATIC,t.useGravity=!1),i.arrow.position=i.arrowInitPosition,i.arrow.rotation=i.arrowInitRotation}}),2e3)}else if("RedApple"==t.otherCollider.node.name){var e=this.arrow.getComponent(c);e&&(e.useGravity=!0)}else{var o=this.arrow.getComponent(c);o&&(o.useGravity=!0)}},r.update=function(t){if(this.isShootArrowFinish&&this.isAiming&&this.node.translate(this.aimDelta,a.NodeSpace.WORLD),this.isShootArrowFinish){if(this.isDrawBow){this.drawBowFrameCount=g.clamp(this.drawBowFrameCount+1,0,this.drawBowFrames);var i=g.clamp01(this.drawBowFrameCount/this.drawBowFrames),e=l.transformQuat(new l,l.UNIT_Z,this.bone.worldRotation);l.scaleAndAdd(this.boneTargetPosition,this.boneInitPosition,e,i*this.drawBowDisplacement),this.bone.position=this.boneTargetPosition}else if(this.drawBowFrameCount>0)if(this.drawBowFrameCount-=this.drawBowFrames/this.drawBowBackFactor,this.drawBowFrameCount<=0)this.bone.position=this.boneInitPosition,this.drawBowFrameCount=0,this.isShootArrow=!0;else{var o=g.clamp01(this.drawBowFrameCount/this.drawBowFrames),n=l.transformQuat(new l,l.UNIT_Z,this.bone.worldRotation);l.scaleAndAdd(this.boneTargetPosition,this.boneInitPosition,n,o*this.drawBowDisplacement),this.bone.position=this.boneTargetPosition}if(this.isShootArrow){this.isShootArrow=!1,this.isShootArrowFinish=!1;var r=this.arrow.getComponent(c);if(r){r.type=w.ERigidBodyType.DYNAMIC;var s=new l;l.transformQuat(s,l.UNIT_Y,this.arrow.worldRotation),l.negate(s,s),l.multiplyScalar(s,s,this.speed),r.setLinearVelocity(s)}}else{var h=new T.Ray,p=new l;if(l.transformQuat(p,l.UNIT_Y,this.arrow.worldRotation),l.negate(p,p),l.copy(h.o,this.arrow.worldPosition),l.copy(h.d,p),S.instance.raycastClosest(h,2)){var u=S.instance.raycastClosestResult;this.point.worldPosition=u.hitPoint}}}},i}(v)).prototype,"bone",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(O.prototype,"arrow",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(O.prototype,"camera",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(O.prototype,"point",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(O.prototype,"apple",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(O.prototype,"speed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),H=i(O.prototype,"drawBowFrames",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),V=i(O.prototype,"drawBowBackFactor",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Y=i(O.prototype,"drawBowDisplacement",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 35}}),k=i(O.prototype,"buttonForMobile",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(O.prototype,"labelForPC",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=O))||I)||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/scenelist.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,c,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Prefab,s=e.instantiate,l=e.Component}],execute:function(){var u,f,p,h,y,d;a._RF.push({},"687185yW5hKPJX0ATIa74GL","scenelist",void 0);var b=o.ccclass,g=o.property,m=o.menu,v=e("sceneArray",[]);e("SceneManager",(u=b("TEST-LIST.SceneManager"),f=m("misc/test-list/SceneManager"),p=g({type:c}),u(h=f((d=t((y=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"itemPrefab",d,i(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){if(this.itemPrefab)for(var e=0;e<v.length;e++){var t=s(this.itemPrefab);this.node.addChild(t)}},a.start=function(){},t}(l)).prototype,"itemPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h)||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/SpinningTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,o,a,p,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,p=e.RigidBodyComponent,l=e.Vec3,s=e.Component}],execute:function(){var c,u,f,g;o._RF.push({},"a1f838qLgZLFpyF1y7tQbI5","SpinningTest",void 0);var y=a.ccclass,h=a.property,m=a.menu;e("SpinningTest",y("PHY-MTL-PLUS.SpinningTest")(c=m("experiment/physics-material-plus/SpinningTest")((f=t((u=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"interval",f,r(t)),i(t,"torque",g,r(t)),t._flag=Number.MIN_VALUE,t}n(t,e);var o=t.prototype;return o.start=function(){this._flag=performance.now()+1e3},o.update=function(e){var t=performance.now();if(this._flag<t){var n=this.getComponent(p);n&&n.applyLocalTorque(new l(0,this.torque,0)),this._flag=t+1e3*this.interval}},t}(s)).prototype,"interval",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),g=t(u.prototype,"torque",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),c=u))||c)||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/SupportPhyiscs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,N,S,i,s,I,n,_;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,N=r.initializerDefineProperty,S=r.assertThisInitialized},function(r){i=r.cclegacy,s=r._decorator,I=r.Enum,n=r.PhysicsSystem,_=r.Component}],execute:function(){var a,c,u,o,P,M;i._RF.push({},"50126dE8rlBb4hR6La4aPfS","SupportPhyiscs",void 0);var A=s.ccclass,p=s.property,C=s.menu,O=function(r){return r[r.BUILTIN=0]="BUILTIN",r[r.CANNON=1]="CANNON",r[r.AMMO=2]="AMMO",r[r.BUILTIN_CANNON=3]="BUILTIN_CANNON",r[r.BUILTIN_AMMO=4]="BUILTIN_AMMO",r[r.CANNON_AMMO=5]="CANNON_AMMO",r[r.PHYSX=6]="PHYSX",r[r.AMMO_PHYSX=7]="AMMO_PHYSX",r[r.BUILTIN_AMMO_PHYSX=8]="BUILTIN_AMMO_PHYSX",r[r.CANNON_AMMO_PHYSX=9]="CANNON_AMMO_PHYSX",r}(O||{});I(O);r("SupportPhyiscs",(a=A("CASES.SupportPhyiscs"),c=C("cases/SupportPhyiscs"),u=p({type:O}),a(o=c((M=e((P=function(r){function e(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e=r.call.apply(r,[this].concat(i))||this,N(e,"support",M,S(e)),e}return t(e,r),e.prototype.start=function(){switch(this.support){case O.BUILTIN:if(n.PHYSICS_BUILTIN)return;break;case O.CANNON:if(n.PHYSICS_CANNON)return;break;case O.AMMO:if(n.PHYSICS_BULLET)return;break;case O.BUILTIN_CANNON:if(n.PHYSICS_BUILTIN||n.PHYSICS_CANNON)return;break;case O.BUILTIN_AMMO:if(n.PHYSICS_BUILTIN||n.PHYSICS_BULLET)return;break;case O.CANNON_AMMO:if(n.PHYSICS_CANNON||n.PHYSICS_BULLET)return;break;case O.AMMO_PHYSX:if(n.PHYSICS_BULLET||n.PHYSICS_PHYSX)return;break;case O.BUILTIN_AMMO_PHYSX:if(n.PHYSICS_BUILTIN||n.PHYSICS_BULLET||n.PHYSICS_PHYSX)return;break;case O.CANNON_AMMO_PHYSX:if(n.PHYSICS_CANNON||n.PHYSICS_BULLET||n.PHYSICS_PHYSX)return}this.node.active=!1},e}(_)).prototype,"support",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.AMMO}}),o=P))||o)||o));i._RF.pop()}}}));

System.register("chunks:///_virtual/SweepHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TempConst.ts"],(function(e){var t,i,s,n,a,r,o,h,l,p,c,u,S,C,_,m,g,P,d,v,w,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,o=e.Enum,h=e.Vec3,l=e.CameraComponent,p=e.Material,c=e.Node,u=e.Quat,S=e.geometry,C=e.LabelComponent,_=e.Color,m=e.Primitive,g=e.MeshRenderer,P=e.director,d=e.instantiate,v=e.PhysicsSystem,w=e.Component},function(e){f=e.v3_t}],execute:function(){var y,H,b,E,x,O,R,L,T,B;a._RF.push({},"9aa38z8cEFEsrpfmI2Jo8qz","SweepHelper",void 0);var N=r.ccclass,k=r.property,D=r.menu,A=function(e){return e[e.ALL=0]="ALL",e[e.CLOSEST=1]="CLOSEST",e}(A||{});o(A);var M=function(e){return e[e.BOX=0]="BOX",e[e.SPHERE=1]="SPHERE",e[e.CAPSULE=2]="CAPSULE",e}(M||{});o(M);var z=new h(-1e5,-1e5,-1e5);e("SweepHelper",(y=N("COMMON.SweepHelper"),H=D("common/SweepHelper"),b=k({type:l}),E=k({type:p}),x=k({type:p}),y(O=H((L=t((R=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,s(t,"cameraCom",L,n(t)),s(t,"hitPointMaterial",T,n(t)),s(t,"lineSegmentMaterial",B,n(t)),t.hitPointContainer=new c("hitPointContainer"),t.lineSegmentContainer=new c("lineSegmentContainer"),t._lineSegment=new c("lineSegment"),t._hitPoint=new c("hitPoint"),t._sweepBox=new c("sweepBox"),t._sweepSphere=new c("sweepSphere"),t._sweepCapsule=new c("sweepCapsule"),t.CurveOrigin=new h(-9,0,0),t.StartPointY=1,t.StartPointZ=0,t.StartPointDistance=0,t.StartPointHeight=0,t.ControlPointDistance=9,t.ControlPointHeight=2,t.EndPointDistance=18,t.EndPointHeight=0,t.SampleNumnber=30,t.sweepType=A.ALL,t.sweepShapeType=M.BOX,t.hitSphereScale=.2,t.controlPointScale=.2,t._boxHalfExtents=new h(.5,.5,.5),t._sphereRadius=.5,t._capsuleRadius=.5,t._capsuleHeight=1,t._scale=1,t._rotation=new h(0,0,0),t._orientation=new u,t._ray=new S.Ray,t._maxDistance=30,t._mask=4294967295,t._queryTrigger=!0,t._hitPointPool=[],t}i(t,e);var a=t.prototype;return a.__preload=function(){this.ResultLabel=this.node.scene.getChildByName("Canvas").getChildByName("Result").getComponent(C),this._sweepBox=this.node.scene.getChildByName("SweepShape").getChildByName("Cube"),this._sweepSphere=this.node.scene.getChildByName("SweepShape").getChildByName("Sphere"),this._sweepCapsule=this.node.scene.getChildByName("SweepShape").getChildByName("Capsule"),this.hitPointMaterial.setProperty("mainColor",new _(200,0,0,255));var e=new m(m.PrimitiveType.BOX);e.onLoaded();var t=this._hitPoint.addComponent(g);t.mesh=e,t.material=this.hitPointMaterial,P.addPersistRootNode(this.hitPointContainer),this.lineSegmentMaterial.setProperty("mainColor",new _(200,0,0,255));var i=new m(m.PrimitiveType.BOX);i.onLoaded();var s=new c;s.setParent(this._lineSegment),s.setPosition(new h(0,.5,0));var n=s.addComponent(g);n.mesh=i,n.material=this.lineSegmentMaterial,P.addPersistRootNode(this.lineSegmentContainer),this.generateSegments(this.SampleNumnber,this.sweepShapeType);for(var a=0;a<100;a++){var r=d(this._hitPoint);r.setWorldPosition(z),this._hitPointPool.push(r),this.hitPointContainer.addChild(r)}},a.onLoad=function(){},a.start=function(){this.OnCurveCast()},a.onDestroy=function(){this.hitPointContainer.removeAllChildren(),this.lineSegmentContainer.removeAllChildren(),this._hitPointPool.length=0},a.sampleLine=function(e,t,i){var s=new h(0),n=new h(0);return h.subtract(n,t,e),h.multiplyScalar(n,n,i),h.add(s,e,n),s},a.getHitPoint=function(){var e=null;return this._hitPointPool.length>0?e=this._hitPointPool.pop():(e=d(this._hitPoint),this.hitPointContainer.addChild(e)),e},a.putHitPoint=function(e){e&&(e.setWorldPosition(z),this._hitPointPool.push(e))},a.resetHitPointContainer=function(){for(var e=0;e<this.hitPointContainer.children.length;e++){var t=this.hitPointContainer.children[e];this.putHitPoint(t)}},a.OnCurveCast=function(){this._ray=new S.Ray(-9,this.StartPointY,this.StartPointZ,1,0,0),u.fromEuler(this._orientation,this._rotation.x,this._rotation.y,this._rotation.z),this.ResultLabel.string="",this.resetHitPointContainer();var e=[],t=new h;this._ray.computeHit(t,this._maxDistance);for(var i=0;i<this.SampleNumnber;i++){var s=this.sampleLine(this._ray.o,t,i/(this.SampleNumnber-1));e.push(s)}for(var n=0;n<this.SampleNumnber;n++){var a=this.lineSegmentContainer.children[n],r=e[n];a.setWorldPosition(r),a.setWorldScale(this._scale,this._scale,this._scale),a.setWorldRotation(this._orientation)}if(this.sweepType==A.CLOSEST)switch(this.sweepShapeType){case M.BOX:if(f.set(this._boxHalfExtents.x,this._boxHalfExtents.y,this._boxHalfExtents.z),h.multiplyScalar(f,f,this._scale),v.instance.sweepBoxClosest(this._ray,f,this._orientation,this._mask,this._maxDistance,this._queryTrigger)){var o=v.instance.sweepCastClosestResult,l=this.getHitPoint();l&&(l.setWorldPosition(o.hitPoint),l.setScale(this.hitSphereScale,this.hitSphereScale,this.hitSphereScale))}break;case M.SPHERE:if(v.instance.sweepSphereClosest(this._ray,this._sphereRadius*this._scale,this._mask,this._maxDistance,this._queryTrigger)){var p=v.instance.sweepCastClosestResult,c=this.getHitPoint();c&&(c.setWorldPosition(p.hitPoint),c.setScale(this.hitSphereScale,this.hitSphereScale,this.hitSphereScale))}break;case M.CAPSULE:if(v.instance.sweepCapsuleClosest(this._ray,this._capsuleRadius*this._scale,this._capsuleHeight*this._scale,this._orientation,this._mask,this._maxDistance,this._queryTrigger)){var C=v.instance.sweepCastClosestResult,_=this.getHitPoint();_&&(_.setWorldPosition(C.hitPoint),_.setScale(this.hitSphereScale,this.hitSphereScale,this.hitSphereScale))}}else if(this.sweepType==A.ALL)switch(this.sweepShapeType){case M.BOX:if(f.set(this._boxHalfExtents.x,this._boxHalfExtents.y,this._boxHalfExtents.z),h.multiplyScalar(f,f,this._scale),v.instance.sweepBox(this._ray,f,this._orientation,this._mask,this._maxDistance,this._queryTrigger))for(var m=v.instance.sweepCastResults,g=0;g<m.length;g++){var P=m[g],d=this.getHitPoint();d&&(d.setWorldPosition(P.hitPoint),d.setScale(this.hitSphereScale,this.hitSphereScale,this.hitSphereScale))}break;case M.SPHERE:if(v.instance.sweepSphere(this._ray,this._sphereRadius*this._scale,this._mask,this._maxDistance,this._queryTrigger))for(var w=v.instance.sweepCastResults,y=0;y<w.length;y++){var H=w[y],b=this.getHitPoint();b&&(b.setWorldPosition(H.hitPoint),b.setScale(this.hitSphereScale,this.hitSphereScale,this.hitSphereScale))}break;case M.CAPSULE:if(v.instance.sweepCapsule(this._ray,this._capsuleRadius*this._scale,this._capsuleHeight*this._scale,this._orientation,this._mask,this._maxDistance,this._queryTrigger))for(var E=v.instance.sweepCastResults,x=0;x<E.length;x++){var O=E[x],R=this.getHitPoint();R&&(R.setWorldPosition(O.hitPoint),R.setScale(this.hitSphereScale,this.hitSphereScale,this.hitSphereScale))}}},a.onStartPointY=function(e){var t=e._progress;this.StartPointY=5*t,this.OnCurveCast()},a.onStartPointZ=function(e){var t=2*e._progress-1;this.StartPointZ=10*t,this.OnCurveCast()},a.onStartPointHeight=function(e){var t=e._progress;this.StartPointHeight=20*t,this.OnCurveCast()},a.onControlPointDistance=function(e){var t=e._progress;this.ControlPointDistance=18*t,this.OnCurveCast()},a.onControlPointHeight=function(e){var t=e._progress;this.ControlPointHeight=20*t,this.OnCurveCast()},a.onEndPointDistance=function(e){var t=e._progress;this.EndPointDistance=18*t,this.OnCurveCast()},a.onEndPointHeight=function(e){var t=e._progress;this.EndPointHeight=20*t,this.OnCurveCast()},a.onSetCurveCastClosest=function(){this.sweepType=A.CLOSEST,this.OnCurveCast()},a.onSetCurveCastAll=function(){this.sweepType=A.ALL,this.OnCurveCast()},a.onSetShapeBox=function(){this.generateSegments(this.SampleNumnber,M.BOX)},a.onSetShapeSphere=function(){this.generateSegments(this.SampleNumnber,M.SPHERE)},a.onSetShapeCapsule=function(){this.generateSegments(this.SampleNumnber,M.CAPSULE)},a.onSetSampleNumber=function(e){var t=parseInt(e.string);return this.generateSegments(t,this.sweepShapeType)},a.onRotationX=function(e){var t=90*(2*e._progress-1);this._rotation.x=t,this.OnCurveCast()},a.onRotationY=function(e){var t=90*(2*e._progress-1);this._rotation.y=t,this.OnCurveCast()},a.onRotationZ=function(e){var t=90*(2*e._progress-1);this._rotation.z=t,this.OnCurveCast()},a.onSetScale=function(e){var t=5*e._progress;t<.02&&(t=.02),this._scale=t,this.OnCurveCast()},a.onMaxDistance=function(e){var t=30*e._progress;this._maxDistance=t,this.OnCurveCast()},a.onClickQueryTrigger=function(e){this._queryTrigger=e.isChecked,this.OnCurveCast()},a.onChangeSweepMask=function(e){e.isChecked?this._mask|=2:this._mask&=-3,this.OnCurveCast()},a.generateSegments=function(e,t){if(!isNaN(e)&&e>=2&&(0===this.lineSegmentContainer.children.length||e!=this.SampleNumnber||t!=this.sweepShapeType)){this.sweepShapeType=t;var i=null;switch(this.sweepShapeType){case M.BOX:i=this._sweepBox;break;case M.SPHERE:i=this._sweepSphere;break;case M.CAPSULE:i=this._sweepCapsule;break;default:i=this._sweepBox}this.SampleNumnber=e,this.lineSegmentContainer.removeAllChildren();for(var s=0;s<this.SampleNumnber;s++){var n=d(i);this.lineSegmentContainer.addChild(n)}this.OnCurveCast()}},t}(w)).prototype,"cameraCom",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(R.prototype,"hitPointMaterial",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(R.prototype,"lineSegmentMaterial",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=R))||O)||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/SyncTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,c,s,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,c=n._decorator,s=n.PhysicsSystem,o=n.Component}],execute:function(){var i;e._RF.push({},"bfe46MvSidCYpBDP49ffZsF","SyncTest",void 0);var r=c.ccclass;c.property,n("SyncTest",r("CASES.SyncTest")(i=c.menu("cases/SyncTest")(i=function(n){function e(){for(var t,e=arguments.length,c=new Array(e),s=0;s<e;s++)c[s]=arguments[s];return(t=n.call.apply(n,[this].concat(c))||this).count=0,t}t(e,n);var c=e.prototype;return c.onEnable=function(){s.instance.enable=!1},c.onDisable=function(){s.instance.enable=!0},c.update=function(n){20==this.count?this.node.setWorldPosition(0,.5,0):80==this.count&&(s.instance.enable=!0),this.count++},e}(o))||i)||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/TempConst.ts",["cc"],(function(t){var e,n,r,c;return{setters:[function(t){e=t.cclegacy,n=t.Vec2,r=t.Vec3,c=t.Quat}],execute:function(){t("parseTime2String",(function(t){var e=t%60,n=Math.floor(t/60),r=e>9?e.toString():"0"+e;return(n>9?n.toString():"0"+n)+":"+r})),e._RF.push({},"97a53aZRpRDrZPZ8oIkEsd4","TempConst",void 0);t("v2_t",new n),t("v3_t",new r),t("quat_t",new c);e._RF.pop()}}}));

System.register("chunks:///_virtual/TriggerTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,l,a,s,g,u,h,p,c,T,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Material,s=e.LabelComponent,g=e.ColliderComponent,u=e.ModelComponent,h=e.VerticalTextAlignment,p=e.UITransform,c=e.Size,T=e.Color,b=e.Component}],execute:function(){var f,E,d,m,y,_,C,L,v,M,A,S;o._RF.push({},"5d1f5Fp6q5DOr64OkMYzi7k","TriggerTest",void 0);var U=l.ccclass,z=l.property,F=l.menu;e("TriggerTest",(f=U("CASES.TriggerTest"),E=F("cases/TriggerTest"),d=z({type:a,visible:function(){return this.USE_MATERIAL}}),m=z({type:a,visible:function(){return this.USE_MATERIAL}}),y=z({type:s,visible:function(){return this.USE_LABEL}}),f(_=E((L=t((C=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"USE_MATERIAL",L,n(t)),i(t,"enterMat",v,n(t)),i(t,"exitMat",M,n(t)),i(t,"USE_LABEL",A,n(t)),i(t,"label",S,n(t)),t._prev=[],t._amount=0,t}r(t,e);var o=t.prototype;return o.start=function(){var e=this.getComponent(g);e&&(this.USE_MATERIAL&&(e.on("onTriggerEnter",this.onTriggerForUseMaterial,this),e.on("onTriggerStay",this.onTriggerForUseMaterial,this),e.on("onTriggerExit",this.onTriggerForUseMaterial,this)),this.USE_LABEL&&(e.on("onTriggerEnter",this.onTriggerForUseLabel,this),e.on("onTriggerStay",this.onTriggerForUseLabel,this),e.on("onTriggerExit",this.onTriggerForUseLabel,this)))},o.onTriggerForUseMaterial=function(e){if("onTriggerEnter"==e.type){var t=e.otherCollider.node.getComponent(u);t&&(t.material=this.enterMat)}else if("onTriggerExit"==e.type){var r=e.otherCollider.node.getComponent(u);r&&(r.material=this.exitMat)}},o.onTriggerForUseLabel=function(e){if(this.getComponent(g)!=e.selfCollider)return this.label.string="[错误]：self不等于自己，请提交 issue",this.label.fontSize=40,this.label.lineHeight=40,this.label.verticalAlign=h.CENTER,this.label.getComponent(p).contentSize=new c(400,400),this.label.color=T.RED,void(this.enabled=!1);if("onTriggerStay"==e.type){if(this._prev[e.otherCollider.uuid])return;this._prev[e.otherCollider.uuid]=!0}else"onTriggerExit"==e.type&&(this._prev[e.otherCollider.uuid]=!1);this.label&&(this._amount++>11&&(this.label.string="",this._amount=0),this.label.string+=e.selfCollider.node.name+"__"+e.type+"__"+e.otherCollider.node.name+"\n")},t}(b)).prototype,"USE_MATERIAL",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=t(C.prototype,"enterMat",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(C.prototype,"exitMat",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"USE_LABEL",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=t(C.prototype,"label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=C))||_)||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/VelocitySetup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,c,l,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,l=e.RigidBodyComponent,s=e.Component,u=e.Vec3}],execute:function(){var a,p,y;r._RF.push({},"726f1sU3cFES4LYEg201vys","VelocitySetup",void 0);var f=c.ccclass,v=c.property,h=c.menu;e("VelocitySetup",f("CASES.VelocitySetup")(a=h("cases/VelocitySetup")((y=t((p=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"lv",y,o(t)),t}return i(t,e),t.prototype.start=function(){this.node.getComponent(l).setLinearVelocity(this.lv)},t}(s)).prototype,"lv",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),a=p))||a)||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/VelocityTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,l,a,c,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.inheritsLoose,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,c=e.Vec3,u=e.RigidBodyComponent,s=e.Component}],execute:function(){var p,y,f,b,h,g,A,m,V,E,L,S,U,_,R,d,v;o._RF.push({},"0dec5H4kbJPL5At2h6IyL3i","VelocityTest",void 0);var w=l.menu,I=l.ccclass,N=l.property,z=(p=I("CASES.VelocityTestItem"),y=N({type:a}),f=N({visible:function(){return this.USE_LINEAR}}),b=N({visible:function(){return this.USE_ANGULAR}}),p((A=t((g=function(){i(this,"target",A,this),i(this,"USE_LINEAR",m,this),i(this,"linearVelocity",V,this),i(this,"USE_ANGULAR",E,this),i(this,"angularVelocity",L,this)}).prototype,"target",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(g.prototype,"USE_LINEAR",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=t(g.prototype,"linearVelocity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),E=t(g.prototype,"USE_ANGULAR",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=t(g.prototype,"angularVelocity",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),h=g))||h);e("VelocityTest",(S=I("CASES.VelocityTest"),U=w("cases/VelocityTest"),_=N({type:[z]}),S(R=U((v=t((d=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"items",v,n(t)),t}return r(t,e),t.prototype.setItemVelocity=function(e,t){var i=parseInt(t),r=this.items[i],n=r.target.getComponent(u);r.USE_LINEAR&&n.setLinearVelocity(r.linearVelocity),r.USE_ANGULAR&&n.setAngularVelocity(r.angularVelocity)},t}(s)).prototype,"items",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=d))||R)||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/WaterWaves.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Noise.ts"],(function(t){var i,e,s,o,n,r,h,a,l,u,d,_,g,c,b,f,m,p,w,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,h=t._decorator,a=t.Vec3,l=t.Mat4,u=t.MeshRenderer,d=t.gfx,_=t.Node,g=t.game,c=t.sys,b=t.utils,f=t.Primitive,m=t.Material,p=t.Color,w=t.Component},function(t){y=t.default}],execute:function(){var P,M,v,L,S,E,R,z,x,N,A,H,T;r._RF.push({},"fba29x4ARNAtKt3L+GJGIPW","WaterWaves",void 0);var D=h.ccclass,C=h.property,W=h.menu,B=new a,F=new a,I=[new a,new a,new a],k=new l;t("WaterWaves",D("BUOYANCY.WaterWaves")(P=W("demo/buoyancy/WaterWaves")((v=i((M=function(t){function i(){var e;return e=t.call(this)||this,s(e,"density",v,o(e)),s(e,"speed",L,o(e)),s(e,"height",S,o(e)),s(e,"noiseWalk",E,o(e)),s(e,"noiseStrength",R,o(e)),s(e,"rows",z,o(e)),s(e,"columns",x,o(e)),s(e,"tileSize",N,o(e)),s(e,"bottom",A,o(e)),e._mesh=null,e._meshRenderer=null,e._indices=null,e._positions=null,e._basePositions=null,e._worldPositions=null,e._normals=null,e._faceLength=0,e._vertexLength=0,e._meshDirty=!1,e._offsetX=0,e._offsetZ=0,s(e,"debugPosition",H,o(e)),s(e,"debugHeight",T,o(e)),e._debugMatPosition=null,e._debugMatHeight=null,e._debugMatLine=null,e._debugMeshBox=null,e._debugMeshLine=null,e._debugPosRoot=null,e._debugPosScale=new a(.05,.05,.05),e._debugHeightRoot=null,e._debugHeightScale=new a(.15,.15,.15),e._inited=!1,i.instance=o(e),e}e(i,t);var r=i.prototype;return r.onLoad=function(){var t=this.getComponent(u);this._waterMaterial=t.material,t.destroy()},r.init=function(){if(!this._inited&&!this.getComponents(u).length){this._meshRenderer=this.addComponent(u),this.generateWaterMesh(),this._vertexLength=this.columns*this.rows-1,this._faceLength=2*(this.rows-1)*(this.columns-1),this._meshRenderer.material=this._waterMaterial,this._meshRenderer.mesh=this._mesh,this._indices=this._mesh.readIndices(0),this._positions=this._mesh.readAttribute(0,d.AttributeName.ATTR_POSITION),this._normals=this._mesh.readAttribute(0,d.AttributeName.ATTR_NORMAL),this._basePositions=new Float32Array(this._positions),this._worldPositions=new Float32Array(this._positions),this.debugPosition&&(this._debugPosRoot=new _("debugPosRoot"),g.addPersistRootNode(this._debugPosRoot)),this.debugHeight&&(this._debugHeightRoot=new _("debugHeightRoot"),g.addPersistRootNode(this._debugHeightRoot));for(var t=0;t<this._vertexLength;t++){var i=3*t;if(B.set(this._positions[i],this._positions[i+1],this._positions[i+2]),a.transformMat4(B,B,this.node.worldMatrix),this._worldPositions[i]=B.x,this._worldPositions[i+1]=B.y,this._worldPositions[i+2]=B.z,this.debugPosition){var e=new _("debugPos_"+t),s=e.addComponent(u);this._debugPosRoot.addChild(e),s.mesh=this.DebugMeshBox,s.material=this.DebugMatPos,e.worldScale=this._debugPosScale,e.setWorldPosition(B)}}this._inited=!0}},r.update=function(t){this.init(),this.updateWaves()},r.lateUpdate=function(){if(this._meshDirty){this.recalculateNormals();for(var t=this._mesh.data,i=new DataView(t.buffer),e=this._mesh.struct.vertexBundles[0].view,s=e.count,o=0;o<s;o++){var n=e.stride*o,r=3*o;i.setFloat32(n+Float32Array.BYTES_PER_ELEMENT,this._positions[r+1],c.isLittleEndian),i.setFloat32(n+3*Float32Array.BYTES_PER_ELEMENT,this._normals[r],c.isLittleEndian),i.setFloat32(n+4*Float32Array.BYTES_PER_ELEMENT,this._normals[r+1],c.isLittleEndian),i.setFloat32(n+5*Float32Array.BYTES_PER_ELEMENT,this._normals[r+2],c.isLittleEndian)}if(this._mesh.reset({struct:this._mesh.struct,data:this._mesh.data}),this._meshRenderer.receiveShadow=0,this._meshRenderer.shadowCastingMode=0,this._meshRenderer.mesh=this._mesh,this.debugPosition)for(var h=0;h<this._vertexLength;h++){var a=this._debugPosRoot.children[h],l=3*h;B.set(this._worldPositions[l],this._worldPositions[l+1],this._worldPositions[l+2]),a.setWorldPosition(B)}this._meshDirty=!1}},r.onDestroy=function(){this._debugHeightRoot&&this._debugHeightRoot.destroy(),this._debugMatPosition&&this._debugMatPosition.destroy()},r.getWaterHeight=function(t){var i=this.getSurroundingTrianglePolygon(t);if(i){a.subtract(B,i[1],i[0]),a.subtract(F,i[2],i[0]),a.cross(B,B,F),B.normalize(),B.y<0&&a.multiplyScalar(B,B,-1);var e=(-t.x*B.x-t.z*B.z+a.dot(i[0],B))/B.y;return this.debugHeight&&(B.set(t.x,e,t.z),this.drawDebugHeight(B,i)),e}return-Number.MAX_VALUE},r.getSurfaceNormal=function(t,i){var e=this.getSurroundingTrianglePolygon(t);null!=e&&(a.subtract(B,e[1],e[0]),a.subtract(F,e[2],e[0]),a.cross(i,B,F),i.y<0&&a.multiplyScalar(i,i,-1),i.normalize())},r.getIndex=function(t,i){return t*this.columns+i},r.getSurroundingTrianglePolygon=function(t){l.invert(k,this.node.worldMatrix),a.transformMat4(B,t,k);var i=B.x+this._offsetX,e=B.z+this._offsetZ,s=Math.ceil(i),o=Math.ceil(e);if(i<0||e<0||s>=this.rows||o>=this.columns)return null;var n=3*this.getIndex(s,o),r=3*this.getIndex(s-1,o-1),h=I[0],u=I[1],d=I[2],_=this._worldPositions;h.set(_[n],_[n+1],_[n+2]),u.set(_[r],_[r+1],_[r+2]),a.squaredDistance(h,t)>a.squaredDistance(u,t)&&a.copy(h,u);var g=3*this.getIndex(s-1,o),c=3*this.getIndex(s,o-1);return u.set(_[g],_[g+1],_[g+2]),d.set(_[c],_[c+1],_[c+2]),I},r.generateWaterMesh=function(){if(!this._mesh){var t=[],i=[],e=[];this._offsetX=this.tileSize*((this.rows-1)/2),this._offsetZ=this.tileSize*((this.columns-1)/2);for(var s=0;s<this.columns;s++)for(var o=0;o<this.rows;o++){var n=o+s*this.rows;t[3*n]=s*this.tileSize-this._offsetX,t[3*n+1]=0,t[3*n+2]=o*this.tileSize-this._offsetZ,e[3*n]=0,e[3*n+1]=1,e[3*n+2]=0,s<this.columns-1&&o<this.rows-1&&Array.prototype.push.apply(i,[n,n+1,n+this.rows+1,n,n+this.rows+1,n+this.rows])}for(var r=this.columns*this.rows-1,h=0;h<this.rows;h++){var a=r+h+1;t[3*a]=-this._offsetX,t[3*a+1]=this.bottom,t[3*a+2]=h*this.tileSize-this._offsetZ,e[3*a]=1,e[3*a+1]=0,e[3*a+2]=0,h<this.rows-1&&Array.prototype.push.apply(i,[a,h+1,h,a,a+1,h+1])}r+=this.rows;for(var l=0;l<this.rows;l++){var u=r+l+1;if(t[3*u]=this._offsetX,t[3*u+1]=this.bottom,t[3*u+2]=l*this.tileSize-this._offsetZ,e[3*u]=1,e[3*u+1]=0,e[3*u+2]=0,l<this.rows-1){var d=(this.columns-1)*this.rows;Array.prototype.push.apply(i,[u,l+d,l+1+d,u,l+1+d,u+1])}}r+=this.rows;for(var _=0;_<this.columns;_++){var g=r+_+1;t[3*g]=_*this.tileSize-this._offsetX,t[3*g+1]=this.bottom,t[3*g+2]=-this._offsetZ,e[3*g]=1,e[3*g+1]=0,e[3*g+2]=0,_<this.rows-1&&Array.prototype.push.apply(i,[g,_*this.rows,(_+1)*this.rows,g,(_+1)*this.rows,g+1])}r+=this.columns;for(var c=0;c<this.columns;c++){var f=r+c+1;t[3*f]=c*this.tileSize-this._offsetX,t[3*f+1]=this.bottom,t[3*f+2]=this._offsetZ,e[3*f]=1,e[3*f+1]=0,e[3*f+2]=0,c<this.rows-1&&Array.prototype.push.apply(i,[f,(c+1)*this.rows+this.columns-1,c*this.rows+this.columns-1,f,f+1,(c+1)*this.rows+this.columns-1])}this._mesh=b.createMesh({positions:t,indices:i,normals:e},void 0,{calculateBounds:!0}),this._mesh.onLoaded()}},r.drawDebugHeight=function(t,i){var e,s,o,n,r=t.x+"-"+t.y;this._debugHeightRoot.children.length>0?s=(e=this._debugHeightRoot.children[0]).getComponent(u):(e=new _(r),this._debugHeightRoot.addChild(e),s=e.addComponent(u)),s.mesh=this.DebugMeshBox,s.material=this.DebugMatHeight,e.worldScale=this._debugHeightScale,e.worldPosition=t,this._debugHeightRoot.children.length>1?n=(o=this._debugHeightRoot.children[1]).getComponent(u):(o=new _(r),this._debugHeightRoot.addChild(o),(n=o.addComponent(u)).mesh=this.DebugMeshLine,n.material=this.DebugMatLine);for(var h=this.DebugMeshLine,a=h.data,l=new DataView(a.buffer),d=h.struct.vertexBundles[0].view,g=d.count,b=0;b<g;b++){var f=d.stride*b;l.setFloat32(f,i[b].x,c.isLittleEndian),f=d.stride*b+Float32Array.BYTES_PER_ELEMENT,l.setFloat32(f,i[b].y,c.isLittleEndian),f=d.stride*b+2*Float32Array.BYTES_PER_ELEMENT,l.setFloat32(f,i[b].z,c.isLittleEndian)}h.reset({struct:h.struct,data:h.data}),n.mesh=h},r.updateWaves=function(){for(var t=0;t<this._vertexLength;t++){var i=3*t,e=this._basePositions[i+1];if(e<-this.height/this.node.scale.y-.001)return;e+=Math.sin(g.totalTime/1e3*this.speed+this._basePositions[i]+this._basePositions[i+1]+this._basePositions[i+2])*(this.height/this.node.scale.y),e+=y.snoise(this._basePositions[i]+this.noiseWalk,this._basePositions[i+1])*this.noiseStrength,this._positions[i+1]=e,B.set(this._positions[i],this._positions[i+1],this._positions[i+2]),a.transformMat4(B,B,this.node.worldMatrix),this._worldPositions[i]=B.x,this._worldPositions[i+1]=B.y,this._worldPositions[i+2]=B.z,this._meshDirty=!0}},r.recalculateNormals=function(){this._normals.fill(0,0,3*this._vertexLength+2);for(var t=0;t<this._faceLength;t++){var i=3*t,e=3*this._indices[i],s=3*this._indices[i+1],o=3*this._indices[i+2],n=I[0],r=I[1],h=I[2];n.set(this._worldPositions[e],this._worldPositions[e+1],this._worldPositions[e+2]),r.set(this._worldPositions[s],this._worldPositions[s+1],this._worldPositions[s+2]),h.set(this._worldPositions[o],this._worldPositions[o+1],this._worldPositions[o+2]),a.subtract(r,n,r),a.subtract(h,n,h),a.cross(r,r,h),this._normals[e]+=r.x,this._normals[e+1]+=r.y,this._normals[e+2]+=r.z,this._normals[s]+=r.x,this._normals[s+1]+=r.y,this._normals[s+2]+=r.z,this._normals[o]+=r.x,this._normals[o+1]+=r.y,this._normals[o+2]+=r.z}},n(i,[{key:"Density",get:function(){return this.density}},{key:"DebugMeshBox",get:function(){return null==this._debugMeshBox&&(this._debugMeshBox=new f(f.PrimitiveType.BOX),this._debugMeshBox.onLoaded()),this._debugMeshBox}},{key:"DebugMeshLine",get:function(){if(null==this._debugMeshLine){var t={positions:[0,0,0,1,1,1,0,0,1],indices:[0,1,0,2,1,2],primitiveMode:d.PrimitiveMode.LINE_LIST};this._debugMeshLine=b.createMesh(t),this._debugMeshLine.onLoaded()}return this._debugMeshLine}},{key:"DebugMatPos",get:function(){return null==this._debugMatPosition&&(this._debugMatPosition=new m,this._debugMatPosition.initialize({effectName:"unlit",defines:{USE_INSTANCING:!0}}),this._debugMatPosition.setProperty("mainColor",new p(255,0,0,255)),this._debugMatPosition.onLoaded()),this._debugMatPosition}},{key:"DebugMatHeight",get:function(){return null==this._debugMatHeight&&(this._debugMatHeight=new m,this._debugMatHeight.initialize({effectName:"unlit",defines:{USE_INSTANCING:!0},states:{depthStencilState:{depthFunc:d.ComparisonFunc.ALWAYS}}}),this._debugMatHeight.setProperty("mainColor",new p(255,255,0,255)),this._debugMatHeight.onLoaded()),this._debugMatHeight}},{key:"DebugMatLine",get:function(){return null==this._debugMatLine&&(this._debugMatLine=new m,this._debugMatLine.initialize({effectName:"unlit",defines:{USE_INSTANCING:!0},states:{depthStencilState:{depthFunc:d.ComparisonFunc.ALWAYS},rasterizerState:{cullMode:d.CullMode.NONE},primitive:d.PrimitiveMode.LINE_LIST}}),this._debugMatLine.setProperty("mainColor",p.BLACK),this._debugMatLine.onLoaded()),this._debugMatLine}}]),i}(w)).prototype,"density",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=i(M.prototype,"speed",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=i(M.prototype,"height",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),E=i(M.prototype,"noiseWalk",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),R=i(M.prototype,"noiseStrength",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),z=i(M.prototype,"rows",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),x=i(M.prototype,"columns",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),N=i(M.prototype,"tileSize",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=i(M.prototype,"bottom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-10}}),H=i(M.prototype,"debugPosition",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=i(M.prototype,"debugHeight",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=M))||P)||P);r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});